webpackJsonp([1],[function(e,t,i){e.exports=i(50)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(4),i(120),i(150),i(134);var n=["ui.router","ui.validate","ui.bootstrap","ui.load","ui.jq","ui.select","ngResource","ngAnimate","ngTouch","ngStorage","zhuziModels","angular-md5","ngDialog","angular-loading-bar","angularFileUpload","froala","ncy-angular-breadcrumb","captcha","ngSanitize","angularLazyImg"],o=angular.module("zhuzi-ucenter",n);t["default"]=o},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t={get:{method:"GET"},query:{method:"GET",isArray:!0},post:{method:"POST"},create:{method:"POST"},put:{method:"PUT"},update:{method:"PUT"},"delete":{method:"DELETE"},remove:{method:"DELETE"}};if("object"==("undefined"==typeof e?"undefined":a(e)))for(var i in e)if("undefined"!=typeof t[i]){if("object"==a(e[i]))for(var n in e[i])"method"==n&&e[i][n].toUpperCase(),t[i][n]=e[i][n]}else t[i]=e[i];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.appendConfig=t.models=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(8),s=n(r),c=i(2),l=["ngResource"],u=s["default"].module("modelResource",l);u.config(["$httpProvider","$resourceProvider",function(e,t){t.defaults.actions=o(),e.interceptors.push(function(){return{request:function(e){var t=(0,c.getAuthHeader)();for(var i in t)e.headers[i]=t[i];return e}}})}]);var d=s["default"].module("zhuziModels",["modelResource","ngCookies"]);t.models=d,t.appendConfig=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(27),a=n(o);i(171);var r={success:function(e){(0,a["default"])(e,{type:"success"})},info:function(e){(0,a["default"])(e,{type:"info"})},error:function(e){(0,a["default"])(e,{type:"danger"})},warning:function(e){(0,a["default"])(e,{type:"warning"})}};t["default"]=r},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("websiteListModel",["$resource",function(e){return e((0,o.apiPath)("sites"))}]),n.models.factory("websiteModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("websiteByTplIDModel",["$resource",function(e){return e((0,o.apiPath)("sites/tpls/:tplid"),{tplid:"@tplid"})}]),n.models.factory("deleteWebsiteModel",["$http",function(e){return function(t){return e({method:"delete",url:(0,o.apiPath)("sites/"+t.websiteid),data:{password:t.password}})}}]),n.models.factory("domainModel",["$http",function(e){return function(){return e({method:"get",url:(0,o.apiPath)("sites/domainList")})}}]),n.models.factory("transferSiteModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/push/touser"),{websiteid:"@websiteid"})}]),n.models.factory("bindDomainModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/domain/:domain"),{websiteid:"@websiteid",domain:"@domain"})}]),n.models.factory("delBindDomainModel",["$http",function(e){return function(t){return e({method:"delete",url:(0,o.apiPath)("sites/"+t.siteid+"/domain"),data:{siteid:t.siteid}})}}]),n.models.factory("websiteDomainModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/domain"),{websiteid:"@websiteid"})}]),n.models.factory("websitePagesModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/pages"),{websiteid:"@websiteid"})}]),n.models.factory("v2WebsitePagesModel",["$resource",function(e){return e((0,o.apiPath)("v2/sites/:websiteid/pages"))}]),n.models.factory("websitePageModel",["$resource",function(e){return e((0,o.apiPath)("pages/:pageid"),{pageid:"@pageid"})}]),n.models.factory("websiteModuleModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/module"),{websiteid:"@websiteid"})}]),n.models.factory("websiteModuleDeleteModel",["$http",function(e){return function(t,i){return e({url:(0,o.apiPath)("sites/"+t+"/module"),method:"DELETE",data:i})}}]),n.models.factory("kfModel",["$resource",function(e){return function(t,i,n){return t=t||{websiteid:"@websiteid"},e((0,o.apiPath)("marketing/:websiteid/kf"),t,i,n)}}]),n.models.factory("websiteRedirectUrlModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/redicturls"),{websiteid:"@websiteid"})}]),n.models.factory("websiteChangeIcoModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/changeIcon"),{websiteid:"@websiteid"})}]),n.models.factory("websitePublishModel",["$resource",function(e){return function(t,i,n){return t=t||{websiteid:"@websiteid"},e((0,o.apiPath)("sites/:websiteid/push"),t,i,n)}}]),n.models.factory("siteNodeModel",["$resource",function(e){return e((0,o.apiPath)("sites/nodes"))}]),n.models.factory("nodeSwitchModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/nodes/switch"),{siteid:"@siteid",nodeid:"@nodeid"})}]),n.models.factory("getFreeNodeModel",["$http",function(e){return function(){return e({method:"get",url:(0,o.apiPath)("sites/nodes/free")})}}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("getSiteDetailByDomainModel",["$resource",function(e){return function(t,i,n){return e((0,o.apiPath)("sites/detail/:freedomain",{freedomain:"@freedomain"}),t,i,n)}}]),n.models.factory("siteOfFreeDomainIsRegistered",["$resource",function(e){return e((0,o.apiPath)("sites/exist"))}]),n.models.factory("domainPriceModel",["$resource",function(e){return e((0,o.apiPath)("domain/price"))}]),n.models.factory("domainIsRegistedModel",["$resource",function(e){return function(t,i,n){return e((0,o.apiPath)("domain/query"),t,i,n)}}]),n.models.factory("domainListModel",["$resource",function(e){return e((0,o.apiPath)("domain"))}]),n.models.factory("domainDetailsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid"),{domainid:"@domainid"})}]),n.models.factory("domainDnsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/dns"),{domainid:"@domainid"})}]),n.models.factory("updateDomainDnsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/dns"),{domainid:"@domainid"})}]),n.models.factory("contactPersonTplModel",["$resource",function(e){return e((0,o.apiPath)("domain/contacttpl"))}]),n.models.factory("contactPersonTplDetailModel",["$resource",function(e){return e((0,o.apiPath)("domain/contacttpl/:contact_tplid"),{contact_tplid:"@contact_tplid"})}]),n.models.factory("createContactTplModel",["$resource",function(e){return e((0,o.apiPath)("domain/contacttpl"))}]),n.models.factory("updateContactTplModel",["$resource",function(e){return e((0,o.apiPath)("domain/contacttpl/:contact_tplid"),{contact_tplid:"@contact_tplid"})}]),n.models.factory("dnsLineModel",["$resource",function(e){return e((0,o.apiPath)("domain/record/line"))}]),n.models.factory("dnsTypeModel",["$resource",function(e){return e((0,o.apiPath)("domain/record/type"))}]),n.models.factory("dnsRecordModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/record"),{domainid:"@domainid"})}]),n.models.factory("addDnsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/record"),{domainid:"@domainid"})}]),n.models.factory("syncDnsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/record/sync"),{domainid:"@domainid"})}]),n.models.factory("updateDnsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/record/:recordid"),{domainid:"@domainid",recordid:"@recordid"})}]),n.models.factory("querySubDomain",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/record/query"),{domainid:"@domainid"})}]),n.models.factory("deleteDnsModel",["$resource",function(e){return e((0,o.apiPath)("domain/:domainid/record/:recordid"),{domainid:"@domainid",recordid:"@recordid"})}]),n.models.factory("customerBuyDomainGenerateUrlModels",["$resource",function(e){return function(t,i,n){return e((0,o.apiPath)("payment/orders/members/domain"),t,i,n)}}]),n.models.factory("checkOrder",["$resource",function(e){return e((0,o.apiPath)("payment/orders/members/(w+)/query"))}]),n.models.factory("getDomainDetailModel",["$resource",function(e){return function(t,i,n){return e((0,o.apiPath)("domain/detail"),t,i,n)}}]),n.models.factory("transferIntoListModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer"))}]),n.models.factory("transferOutModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer/output"))}]),n.models.factory("transferInSiteModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer/insite"))}]),n.models.factory("transferInSiteReceivedModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer/insite/in"))}]),n.models.factory("transferInSiteGiveModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer/insite/out"))}]),n.models.factory("transferInSiteSureReceiveModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer/insite/in/:id"),{id:"@id"})}]),n.models.factory("transferInSiteDeleteModel",["$resource",function(e){return e((0,o.apiPath)("domain/transfer/insite/out/:id"),{id:"@id"})}])},,function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("blogsModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs"),{siteid:"@siteid"})}]),n.models.factory("blogOperateModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid"),{siteid:"@siteid",blogid:"@blogid",unionid:"@unionid"})}]),n.models.factory("blogBatchModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs"),{siteid:"@siteid",blogs:"@blogs"})}]),n.models.factory("blogToPageModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/topage/:pageid"),{siteid:"@siteid",blogid:"@blogid",pageid:"@pageid",unionid:"@unionid"})}]),n.models.factory("blogOnePageModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/pages/:pageid"),{siteid:"@siteid",pageid:"@pageid"})}]),n.models.factory("blogPagesModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/pages"),{siteid:"@siteid",blogid:"@blogid"})}]),n.models.factory("blogSortModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/sort"),{siteid:"@siteid",blogid:"@blogid",pageid:"@pageid",next_blogid:"@next_blogid",prev_blogid:"@prev_blogid"})}]),n.models.factory("tagBlogsModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/tags/:tagid"),{siteid:"@siteid",tagid:"@tagid"})}]),n.models.factory("blogTagModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/tags"),{siteid:"@siteid"})}]),n.models.factory("blogToTopModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/pages/:pageid/top"),{siteid:"@siteid",blogid:"@blogid",pageid:"@pageid",need_top:"@need_top"})}]),n.models.factory("blogReadNumModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/readnum"),{siteid:"@siteid",blogid:"@blogid"})}]),n.models.factory("blogStarModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/star"),{siteid:"@siteid",blogid:"@blogid"})}]),n.models.factory("blogListModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/query"),{siteid:"@siteid"})}]),n.models.factory("blogRelatedModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/related"),{siteid:"@siteid",blogid:"@blogid"})}]),n.models.factory("blogNearModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/pages/:page/near"),{siteid:"@siteid",blogid:"@blogid",pages:"@pages"})}]),n.models.factory("blogSearchModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/search"),{siteid:"@siteid"})}]),n.models.factory("blogChangeStatusModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/blogs/:blogid/status"),{siteid:"@siteid",blogid:"@blogid",status:"@status"})}])},function(e,t,i){"use strict";var n=i(4),o=i(2),a=i(3);n.models.factory("registerModel",["$resource",function(e){return e((0,o.apiPath)("members/register"))}]),n.models.factory("tokenModel",["$resource",function(e){return e((0,o.apiPath)("members/tokens"))}]),n.models.factory("writeLoginCookie",["$cookies","$window",function(e,t){return function(i){var n={path:"/",domain:t.COOKIE_DOMAIN},o=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t};e.put(a.ZHUZI_MEMBERID,i.memberid,angular.extend({expires:o(i.token_expire)},n)),e.put(a.ZHUZI_ACCESSTOKEN_NAME,i.access_token,angular.extend({expires:o(i.token_expire)},n)),e.put(a.ZHUZI_REFRESHTOKEN_NAME,i.refresh_token,angular.extend({expires:o(i.refresh_expire)},n)),e.put(a.ZHUZI_ACCESSTOKEN_EXPIRE,1e3*i.token_expire+(new Date).getTime(),angular.extend({expires:o(i.token_expire)},n)),e.put(a.ZHUZI_REFRESHTOKEN_EXPIRE,1e3*i.refresh_expire+(new Date).getTime(),angular.extend({expires:o(i.refresh_expire)},n))}}]),n.models.factory("isRegistered",["$resource",function(e){return function(t,i,n){return e((0,o.apiPath)("members/informations/exists"),t,i,n)}}]),n.models.factory("clearLoginCookie",["$cookies","$window",function(e,t){return function(){var i={path:"/",domain:t.COOKIE_DOMAIN};e.remove(a.ZHUZI_ACCESSTOKEN_NAME,i),e.remove(a.ZHUZI_ACCESSTOKEN_EXPIRE,i),e.remove(a.ZHUZI_REFRESHTOKEN_NAME,i),e.remove(a.ZHUZI_REFRESHTOKEN_EXPIRE,i),e.remove(a.ZHUZI_MEMBERID,i)}}]),n.models.factory("userModel",["$resource",function(e){return e((0,o.apiPath)("members"))}]),n.models.factory("resetPwdModel",["$resource",function(e){return e((0,o.apiPath)("members/findpasswords"))}]),n.models.factory("logoutModel",["$http",function(e){return function(){e({url:(0,o.apiPath)("members/tokens"),method:"delete",data:{access_token:(0,o.getCookie)(a.ZHUZI_ACCESSTOKEN_NAME)}})}}]),n.models.factory("isWechatBindModel",["$resource",function(e){return e((0,o.apiPath)("wechat/isbind"))}]),n.models.factory("bindWechatModel",["$resource",function(e){return e((0,o.apiPath)("wechat/user"))}]),n.models.factory("isWeiboBindModel",["$resource",function(e){return e((0,o.apiPath)("weibo/isbind"))}]),n.models.factory("bindWeiboModel",["$resource",function(e){return e((0,o.apiPath)("weibo/user"))}]),n.models.factory("isQQBindModel",["$resource",function(e){return e((0,o.apiPath)("tencent/isbind"))}]),n.models.factory("bindQQModel",["$resource",function(e){return e((0,o.apiPath)("tencent/user"))}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},n=function(e,t){i(e,t)||(e.className+=" "+t)},o=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(i(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},a=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML},r=function(e){e.style.opacity="",e.style.display="block"},s=function(e){if(e&&!e.length)return r(e);for(var t=0;t<e.length;++t)r(e[t])},c=function(e){e.style.opacity="",e.style.display="none"},l=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},u=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},d=function(e){e.style.left="-9999px",e.style.display="block";var t,i=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((i+t)/2)+"px"},f=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-i)/100,i=+new Date,+e.style.opacity<1&&setTimeout(n,t)});n()}e.style.display="block"},p=function(e,t){t=t||16,e.style.opacity=1;var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-i)/100,i=+new Date,+e.style.opacity>0?setTimeout(n,t):e.style.display="none"});n()},m=function(e){if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!1,!1),e.dispatchEvent(i)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},g=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):window.event&&window.event.hasOwnProperty("cancelBubble")&&(window.event.cancelBubble=!0)};t.hasClass=i,t.addClass=n,t.removeClass=o,t.escapeHtml=a,t._show=r,t.show=s,t._hide=c,t.hide=l,t.isDescendant=u,t.getTopMargin=d,t.fadeIn=f,t.fadeOut=p,t.fireClick=m,t.stopEventPropagation=g},function(e,t,i){"use strict";"use strick";var n=i(4),o=i(2);n.models.factory("voucherModel",["$resource",function(e){return e((0,o.apiPath)("payment/voucher"))}]),n.models.factory("voucherOpModel",["$resource",function(e){return e((0,o.apiPath)("payment/voucher/:voucherid"),{voucherid:"@voucherid"})}]),n.models.factory("voucherUseModel",["$resource",function(e){return e((0,o.apiPath)("payment/voucher/:voucherid/use"),{voucherid:"@voucherid",siteid:"@siteid"})}])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=p[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(l(n.parts[a],t))}else{for(var r=[],a=0;a<n.parts.length;a++)r.push(l(n.parts[a],t));p[n.id]={id:n.id,refs:1,parts:r}}}}function o(e){for(var t=[],i={},n=0;n<e.length;n++){var o=e[n],a=o[0],r=o[1],s=o[2],c=o[3],l={css:r,media:s,sourceMap:c};i[a]?i[a].parts.push(l):t.push(i[a]={id:a,parts:[l]})}return t}function a(e,t){var i=h(),n=w[w.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),w.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=w.indexOf(e);t>=0&&w.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var i,n,o;if(t.singleton){var a=v++;i=b||(b=s(t)),n=u.bind(null,i,a,!1),o=u.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=c(t),n=f.bind(null,i),o=function(){r(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),n=d.bind(null,i),o=function(){r(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function u(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function d(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function f(e,t){var i=t.css,n=t.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var p={},m=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=m(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,v=0,w=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=o(e);return n(i,t),function(e){for(var a=[],r=0;r<i.length;r++){var s=i[r],c=p[s.id];c.refs--,a.push(c)}if(e){var l=o(e);n(l,t)}for(var r=0;r<a.length;r++){var c=a[r];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete p[c.id]}}}};var y=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(16),a=i(11),r=i(29),s=n(r),c=i(175),l=n(c),u=".sweet-alert",d=".sweet-overlay",f=function(){var e=document.createElement("div");for(e.innerHTML=l["default"];e.firstChild;)document.body.appendChild(e.firstChild)},p=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=document.querySelector(u);return e||(f(),e=p()),e}),m=function(){var e=p();if(e)return e.querySelector("input")},g=function(){return document.querySelector(d)},h=function(e,t){var i=o.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(e){var t=p();a.fadeIn(g(),10),a.show(t),a.addClass(t,"showSweetAlert"),a.removeClass(t,"hideSweetAlert"),window.previousActiveElement=document.activeElement;var i=t.querySelector("button.confirm");i.focus(),setTimeout(function(){a.addClass(t,"visible")},500);var n=t.getAttribute("data-timer");if("null"!==n&&""!==n){var o=e;t.timeout=setTimeout(function(){var e=(o||null)&&"true"===t.getAttribute("data-has-done-function");e?o(null):sweetAlert.close()},n)}},v=function(){var e=p(),t=m();a.removeClass(e,"show-input"),t.value=s["default"].inputValue,t.setAttribute("type",s["default"].inputType),t.setAttribute("placeholder",s["default"].inputPlaceholder),w()},w=function(e){if(e&&13===e.keyCode)return!1;var t=p(),i=t.querySelector(".sa-input-error");a.removeClass(i,"show");var n=t.querySelector(".sa-error-container");a.removeClass(n,"show")},y=function(){var e=p();e.style.marginTop=a.getTopMargin(p())};t.sweetAlertInitialize=f,t.getModal=p,t.getOverlay=g,t.getInput=m,t.setFocusStyle=h,t.openModal=b,t.resetInput=v,t.resetInputError=w,t.fixVerticalPosition=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},n=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},o=function(){return window.attachEvent&&!window.addEventListener},a=function(e){window.console&&window.console.log("SweetAlert: "+e)},r=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,n,o="#";for(n=0;n<3;n++)i=parseInt(e.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),o+=("00"+i).substr(i.length);return o};t.extend=i,t.hexToRgb=n,t.isIE8=o,t.logStr=a,t.colorLuminance=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("pages",function(){function e(e,t,i,n){function o(){var t=e.total||0;if(!(t<=0)){e.pageNum=Math.ceil(parseInt(t)/parseInt(a)),e.page=Math.max(i.page||0,1);var n=e.page-r,o=e.page+r;n<=0&&(n=1),o>e.pageNum&&(o=e.pageNum),e.first=!1,n>1&&(e.first=!0),e.last=!1,o<e.pageNum&&(e.last=!0),e.pages=[];for(var s=n;s<=o;s++)e.pages.push(s)}}var a=e.pageSize||20,r=3;e.$watch("total",function(){o()}),o(),e.selectPage=function(t,n){n.stopPropagation(),i.page=t,e.onPageChange({pageNo:t}),o()}}var t='\n            <ul class="pagination" ng-if="pageNum>1">\n              <li ng-show="page > 1" class="page-item"><a href ng-click="selectPage(page-1, $event)">&laquo;</a></li>\n              <li ng-show="first" class="page-item"><a href ng-click="selectPage(1, $event)">1</a></li>\n              <li ng-show="first" class="page-item">...</li>\n              <li ng-repeat="item in pages track by $index" ng-class="{active: page==item}" class="page-item"><a href ng-click="selectPage(item, $event)">{{item}}</a></li>\n              <li ng-show="last" class="page-item">...</li>\n              <li ng-show="last" class="page-item"><a href ng-click="selectPage(pageNum,$event)">{{pageNum}}</a></li>\n              <li ng-show="page < pageNum" class="page-item"><a href ng-click="selectPage(page+1, $event)">&raquo;</a></li>\n            </ul>\n       ';return{template:t,link:e,scope:{onPageChange:"&onPageChange",pageSize:"=pageSize",total:"=total"}}})},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("getIntegralListModel",["$resource",function(e){return e((0,o.apiPath)("payment/integral/records/list"))}]),n.models.factory("getGoodsModel",["$resource",function(e){return e((0,o.apiPath)("goods"))}]),n.models.factory("integralBuyGoodModel",["$resource",function(e){return e((0,o.apiPath)("payment/orders/members/integral"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("paymentPlatformListModel",["$http",function(e){return function(){return e({method:"get",url:(0,o.apiPath)("payment/platforms")})}}]),n.models.factory("trialGoodModel",["$resource",function(e){return e((0,o.apiPath)("payment/try/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("payGoodModel",["$resource",function(e){return e((0,o.apiPath)("payment/orders/members"))}]),n.models.factory("balanceModel",["$resource",function(e){return function(t,i,n){return e((0,o.apiPath)("payment/members/:memberid/balance"),t,i,n)}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].factory("getColNumService",function(){return function(e){return 1==e?6:5==e?"2-4":e>0&&e<=6?12/e:3}}),a["default"].factory("usefulTimeService",function(){return{usefulTime:function(e){var t={days:0,years:0},i=864e5,n=Math.ceil(e/i),o=Math.floor(n/365);return o>0&&(t.years=o,n=Math.floor(n%365)),t.days=n,t}}}),a["default"].factory("goodsInfoService",function(){var e=function(e){return"try"==e.logo?"试用版":e.name.indexOf("-")>-1?e.name.split("-")[0]:e.name},t=function(e){var t=86400,i=2592e3,n=31536e3,o="";return e>=0&&e<i?(o=Math.round(e/t),[o+"天","天"]):e>=i&&e<n?(o=Math.round(e/i),[o+"个月","月"]):e>=n?(o=parseInt(e/n),[o+"年","年"]):void 0};return{getGoodsTypes:function(t,i){var n=[];return t.list.forEach(function(t,o){var a=t.logo.split("_")[0];n.indexOf(a)==-1&&(n.push(a),i.push({group:a,groupName:e(t),list:[]}))}),i},reStructure:function(e,i){return e.list.forEach(function(e,n){i.forEach(function(n,o){if(e.logo.indexOf(n.group)>-1){var a=t(e.time_length);e.buyTime={detailTime:a[0],timeType:a[1]},i[o].list.push(e)}})}),i}}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(6),a["default"].factory("zzLevelSitepages",function(){return function(e){function t(e,n){angular.isArray(e)&&e.map(function(e,o,a){for(var r="",s=0;s<n;s++)r+="　";0==e.parentid?e.treePageName=r+"--"+e.page_name:e.treePageName=r+"|--"+e.page_name,i.push(e),e.hasOwnProperty("nodes")&&e.nodes.length&&t(e.nodes,n+1)})}var i=[];return t(e,0),i}}),a["default"].factory("getPagesLevelService",["v2WebsitePagesModel","$q","zzLevelSitepages",function(e,t,i){var n=function(e){var t=function i(t){var n=[];return e.forEach(function(e,o){e.parentid===t&&(e.nodes=i(e.pageid),n.push(e))}),n};return t(0)};return function(o){var a=t.defer(),r=[],s=e.query({websiteid:o});return s.$promise.then(function(e){r=n(e),r.sort(function(e,t){return e.sort-t.sort}),r=i(r),a.resolve(r)},function(){a.reject([])}),a.promise}}]),a["default"].factory("valueToObjService",function(){return function(e,t){var i={};if(!("number"==typeof t&&t<0))return e.forEach(function(e){e.value==t&&(i=e)}),i}})},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("memberBalanceModel",["$resource",function(e){return e((0,o.apiPath)("payment/members/:memberid/balance"),{memberid:"@memberid"})}]),n.models.factory("cashExchangeIntegralModel",["$resource",function(e){return e((0,o.apiPath)("payment/integral/exchange"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("formSettingListModel",["$resource",function(e){return e((0,o.apiPath)("forms/setting/page/:siteid"),{siteid:"@siteid"})}]),n.models.factory("formSettingDetailModel",["$resource",function(e){return e((0,o.apiPath)("forms/setting/:websiteid/:formid"),{websiteid:"@websiteid",formid:"@formid"})}]),n.models.factory("formSettingDeleteModel",["$http",function(e){return function(t,i,n){return e({url:(0,o.apiPath)("forms/setting/"+t+"/"+i+"/"+n),method:"DELETE"})}}]),n.models.factory("formDataListModel",["$resource",function(e){return e((0,o.apiPath)("forms/data/list/:websiteid/:formid"),{websiteid:"@websiteid",formid:"@formid"})}]),n.models.factory("formDataDetailModel",["$resource",function(e){return e((0,o.apiPath)("forms/data/:websiteid/:formid/:formdataid"),{websiteid:"@websiteid",formid:"@formid",formdataid:"@formdataid"})}]),n.models.factory("formDataExportModel",["$resource",function(e){return e((0,o.apiPath)("forms/export/:websiteid/:formid"),{websiteid:"@websiteid",formid:"@formid",start_time:"@start_time",end_time:"@end_time"})}]),n.models.factory("formDataExportQueryModel",["$resource",function(e){return e((0,o.apiPath)("forms/export/:uuid"),{uuid:"@uuid"})}]),n.models.factory("formDataDownloadModel",["$resource",function(e){return e((0,o.apiPath)("qiniu/key/download"))}]),n.models.factory("formPushListModel",["$resource",function(e){return e((0,o.apiPath)("forms/push/:websiteid/:formid/list"),{websiteid:"@websiteid",formid:"@formid"})}]),n.models.factory("formPushDeleteModel",["$resource",function(e){return e((0,o.apiPath)("forms/push/:websiteid/:formid/:pushid"),{websiteid:"@websiteid",formid:"@formid",pushid:"@pushid"})}]),n.models.factory("formCategoryModel",["$resource",function(e){return e((0,o.apiPath)("forms/category/:websiteid/:formid"),{websiteid:"@websiteid",formid:"@formid"})}]),n.models.factory("formDwnloadModel",["$resource",function(e){return e((0,o.apiPath)("qiniu/key/download"))}]),n.models.factory("qiniuUpload",["$resource",function(e){return e((0,o.apiPath)("qiniu/key/upload"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("orderModel",["$resource",function(e){return e((0,o.apiPath)("sites/:siteid/orders/:orderid"),{siteid:"@siteid",orderid:"@orderid"})}]),n.models.factory("orderListModel",["$resource",function(e){return function(t,i,n){return t=t||{siteid:"@siteid"},e((0,o.apiPath)("sites/:siteid/orders"),t,i,n)}}]),n.models.factory("orderStatusModel",["$resource",function(e){return e((0,o.apiPath)("sites/orders/statuses"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("templateCategoryModel",["$resource",function(e){return e((0,o.apiPath)("tpls/categories"))}]),n.models.factory("templateModel",["$resource",function(e){return e((0,o.apiPath)("tpls"))}]),n.models.factory("templateDetailModel",["$resource",function(e){return e((0,o.apiPath)("tpls/:tplid",{tplid:"@tplid"}))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("tuiguangAwardListModel",["$resource",function(e){return e((0,o.apiPath)("payment/cashback/list"))}]),n.models.factory("getCashbackRulesModel",["$resource",function(e){return e((0,o.apiPath)("payment/cashback/rule"))}]),n.models.factory("getCashbackRuleDetailModel",["$resource",function(e){
return e((0,o.apiPath)("payment/cashback/rule/:logo"),{logo:"@logo"})}]),n.models.factory("getIntegralRulesModel",["$resource",function(e){return e((0,o.apiPath)("payment/integral/rules"))}])},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};t["default"]=i,e.exports=t["default"]},,,,function(e,t){/*! angular-breadcrumb - v0.5.0
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2016 Nicolas Cuillery; Licensed MIT */
!function(e,t,i){"use strict";function n(e,i){return t.equals(e.length,i.length)?e>i:e.length>i.length}function o(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function a(e,t,n,o){var a=u[e];a!==i&&a(),a=t.$on(n,o),u[e]=a}function r(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,templateLast:"default",templateLastUrl:null,includeAbstract:!1};this.setOptions=function(i){t.extend(e,i)},this.$get=["$state","$stateParams","$rootScope",function(t,r,s){var c=s;a("$Breadcrumb.$viewContentLoaded",s,"$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&n(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var l=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],i="object"==typeof t;return i?t.name:t},u=function(i,n){for(var a,s,l=o(n),u=!1,d=!1,f=0,p=i.length;f<p;f+=1)if(i[f].name===l.state)return;a=t.get(l.state),a.ncyBreadcrumb&&(a.ncyBreadcrumb.force&&(u=!0),a.ncyBreadcrumb.skip&&(d=!0)),a["abstract"]&&!e.includeAbstract&&!u||d||(l.paramExpr&&(s=c.$eval(l.paramExpr)),a.ncyBreadcrumbLink=t.href(l.state,s||r||{}),a.ncyBreadcrumbStateRef=n,i.unshift(a))},d=function(e){var i=o(e),n=t.get(i.state);if(n.ncyBreadcrumb&&n.ncyBreadcrumb.parent){var a="function"==typeof n.ncyBreadcrumb.parent,r=a?n.ncyBreadcrumb.parent(c):n.ncyBreadcrumb.parent;if(r)return r}return l(n)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getTemplateLast:function(t){return e.templateLastUrl?null:t[e.templateLast]?t[e.templateLast]:e.templateLast},getTemplateLastUrl:function(){return e.templateLastUrl},getStatesChain:function(i){for(var n=[],o=t.$current.self.name;o;o=d(o))if(u(n,o),i&&n.length)return n;return e.prefixStateName&&u(n,e.prefixStateName),n},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:i},$getLastViewScope:function(){return c}}}]}function s(e,i,n){var o={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:i.getTemplate(o),templateUrl:i.getTemplateUrl(),link:{post:function(o){var r=[],s=function(){p(r),r=[];var n=i.$getLastViewScope();o.steps=i.getStatesChain(),t.forEach(o.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var i=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=i(n),f(r,i,n,t)}else t.ncyBreadcrumbLabel=t.name})};a("BreadcrumbDirective.$viewContentLoaded",n,"$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||s()}),s()}}}}function c(e,t,i){var n={"default":"{{ncyBreadcrumbLabel}}"};return{restrict:"A",scope:{},template:t.getTemplateLast(n),templateUrl:t.getTemplateLastUrl(),compile:function(n,o){var r=n.attr(o.$attr.ncyBreadcrumbLast);return r&&n.html(r),{post:function(n){var o=[],r=function(){p(o),o=[];var i=t.$getLastViewScope(),a=t.getLastStep();if(a)if(n.ncyBreadcrumbLink=a.ncyBreadcrumbLink,a.ncyBreadcrumb&&a.ncyBreadcrumb.label){var r=e(a.ncyBreadcrumb.label);n.ncyBreadcrumbLabel=r(i),f(o,r,i,n)}else n.ncyBreadcrumbLabel=a.name};a("BreadcrumbLastDirective.$viewContentLoaded",i,"$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||r()}),r()}}}}}function l(e,i,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(o,r){var s=o.attr(r.$attr.ncyBreadcrumbText);s&&o.html(s);var c=o.attr(r.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(o){var r=[],s=function(e,i,n){t.forEach(d(i),function(t){var i=n.$watch(t,function(e,t){e!==t&&l()});e.push(i)})},l=function(){p(r),r=[];var n=i.$getLastViewScope(),a=i.getStatesChain(),l=[];t.forEach(a,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var i=e(t.ncyBreadcrumb.label);l.push(i(n)),s(r,i,n)}else l.push(t.name)}),o.ncyBreadcrumbChain=l.join(c)};a("BreadcrumbTextDirective.$viewContentLoaded",n,"$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||l()}),l()}}}}}var u={},d=function(e){if(e.expressions)return e.expressions;var i=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&i.push(e.exp)}),i},f=function(e,i,n,o){t.forEach(d(i),function(t){var a=n.$watch(t,function(){o.ncyBreadcrumbLabel=i(n)});e.push(a)})},p=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],l.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",r).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",l)}(window,window.angular)},,,,function(e,t){angular.module("angularLazyImg",[]),angular.module("angularLazyImg").factory("LazyImgMagic",["$window","$rootScope","lazyImgConfig","lazyImgHelpers",function(e,t,i,n){"use strict";function o(){for(var e=m.length-1;e>=0;e--){var t=m[e];t&&n.isElementInView(t.$elem[0],h.offset,f)&&(l(t),m.splice(e,1))}0===m.length&&s()}function a(e){w.forEach(function(t){t[e]("scroll",b),t[e]("touchmove",b)}),p[e]("resize",b),p[e]("resize",v)}function r(){g=!0,setTimeout(function(){o(),a("on")},1)}function s(){g=!1,a("off")}function c(e){var t=m.indexOf(e);t!==-1&&m.splice(t,1)}function l(e){var i=new Image;i.onerror=function(){h.errorClass&&e.$elem.addClass(h.errorClass),t.$emit("lazyImg:error",e),h.onError(e)},i.onload=function(){u(e.$elem,e.src),h.successClass&&e.$elem.addClass(h.successClass),t.$emit("lazyImg:success",e),h.onSuccess(e)},i.src=e.src}function u(e,t){"img"===e[0].nodeName.toLowerCase()?e[0].src=t:e.css("background-image",'url("'+t+'")')}function d(e){this.$elem=e}var f,p,m,g,h,b,v,w;return m=[],g=!1,h=i.getOptions(),p=angular.element(e),f=n.getWinDimensions(),v=n.throttle(function(){f=n.getWinDimensions()},60),w=[h.container||p],b=n.throttle(o,30),d.prototype.setSource=function(e){this.src=e,m.unshift(this),g||r()},d.prototype.removeImage=function(){c(this),0===m.length&&s()},d.prototype.checkImages=function(){o()},d.addContainer=function(e){s(),w.push(e),r()},d.removeContainer=function(e){s(),w.splice(w.indexOf(e),1),r()},d}]),angular.module("angularLazyImg").provider("lazyImgConfig",function(){"use strict";this.options={offset:100,errorClass:null,successClass:null,onError:function(){},onSuccess:function(){}},this.$get=function(){var e=this.options;return{getOptions:function(){return e}}},this.setOptions=function(e){angular.extend(this.options,e)}}),angular.module("angularLazyImg").factory("lazyImgHelpers",["$window",function(e){"use strict";function t(){return{height:e.innerHeight,width:e.innerWidth}}function i(e,t,i){var n=e.getBoundingClientRect(),o=i.height+t;return n.left>=0&&n.right<=i.width+t&&(n.top>=0&&n.top<=o||n.bottom<=o&&n.bottom>=0-t)}function n(e,t,i){var n,o;return function(){var a=i||this,r=+new Date,s=arguments;n&&r<n+t?(clearTimeout(o),o=setTimeout(function(){n=r,e.apply(a,s)},t)):(n=r,e.apply(a,s))}}return{isElementInView:i,getWinDimensions:t,throttle:n}}]),angular.module("angularLazyImg").directive("lazyImg",["$rootScope","LazyImgMagic",function(e,t){"use strict";function i(i,n,o){var a=new t(n);o.$observe("lazyImg",function(e){e&&a.setSource(e)}),i.$on("$destroy",function(){a.removeImage()}),e.$on("lazyImg.runCheck",function(){a.checkImages()}),e.$on("lazyImg:refresh",function(){a.checkImages()})}return{link:i,restrict:"A"}}]).directive("lazyImgContainer",["LazyImgMagic",function(e){"use strict";function t(t,i){e.addContainer(i),t.$on("$destroy",function(){e.removeContainer(i)})}return{link:t,restrict:"A"}}])},,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=i(1),r=n(a),s=i(2),c=i(5),l=n(c);i(51),i(17),i(127),i(123),i(125),i(128),i(121),i(126),i(122),i(130),i(129),i(139),i(132),i(133),i(135),i(136),i(137),i(138),i(131),i(124),i(10),i(152),i(151),i(149),i(147),i(148),i(20),i(177),i(33),i(37),i(172),i(153),i(76),i(77),i(78),i(117),i(99),i(116),i(91),i(67),i(68),i(70),i(69),i(75),i(74),i(73),i(71),i(72),i(63),i(64),i(61),i(62),i(66),i(65),i(58),i(56),i(59),i(60),i(57),i(55),i(54),i(53),i(112),i(113),i(108),i(109),i(110),i(118),i(87),i(94),i(104),i(107),i(106),i(103),i(105),i(101),i(102),i(111),i(84),i(82),i(85),i(83),i(81),i(86),i(97),i(96),i(95),i(98),i(114),i(115),i(90),i(89),i(88),i(93),i(92),i(100),i(80),i(79),i(52);var u=i(3);r["default"].factory("httpProcessing",function(){var e=!1;return{processing:e}}),r["default"].factory("loadFroalaService",function(){return function(){var e=[(0,s.staticPath)("js/froala/froala_editor.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/align.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/code_beautifier.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/code_view.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/colors.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/entities.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/font_family.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/font_size.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/forms.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/image.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/video.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/fullscreen.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/inline_style.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/line_breaker.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/line_height.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/link.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/lists.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/paragraph_format.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/paragraph_style.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/quote.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/save.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/table.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/url.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/line_height.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/plugins/letter_spacing.min.js?"+window.VERSION.js),(0,s.staticPath)("js/froala/languages/zh_cn.js?"+window.VERSION.js)],t=[(0,s.staticPath)("css/froala/froala_editor.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/froala_style.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/code_view.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/colors.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/fullscreen.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/line_breaker.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/table.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/image.min.css?"+window.VERSION.js),(0,s.staticPath)("css/froala/plugins/video.min.css?"+window.VERSION.js)];return e.concat(t)}}),r["default"].config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider",function(e,t,n,o){t.otherwise("/website"),t.when("/","/user"),t.when("/user","/user/normal"),t.when("/finance","/finance/normal"),t.when("/domainManage","/domainManage/register"),t.when("/tuiguang","/tuiguang/award"),t.when("/integralShop","/integralShop/shop"),t.when("/account","/account/login"),t.when("/login","/account/login"),t.when("/register","/account/register"),t.when("/bind","/account/bind"),t.when("/reset","/account/reset"),t.when("/website/:websiteid/article","/website/:websiteid/article/list/:pageid"),t.when("/website/:websiteid/article/","/website/:websiteid/article/list/:pageid"),o.hashPrefix(""),e.state("login",{url:"/login"}).state("register",{url:"/register"}).state("reset",{url:"/reset"}).state("bind",{url:"/bind"}).state("account",{url:"/account",views:{"":{template:i(161)},"nav@entry":{template:i(163)}},"abstract":!0,onEnter:["$rootScope",function(e){e.setTitle("用户登录")}]}).state("account.login",{url:"/login/:mobile",views:{"content@entry":{template:i(162),controller:"loginController"}},onEnter:["$rootScope",function(e){e.setTitle("用户登录")}]}).state("account.register",{url:"/register",views:{"content@entry":{template:i(164),controller:"registerController"}},resolve:{cssLoad:["uiLoad",function(e){return e.load(["http://static.geetest.com/static/tools/gt.js"])}]},onEnter:["$rootScope",function(e){e.setTitle("用户注册")}]}).state("account.reset",{url:"/reset",views:{"content@entry":{template:i(165),controller:"resetController"}},resolve:{cssLoad:["uiLoad",function(e){return e.load(["http://static.geetest.com/static/tools/gt.js"])}]},onEnter:["$rootScope",function(e){e.setTitle("重置密码")}]}).state("account.bind",{url:"/bind",views:{"content@entry":{templateUrl:(0,s.staticPath)("/tpl/user/bindConfirm.html"),controller:"loginController"}},onEnter:["$rootScope",function(e){e.setTitle("绑定账号页面")}]}).state("userAgreement",{url:"/userAgreement",templateUrl:(0,s.staticPath)("/tpl/website/userAgreement.html"),onEnter:["$rootScope",function(e){e.setTitle("用户协议")}]}).state("website.detail.createSite",{url:"/createSite",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/createSite/selectWay.html"),controller:["$scope","clearCreateSiteSessionStorage","$stateParams","$state",function(e,t,i,n){e.clearCreateSiteSessionStorage=function(){t()},e.backAction=function(){i.websiteid?n.go("website.detail",{websiteid:parseInt(i.websiteid)}):n.go("website")}}]}},onEnter:["$rootScope",function(e){e.setTitle("新建网站")}]}).state("createSite",{url:"/createSite",params:{params:{}},views:{"":{templateUrl:(0,s.staticPath)("/tpl/createSite/index.html")}},controller:"createSiteController",resolve:{plugs:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/city/cityselect.js"),(0,s.staticPath)("/css/template.css")])}]},onEnter:["$rootScope",function(e){e.setTitle("新建网站")}]}).state("template",{url:"/template",params:{params:{}},views:{"":{templateUrl:(0,s.staticPath)("/tpl/template/index.html")},"header@template":{templateUrl:(0,s.staticPath)("/tpl/template/header.html")},"preview@template":{templateUrl:(0,s.staticPath)("/tpl/template/preview.html")}},resolve:{cssLoad:["uiLoad",function(e){return e.load([(0,s.staticPath)("/css/template.css"),(0,s.staticPath)("/js/jquery.waypoints.min.js")])}]},onEnter:["$rootScope",function(e){e.setTitle("模版列表")}]}).state("user",{url:"/user",views:{"":{templateUrl:(0,s.staticPath)("/tpl/user/index.html")},"nav@user":{templateUrl:(0,s.staticPath)("/tpl/website/nav.html")},"sidebar@user":{templateUrl:(0,s.staticPath)("/tpl/user/sidebar.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")}},onEnter:["$rootScope",function(e){e.setTitle("用户中心")}]}).state("user.normal",{url:"/normal",templateUrl:(0,s.staticPath)("/tpl/user/normal.html"),controller:"userNormalController",onEnter:["$rootScope",function(e){e.setTitle("一般设置"),e.switchSidebar(!1)}],resolve:{cssLoad:["uiLoad",function(e){return e.load(["http://static.geetest.com/static/tools/gt.js"])}]}}).state("user.bind",{url:"/bind",templateUrl:(0,s.staticPath)("/tpl/user/bind.html"),controller:"bindAccountController",onEnter:["$rootScope",function(e){e.setTitle("关联账号"),e.switchSidebar(!1)}]}).state("finance",{url:"/finance",views:{"":{templateUrl:(0,s.staticPath)("/tpl/finance/index.html")},"nav@finance":{templateUrl:(0,s.staticPath)("/tpl/website/nav.html")},"sidebar@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/sidebar.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")}},onEnter:["$rootScope",function(e){e.setTitle("财务管理"),e.switchSidebar(!1)}]}).state("finance.normal",{url:"/normal",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/normal.html"),controller:"financeController"}},onEnter:["$rootScope",function(e){e.setTitle("财务一览"),e.switchSidebar(!1)}]}).state("finance.order",{url:"/order",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/order.html"),controller:"memberOrderController"}},onEnter:["$rootScope",function(e){e.setTitle("订单列表"),e.switchSidebar(!1)}]}).state("finance.voucher",{url:"/voucher",params:{params:{}},views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/voucher/list.html"),controller:"voucherController"}},onEnter:["$rootScope",function(e){e.setTitle("抵扣券列表"),e.switchSidebar(!1)}]}).state("finance.voucher.use",{url:"/:voucherid/use",params:{params:{}},views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/voucher/useVoucher.html"),controller:"voucherController"}},onEnter:["$rootScope",function(e){e.setTitle("使用抵扣券"),e.switchSidebar(!1)}]}).state("finance.withdraw",{url:"/withdraw",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/withdraw/list.html"),controller:"withdrawController"}},onEnter:["$rootScope",function(e){e.setTitle("账号提现"),e.switchSidebar(!1)}]}).state("finance.withdraw.create",{url:"/create",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/withdraw/create.html"),controller:"withdrawController"}},onEnter:["$rootScope",function(e){e.setTitle("提现申请"),e.switchSidebar(!1)}]}).state("finance.withdraw.detail",{url:"/detail/:id",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/finance/withdraw/detail.html")}},onEnter:["$rootScope",function(e){e.setTitle("提现详情"),e.switchSidebar(!1)}]}).state("finance.cashback",{url:"/cashback",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/tuiguang/awardList.html")}},onEnter:["$rootScope",function(e){e.setTitle("返现记录"),e.switchSidebar(!1)}]}).state("finance.integral",{url:"/integral",views:{"body@finance":{templateUrl:(0,s.staticPath)("/tpl/integralShop/integralList.html")}},onEnter:["$rootScope",function(e){e.setTitle("积分记录"),e.switchSidebar(!1)}]}).state("tuiguang",{url:"/tuiguang",views:{"":{templateUrl:(0,s.staticPath)("tpl/tuiguang/index.html")},"nav@tuiguang":{templateUrl:(0,s.staticPath)("/tpl/website/nav.html")},"sidebar@tuiguang":{templateUrl:(0,s.staticPath)("tpl/tuiguang/sidebar.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")}},onEnter:["$rootScope",function(e){e.setTitle("推广有奖"),e.switchSidebar(!1)}]}).state("tuiguang.award",{url:"/award",views:{"body@tuiguang":{templateUrl:(0,s.staticPath)("/tpl/tuiguang/award.html"),controller:"tuiguangController"},onEnter:["$rootScope",function(e){e.setTitle("推广有奖"),e.switchSidebar(!1)}]},resolve:{cssLoad:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/clipboard.min.js")])}]}}).state("tuiguang.awardList",{url:"/awardList",views:{"body@tuiguang":{templateUrl:(0,s.staticPath)("/tpl/tuiguang/awardList.html")},onEnter:["$rootScope",function(e){e.setTitle("返现记录"),e.switchSidebar(!1)}]}}).state("integralShop",{url:"/integralShop",views:{"":{templateUrl:(0,s.staticPath)("tpl/integralShop/index.html")},"nav@integralShop":{templateUrl:(0,s.staticPath)("/tpl/website/nav.html")},"sidebar@integralShop":{templateUrl:(0,s.staticPath)("tpl/integralShop/sidebar.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")}},onEnter:["$rootScope",function(e){e.setTitle("积分商城")}]}).state("integralShop.normal",{url:"/normal",views:{"body@integralShop":{templateUrl:(0,s.staticPath)("/tpl/integralShop/normal.html"),controller:"integralNormalController"},onEnter:["$rootScope",function(e){e.setTitle("积分一览"),e.switchSidebar(!1)}]}}).state("integralShop.shop",{url:"/shop",params:{params:{}},views:{"body@integralShop":{templateUrl:(0,s.staticPath)("/tpl/integralShop/shop.html"),controller:"integralShopController"},onEnter:["$rootScope",function(e){e.setTitle("积分商城"),e.switchSidebar(!1)}]}}).state("integralShop.integralList",{url:"/integralList",views:{"body@integralShop":{templateUrl:(0,s.staticPath)("/tpl/integralShop/integralList.html")},onEnter:["$rootScope",function(e){e.setTitle("积分记录"),e.switchSidebar(!1)}]}}).state("domainManage",{url:"/domainManage",views:{"":{templateUrl:(0,s.staticPath)("/tpl/domain/index.html")},"body@domain":{},"nav@domain":{templateUrl:(0,s.staticPath)("/tpl/website/nav.html")},"sidebar@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/sidebar.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")}},ncyBreadcrumb:{label:"域名管理"},onEnter:["$rootScope",function(e){e.setTitle("域名中心")}]}).state("domain",{url:"/domain",templateUrl:(0,s.staticPath)("/tpl/domain/domainIndex/domainIndex.html"),controller:"domainRegisterController",resolve:{cssLoad:["uiLoad",function(e){return e.load([(0,s.staticPath)("/css/domain.css"),(0,s.staticPath)("/css/template.css"),(0,s.staticPath)("/js/domain/textillate/assets/jquery.fittext.js"),(0,s.staticPath)("/js/domain/textillate/assets/jquery.lettering.js"),(0,s.staticPath)("/js/domain/textillate/jquery.textillate.js"),(0,s.staticPath)("/js/domain/TweenMax.min.js"),(0,s.staticPath)("js/wow/wow.min.js")])}]},onEnter:["$rootScope",function(e){e.setTitle("域名注册")}]}).state("domainManage.register",{url:"/register",params:{params:{}},views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/register.html"),controller:"domainRegisterController"}},ncyBreadcrumb:{label:"域名注册"},onEnter:["$rootScope",function(e){e.setTitle("域名注册"),e.switchSidebar(!1)}]}).state("domainManage.register.buy",{url:"/buy/:domain/:suffix",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/buy/buyDomain.html"),controller:"domainBuyController"}},ncyBreadcrumb:{label:"域名购买"},onEnter:["$rootScope",function(e){e.setTitle("域名购买"),e.switchSidebar(!1)}]}).state("domainManage.myDomain",{url:"/myDomain",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/index.html")},"body@myDomainContent":{controller:["$state",function(e){e.go("domainManage.myDomain.list")}]}},ncyBreadcrumb:{label:"我的域名"},onEnter:["$rootScope","$state","$stateParams",function(e){e.switchSidebar(!1)}]}).state("domainManage.myDomain.list",{url:"/list",views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("/tpl/domain/list/list.html"),controller:"domainListController"}},ncyBreadcrumb:{parent:"domainManage",label:"域名列表"},onEnter:["$rootScope",function(e){e.setTitle("域名列表"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.list.bindSite",{url:"/bindSite/:doaminid/:dnspod_domainid/:domain/:suffix",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/bindSite.html"),controller:"bindSiteController"}},ncyBreadcrumb:{label:"绑定站点"},onEnter:["$rootScope",function(e){e.setTitle("绑定站点"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.list.setDnsService",{url:"/setDnsService/:domainId",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/setDnsService/dnsService.html"),controller:"setDnsServiceController"}},ncyBreadcrumb:{label:"设置DNS"},onEnter:["$rootScope","$state","$stateParams",function(e){e.switchSidebar(!1),e.setTitle("设置DNS")}]}).state("domainManage.myDomain.list.setDnsService.update",{url:"/update",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/setDnsService/updateDnsService.html"),controller:"setDnsServiceController"}},ncyBreadcrumb:{parent:"domainManage.myDomain.list",label:"修改DNS"},onEnter:["$rootScope","$state","$stateParams",function(e){e.switchSidebar(!1),e.setTitle("修改DNS")}]}).state("domainManage.myDomain.list.dns",{url:"/dns/:domainId/:dnspod_domainid",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/dns/dns.html"),controller:"domainDnsController"}},ncyBreadcrumb:{parent:"domainManage.myDomain.list",label:"域名解析"},onEnter:["$rootScope",function(e){e.setTitle("域名解析"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.list.dns.add",{url:"/:type/:record",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/dns/update.html"),controller:"domainDnsController"}},ncyBreadcrumb:{label:"更新DNS"},onEnter:["$rootScope",function(e){e.setTitle("更新DNS"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.list.domainDetail",{url:"/domainDetail/:domainId",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/domainDetail.html"),controller:"domainDetailController"}},ncyBreadcrumb:{label:"域名详情"},onEnter:["$rootScope",function(e){e.setTitle("域名详情"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.list.domainRenew",{url:"/domainRenew/:domainId",params:{params:{}},views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/domainRenew.html"),controller:"domainRenewController"}},ncyBreadcrumb:{label:"域名续费"},onEnter:["$rootScope",function(e){e.setTitle("域名详情"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferInto",{url:"/transferInto",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/transferInto/index.html"),controller:"transferIntoController"},"body@myDomainContent":{controller:["$state",function(e){e.go("domainManage.myDomain.transferInto.into")}]}},ncyBreadcrumb:{parent:"domainManage",label:"域名转入"},onEnter:["$rootScope",function(e){e.setTitle("域名转入")}]}).state("domainManage.myDomain.transferInto.into",{url:"/into",params:{params:{}},views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferInto/into.html"),controller:"transferIntoController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"域名转入"},onEnter:["$rootScope",function(e){e.setTitle("域名转入"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferInto.record",{url:"/transferIntoRecord",views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferInto/intoList.html"),controller:"transferIntoController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"域名转入记录"},onEnter:["$rootScope",function(e){e.setTitle("域名转入记录"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferOut",{url:"/transferOut",views:{"body@domain":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferOut/index.html")},"body@myDomainContent":{controller:["$state",function(e){e.go("domainManage.myDomain.transferOut.out")}]}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"域名转出"},onEnter:["$rootScope",function(e){e.setTitle("域名转出")}]}).state("domainManage.myDomain.transferOut.out",{url:"/out",views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferOut/out.html"),controller:"transferOutController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"域名转出"},onEnter:["$rootScope",function(e){e.setTitle("域名转出"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferOut.record",{url:"/record",views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferOut/outList.html"),controller:"transferOutController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"域名转出记录"},onEnter:["$rootScope",function(e){e.setTitle("域名转出记录"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferInSite",{url:"/transferInSite",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/list/transferInSite/index.html")},"body@myDomainContent":{controller:["$state",function(e){e.go("domainManage.myDomain.transferInSite.transfer")}]}},ncyBreadcrumb:{parent:"domainManage",label:"域名过户"},onEnter:["$rootScope",function(e){e.setTitle("域名过户")}]}).state("domainManage.myDomain.transferInSite.transfer",{url:"/transfer",views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferInSite/transfer.html"),controller:"transferInSiteController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"域名过户"},onEnter:["$rootScope",function(e){e.setTitle("域名过户"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferInSite.giveRecord",{url:"/give",views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferInSite/transferList/transferGivingList.html"),controller:"transferInSiteListController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"转出记录"},onEnter:["$rootScope",function(e){e.setTitle("域名过户-转出记录"),e.switchSidebar(!1)}]}).state("domainManage.myDomain.transferInSite.receiveRecord",{url:"/receive",params:{params:{}},views:{"body@myDomainContent":{templateUrl:(0,s.staticPath)("tpl/domain/list/transferInSite/transferList/transferReceiveList.html"),controller:"transferInSiteListController"}},ncyBreadcrumb:{parent:"domainManage.myDomain",label:"接收记录"},onEnter:["$rootScope",function(e){e.setTitle("域名过户-接收记录"),e.switchSidebar(!1)}]}).state("domainManage.contactTpl",{url:"/contactTpl",views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/contactTpl/tplList.html"),controller:"domainContactTplListController"}},ncyBreadcrumb:{parent:"domainManage",label:"联系人模板列表"},onEnter:["$rootScope",function(e){e.setTitle("联系人模板"),e.switchSidebar(!1)}]}).state("domainManage.contactTpl.tpl",{url:"/:type/:contactTplId",params:{params:{}},views:{"body@domain":{templateUrl:(0,s.staticPath)("/tpl/domain/contactTpl/tpl.html"),controller:"domainContactTplAddController"}},ncyBreadcrumb:{parent:"domainManage.contactTpl",label:"添加联系人模板"},resolve:{plugs:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/city/cityselect.js"),(0,s.staticPath)("/js/jsPinyin.js"),(0,s.staticPath)("/js/jquery.datetimepicker.full.min.js"),(0,s.staticPath)("/css/datepicker.css")])}]},onEnter:["$rootScope",function(e){e.setTitle("添加|编辑联系人模板"),e.switchSidebar(!0)}]}).state("website",{url:"/website",views:{"":{templateUrl:(0,s.staticPath)("/tpl/website/index.html")},"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/home.html")},"nav@website":{templateUrl:(0,s.staticPath)("/tpl/website/nav.html")},"sidebar@website":{templateUrl:(0,s.staticPath)("/tpl/website/sidebar.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")}},controller:"websiteController",onEnter:["$rootScope",function(e){e.setTitle("网站列表"),e.switchSidebar(!1)}]}).state("website.list",{url:"/list",views:{"nav@website":{templateUrl:(0,s.staticPath)("/tpl/user/nav.html")},"userNav@user":{templateUrl:(0,s.staticPath)("/tpl/user/userNav.html")},"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/list.html"),controller:"websiteListController"}},onEnter:["$rootScope",function(e){e.setTitle("站点列表"),e.switchSidebar(!1)}]}).state("website.detail.purchase",{url:"/purchase",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/purchase/purchase.html"),controller:"purchaseController"}},onEnter:["$rootScope",function(e){e.setTitle("购买VIP"),e.switchSidebar(!1)}]}).state("website.detail.copySite",{url:"/copySite",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/detail/copyConfirm.html"),controller:"copySiteController"}},resolve:{plugs:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/city/cityselect.js")])}]},onEnter:["$rootScope",function(e){e.setTitle("复制站点"),e.switchSidebar(!1)}]}).state("website.ordering",{url:"/ordering",params:{params:{}},views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/purchase/ordering.html"),controller:"orderingController"}},onEnter:["$rootScope",function(e){e.setTitle("订单"),e.switchSidebar(!1)}]}).state("website.detail",{url:"/:websiteid",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/detail/detail.html")}},onEnter:["$rootScope","$stateParams","websiteService",function(e,t,i){e.setTitle("网站详情"),i.fetch(t.websiteid).$promise.then(function(){},function(e){var t=null==e.data||"undefined"==typeof e.data.errcode?"00000":e.data.errcode;
swal({title:"<h2>Error</h2>",html:!0,text:'<p>获取站点信息错误,请稍后再试!</p><p>如果多次出现该错误,请联系客服!</p><p style="color:red">错误码:'+t+"</p>",type:"error",allowEscapeKey:!1,confirmButtonText:"返回首页"},function(){localStorage.clear(),location.hash="#/website"})}),e.switchSidebar(!1)}]}).state("website.detail.domainOrigin",{url:"/domainOrigin",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/detail/domainOrigin.html"),controller:"domainOriginController"}},onEnter:["$rootScope",function(e){e.setTitle("选择顶级域名来源"),e.switchSidebar(!1)}]}).state("website.detail.bindDomain",{url:"/bindDomain",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/bindDomain/bindDomain.html"),controller:"bindDomainController"}},onEnter:["$rootScope",function(e){e.setTitle("绑定顶级域名"),e.switchSidebar(!1)}]}).state("website.detail.bindDomainOthers",{url:"/bindDomainOthers/:domain",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/bindDomain/bindOthersDomain.html"),controller:"bindOthersDomainController"}},onEnter:["$rootScope",function(e){e.setTitle("绑定顶级域名"),e.switchSidebar(!1)}]}).state("website.detail.statistic",{url:"/statistic",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/statistic/statistic.html"),controller:"statisticController"}},resolve:{plot:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/utils/flot/jquery.flot.min.js"),(0,s.staticPath)("/js/utils/flot/jquery.flot.resize.js"),(0,s.staticPath)("/js/utils/flot/jquery.flot.tooltip.min.js"),(0,s.staticPath)("/js/utils/flot/jquery.flot.time.min.js"),(0,s.staticPath)("/js/utils/flot/jquery.flot.crosshair.min.js")])}]},onEnter:["$rootScope",function(e){e.setTitle("网站统计"),e.switchSidebar(!1)}]}).state("website.detail.statistic.emai",{url:"/emai",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/statistic/emailList.html"),controller:"statisticEmailController"}},onEnter:["$rootScope",function(e){e.setTitle("推送邮箱列表"),e.switchSidebar(!1)}]}).state("website.detail.setting",{url:"/setting",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/setting/index.html")}},onEnter:["$rootScope","$state","$stateParams",function(e){e.switchSidebar(!1)}]}).state("website.detail.setting.normal",{url:"/normal",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/normal.html"),controller:"normalController"}},onEnter:["$rootScope",function(e){e.setTitle("基本设置|网站设置"),e.switchSidebar(!1)}]}).state("website.detail.setting.seo",{url:"/seo",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/seo.html"),controller:"seoController"}},resolve:{deps:["uiLoad",function(e){return e.load([(0,s.staticPath)("css/utils/nestable.css")])}]},onEnter:["$rootScope",function(e){e.setTitle("SEO设置|网站设置"),e.switchSidebar(!1)}]}).state("website.detail.setting.seo.edit",{url:"/edit/:pageid/:pageName",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/seoEdit.html"),controller:"seoController"}},onEnter:["$rootScope",function(e){e.setTitle("SEO设置|网站设置"),e.switchSidebar(!1)}]}).state("website.detail.setting.favicon",{url:"/favicon",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/favicon.html"),controller:"faviconController"}},onEnter:["$rootScope",function(e){e.switchSidebar(!1)}]}).state("website.detail.setting.301",{url:"/301",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/301.html"),controller:"301Controller"}},onEnter:["$rootScope",function(e){e.switchSidebar(!1)}]}).state("website.detail.setting.301.edit",{url:"/edit/:pageid/:pageName",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/301edit.html"),controller:"301EditController"}},onEnter:["$rootScope",function(e){e.switchSidebar(!1)}]}).state("website.detail.setting.service",{url:"/service",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/service.html"),controller:"onlineServiceController"}},resolve:{cssLoad:["uiLoad",function(e){return e.load([(0,s.staticPath)("/css/colorPicker.css")])}]},onEnter:["$rootScope",function(e){e.switchSidebar(!1)}]}).state("website.detail.setting.redirect",{url:"/redirect",views:{"body@websiteSetting":{templateUrl:(0,s.staticPath)("/tpl/website/setting/redirect.html"),controller:"redirectController"}},onEnter:["$rootScope",function(e){e.switchSidebar(!1)}]}).state("website.detail.form",{url:"/form",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/form/list.html"),controller:"formListController"}},onEnter:["$rootScope",function(e){e.switchSidebar(!1)}]}).state("website.detail.form.dataList",{url:"/:formid/:currentPage",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/form/formDataList.html"),controller:"formDataListController"}},resolve:{froalaResp:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/jquery.datetimepicker.full.min.js"),(0,s.staticPath)("/css/datepicker.css")])}]},onEnter:["$rootScope",function(e){e.setTitle("表单配置详情"),e.switchSidebar(!1)}]}).state("website.detail.form.dataList.detail",{url:"/detail/:formdataid",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/form/formDataDetail.html"),controller:"formDataDetailController"}},onEnter:["$rootScope",function(e){e.setTitle("表单配置详情"),e.switchSidebar(!1)}]}).state("website.detail.article",{url:"/article",params:{params:{}},views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/article/pages.html"),controller:"articlePagesController"}},onEnter:["$rootScope",function(e){e.setTitle("文章管理"),e.switchSidebar(!1)}]}).state("website.detail.article.list",{url:"/list/:pageid",params:{params:{}},views:{"articleList@article":{templateUrl:(0,s.staticPath)("tpl/website/article/articleList.html"),controller:"articleListController"}},onEnter:["$rootScope",function(e){e.setTitle("文章列表"),e.switchSidebar(!0)}],resolve:{sortable:["uiLoad",function(e){return e.load([(0,s.staticPath)("/js/sortable/jquery-sortable.js")])}]}}).state("website.detail.article.list.store",{url:"/store",params:{params:{}},views:{"articleList@article":{templateUrl:(0,s.staticPath)("tpl/website/article/articleStore.html"),controller:"articleStoreController"}},onEnter:["$rootScope",function(e){e.setTitle("文章库"),e.switchSidebar(!0)}]}).state("website.detail.article.list.toPage",{url:"/toPage/:blogid/:blogStatus/:blogUnionid",params:{params:{}},views:{"articleList@article":{templateUrl:(0,s.staticPath)("tpl/website/article/pageStore.html"),controller:"articlePageStoreController"}},resolve:{},enEnter:["$rootScope",function(e){e.setTitle("添加文章到页面"),e.switchSidebar(!0)}]}).state("website.detail.article.list.edit",{url:"/:type/:articleid/:articleStatus/:tagid",params:{params:{}},views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/article/edit.html"),controller:"editArticleController"},"tag@article":{templateUrl:(0,s.staticPath)("tpl/website/article/tag/chooseTag.html"),controller:"tagController"}},resolve:{froalaResp:["uiLoad","loadFroalaService",function(e,t){return e.load(t().concat((0,s.staticPath)("/js/jquery.datetimepicker.full.min.js"),(0,s.staticPath)("/css/datepicker.css")))}]},enEnter:["$rootScope",function(e){e.switchSidebar(!0)}]}).state("website.detail.article.tags",{url:"/tags",views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/article/tag/tagList.html"),controller:"tagController"}},onEnter:["$rootScope",function(e){e.setTitle("标签列表"),e.switchSidebar(!0)}]}).state("website.detail.article.tags.tag",{url:"/:tagid",views:{"tagBlogList@tag":{templateUrl:(0,s.staticPath)("tpl/website/article/tag/tagBlogsList.html"),controller:"articleListController"}}}).state("website.detail.product",{url:"/product",views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/product/pages.html"),controller:"productPageController"}},enEnter:["$rootScope",function(e){e.setTitle("产品首页"),e.switchSidebar(!1)}]}).state("website.detail.product.list",{url:"/:pageid",params:{params:{}},views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/product/list.html"),controller:"productListController"},"view@product":{templateUrl:(0,s.staticPath)("tpl/website/product/view.html"),controller:"productListController"}},enEnter:["$rootScope",function(e){e.setTitle("产品列表"),e.switchSidebar(!0)}]}).state("website.detail.product.list.view",{url:"/view/:productid",views:{"view@product":{templateUrl:(0,s.staticPath)("tpl/website/product/view.html"),controller:"productListController"}},enEnter:["$rootScope",function(e){e.setTitle("预览产品"),e.switchSidebar(!0)}]}).state("website.detail.product.list.create",{url:"/create",views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/product/edit.html"),controller:"productEditController"}},resolve:{froalaResp:["uiLoad","loadFroalaService",function(e,t){return e.load(t())}]},enEnter:["$rootScope",function(e){e.setTitle("创建产品"),e.switchSidebar(!0)}]}).state("website.detail.product.list.edit",{url:"/:productid/edit",views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/product/edit.html"),controller:"productEditController"}},resolve:{froalaResp:["uiLoad","loadFroalaService",function(e,t){return e.load(t())}]},enEnter:["$rootScope",function(e){e.setTitle("产品编辑"),e.switchSidebar(!0)}]}).state("website.detail.product.list.store",{url:"/store/:pageid",views:{"body@website":{templateUrl:(0,s.staticPath)("tpl/website/product/productStore.html"),controller:"productStoreController"}},enEnter:["$rootScope",function(e){e.setTitle("产品库"),e.switchSidebar(!1)}]}).state("website.detail.order",{url:"/order/:currentPage",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/order/list.html"),controller:"orderController"}},enEnter:["$rootScope",function(e){e.setTitle("订单管理"),e.switchSidebar(!1)}]}).state("website.detail.order.detail",{url:"/detail/:orderid",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/order/detail.html"),controller:"orderDetailController"}},enEnter:["$rootScope",function(e){e.setTitle("订单详情"),e.switchSidebar(!1)}]}).state("website.detail.member",{url:"/member",views:{"body@website":{templateUrl:(0,s.staticPath)("/tpl/website/member/index.html"),controller:"memberController"},"body@member":{templateUrl:(0,s.staticPath)("/tpl/website/member/list.html"),controller:"memberController"}}}).state("website.detail.member.model",{url:"/model",views:{"body@member":{templateUrl:(0,s.staticPath)("/tpl/website/member/model.html"),controller:"memberController"}}}),n.interceptors.push("httpInterceptor")}]),r["default"].run(["$rootScope","$state","$window","$timeout","tokenModel","clearLoginCookie","writeLoginCookie","$q","userModel",function(e,t,i,n,o,a,r,c,l){function d(){var i=(0,s.getCookie)(u.ZHUZI_ACCESSTOKEN_NAME),a=(0,s.getCookie)(u.ZHUZI_REFRESHTOKEN_NAME),c=parseInt((0,s.getCookie)(u.ZHUZI_ACCESSTOKEN_EXPIRE))||0,l=parseInt((0,s.getCookie)(u.ZHUZI_REFRESHTOKEN_EXPIRE))||0,f=(0,s.getCookie)(u.ZHUZI_MEMBERID),p=!1,m=!1,g=!1,h=(new Date).getTime(),b=!1;(h>=c||null==i)&&(p=!0),(h>=l||null==a)&&(m=!0),null!=f&&""!=f||(g=!0),p||m||g?!p||m||g?e.withoutLoginState.indexOf(location.hash.replace("#/",""))==-1&&""!=location.hash&&t.go("account.login"):b=!0:n(d,c-h+2e3),b&&o.update({refresh_token:a},function(t){r(t.toJSON()),d(),e.withoutLoginState.indexOf(location.hash.replace("#/",""))!=-1&&(location.href="/")})}e.withoutLoginState=["login","register","reset","bind","account.login","account.register","account.reset","account.bind","template","domain","userAgreement","createSite"];var f=[{type:"register",route:["register"]},{type:"site_create",route:["template"],hasValue:!0},{type:"purchase",route:["purchase"]},{type:"domain",route:["domainManage"]},{type:"site_bind_domain",route:["domainOrigin","bindDomain","bindDomainOthers"]},{type:"order",route:["finance"]},{type:"promote",route:["tuiguang"]},{type:"integral",route:["integralShop"]}],p=function(e,t,n,o){(i.SERVICER_MODULES.hasOwnProperty(t)&&!i.SERVICER_MODULES[t].enable||o&&0==i.SERVICER_MODULES[t].value)&&n instanceof Array&&n.forEach(function(t,i){if(e.name.indexOf(t)>-1)return void(location.href="/")})};e.$on("$stateChangeStart",function(i,n,o,a,r,c){if("tuiguang.award"!=n.name&&document.getElementById("bdshare_weixin_qrcode_dialog")&&(document.getElementById("bdshare_weixin_qrcode_dialog").style.display="none"),e.withoutLoginState.indexOf(n.name)==-1){if(!(0,s.isLogin)())return i.preventDefault(),void t.go("account.login")}else if((0,s.isLogin)()&&"template"!=n.name&&"bind"!=n.name&&"domain"!=n.name&&"userAgreement"!=n.name&&"createSite"!=n.name)return i.preventDefault(),void(location.href="/");f.forEach(function(e){p(n,e.type,e.route,e.hasValue)})}),e.$on("$stateChangeSuccess",function(t,i,n,o,a){var r=["login","register","reset","bind"];r.indexOf(i.name)==-1?e.needSwitch=!1:e.app.setting.needSwitch=!0,e.previousState_name=o.name,e.previousState_params=a}),e.backRouter=function(){t.go(e.previousState_name,e.previousState_params)};var m=function(){var t={app_id:"8a589e8e"},i=c.defer();return e.withoutLoginState.indexOf(location.hash.replace("#/",""))>=0?i.resolve(t):(0,s.isLogin)()?l.get().$promise.then(function(e){t.user_id=e.memberid,t.email=e.email,t.name=""==e.info.nickname?e.mobile:e.info.nickname,t.signed_up=e.exinfo.regtime,i.resolve(t)},function(e){i.reject(e)}):i.resolve(t),i.promise},g=function(){var e=c.defer(),t=function(e,t,i,o,a){var r=c.defer(),s=t.createElement(i),l=t.getElementsByTagName(i)[0];return e.DaoVoiceObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,s.src=o,s.charset="utf-8",s.onload=function(){r.resolve()},l.parentNode.insertBefore(s,l),n(function(){r.reject()},12e4),r.promise};return"undefined"!=typeof i.DaoVoiceObject?e.resolve():t(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/8a589e8e.js","daovoice").then(function(){e.resolve()},function(){e.reject()}),e.promise},h=function(){1==e.servicerDetail.servicerid&&g().then(function(){m().then(function(e){daovoice("init",e),daovoice("update")})})};switch(angular.element(document).ready(function(){h()}),e.$on("updateDaovoice",function(){h()}),e.hideSidebar=!1,e.titleSuffix="竹子建站",e.setTitle=function(e){i.document.title=e+"-网站管理中心"},i.SERVICER_MODULES||(i.SERVICER_MODULES={register:{enable:!1},site_create:{enable:!1,value:0},nav:{enable:!1},purchase:{enable:!1},site_edit:{enable:!1},domain:{enable:!1},site_copy:{enable:!1},site_delete:{enable:!1},site_switch_node:{enable:!1},site_bind_domain:{enable:!1},site_transfer:{enable:!1},notification:{enable:!1},order:{enable:!1},promote:{enable:!1},integral:{enable:!1}}),e.servicerDetail=i.SERVICER_DETAIL,e.servicerSetting=i.SERVICER_SETTING,e.servicerModules=i.SERVICER_MODULES,e.servicerSetting.siteLogo=[],e.servicerSetting.show_logo_method){case u.SHOW_LOGOMETHOD_SERVICER:e.servicerSetting.siteLogo.push(e.servicerSetting.info.logo),e.titleSuffix=e.servicerSetting.info.logo_text;break;case u.SHOW_LOGOMETHOD_UNITE:e.titleSuffix=e.servicerSetting.info.logo_text+"&竹子建站",e.servicerSetting.siteLogo.push(i.STATICURL+"img/logo.png"),e.servicerSetting.siteLogo.push(e.servicerSetting.info.logo);break;case u.SHOW_LOGOMETHOD_ZHUZI:e.servicerSetting.siteLogo.push(i.STATICURL+"img/logo.png")}d()}]),r["default"].factory("httpInterceptor",["$q","$rootScope","httpProcessing",function(e,t,i){return{request:function(e){return i.processing=!0,"undefined"==typeof e.showErrorTip&&(e.showErrorTip=!0),e},requestError:function(t){return i.processing=!1,e.reject(t)},response:function(e){return i.processing=!1,e},responseError:function(n){if(i.processing=!1,"undefined"!=typeof n.data&&null!=n.data&&"undefined"!=typeof n.data.errcode&&n.data.errcode<2e5&&100404!=n.data.errcode)t.$broadcast("loginTimeout",!0);else if(423!=n.status){var a="";"string"==typeof n.data?a=n.data:"object"==o(n.data)&&null!=n.data&&"undefined"!=typeof n.data.errmsg&&(a=n.data.errmsg),n.config.showErrorTip&&""!=a&&l["default"].error(a)}return e.reject(n)}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(10);var r=i(2),s=["$scope","$rootScope","$window","$state","clearLoginCookie","$cookies","logoutModel","httpProcessing","ImageUpload","$localStorage"],c=function(e,t,i,n,o,a,s,c,l,u){function d(){var e=document.head||document.getElementsByTagName("head")[0]||body,t=document.createElement("style"),i="";b&&(i+=".app-header .navbar-brand > span{color:"+b+"!important}"),v&&(i+=".app-header .nav > li > a{color:"+v+"!important}"),w&&(i+=".app-aside .nav > li > a{color:"+w+"!important}"),t.type="text/css",""!=i&&(t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i)),e.appendChild(t))}function f(e){var t=e.navigator.userAgent||e.navigator.vendor||e.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(t)}t.app={},t.app.setting={needSwitch:!1};var p=!!navigator.userAgent.match(/MSIE/i);p&&angular.element(i.document.body).addClass("ie"),f(i)&&angular.element(i.document.body).addClass("smart");var m="default"!=window.SERVICER_SETTING.uc_theme.header.brand&&window.SERVICER_SETTING.uc_theme.header.brand?window.SERVICER_SETTING.uc_theme.header.brand:"bg-primary",g="default"!=window.SERVICER_SETTING.uc_theme.header.nav&&window.SERVICER_SETTING.uc_theme.header.nav?window.SERVICER_SETTING.uc_theme.header.nav:"bg-primary",h="",b=window.SERVICER_SETTING.uc_theme.header.brand_text_color,v=window.SERVICER_SETTING.uc_theme.header.nav_text_color,w=window.SERVICER_SETTING.uc_theme.sidebar_text_color;switch(window.SERVICER_SETTING.uc_theme.sidebar){case"bg-white":h="bg-white b-r";break;case"bg-black":h="bg-black";break;case"bg-dark":h="bg-dark";break;case"bg-light":h="bg-light";break;case"bg-gray-light":h="bg-light dker b-r";break;default:h="bg-dark"}d(),e.app={name:t.servicerDetail.logo_text,version:"2.0",color:{primary:"#7266ba",info:"#23b7e5",success:"#27c24c",warning:"#fad733",danger:"#f05050",light:"#e8eff0",dark:"#3a3f51",black:"#1c2b36"},settings:{themeID:1,navbarHeaderColor:m,navbarCollapseColor:g,asideColor:h,headerFixed:!0,asideFixed:!1,asideFolded:!1,asideDock:!1,container:!1}},e.$watch("app.settings",function(){e.app.settings.asideDock&&e.app.settings.asideFixed&&(e.app.settings.headerFixed=!0)},!0);var y=jQuery(document);y.on("EDITOR_IMAGE_UPLOAD",function(e,t){var i={url:t.url,fileType:"image",isMultip:t.isMultip,isModelBind:!1,callBack:function(e){y.triggerHandler("EDITOR_IMAGE_RETURN",[e])}};l.openUploadDialog(i)}),e.bindInfo={data:{},choice:""},e.STATICURL=i.STATICURL,e.cssVersion=i.VERSION.css,e.jsVersion=i.VERSION.js,t.$on("loginTimeout",function(){t.withoutLoginState.indexOf(location.hash.replace("#/",""))==-1&&swal({title:"警告",text:"登录已过期,请重新登录",type:"error",confirmButtonText:"登录",showCancelButton:!1,closeOnConfirm:!1,showLoaderOnConfirm:!1},function(){o(),swal.close(),location.href="/",t.$broadcast("updateDaovoice")})}),e.userMenuHide=!0,e.switchUserMenu=function(){e.userMenuHide=!e.userMenuHide},e.logoutAction=function(){s(),o(),sessionStorage.clear(),location.href="/",t.$broadcast("updateDaovoice")},e.isLogin=r.isLogin,t.htmlClass="oHidden",t.httpProcessing=c,t.switchSidebar=function(t){return"undefined"!=typeof t?void(e.app.settings.asideFolded=t):void(e.app.settings.asideFolded=!e.app.settings.asideFolded)},e.getFirstText=function(e,t){return e.substring(0,t)}};s.push(c),a["default"].controller("appController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=i(1),r=n(a);i(25);var s=(i(7),i(3)),c=i(2);i(12);var l=["$scope","$rootScope","templateCategoryModel","templateModel","templateDetailModel","getFreeNodeModel","$q","$modal","$window","payGoodModel","paymentPlatformListModel","websiteByTplIDModel","$timeout","$cookies","websiteModel","$stateParams","siteOfFreeDomainIsRegistered","clearCreateSiteSessionStorage","$state","voucherModel"],u=function(e,t,i,n,a,r,l,u,d,f,p,m,g,h,b,v,w,y,P,A){e.servicerDetail=t.servicerDetail,e.servicerSetting=t.servicerSetting;var x=function(){var e=navigator.language;return e||(e=navigator.browserLanguage),e},S={};S=1==e.servicerDetail.servicerid?{"select-tpl":{one:["type","domain","category","template","personSiteInfo","SEO","VIP","success"],two:["type","domain","category","template","companySiteInfo","SEO","VIP","success"],three:["type","domain","category","template","organizeSiteInfo","SEO","VIP","success"],four:["type","domain","category","template","otherSiteInfo","SEO","VIP","success"]},"create-site":{one:["type","domain","category","personSiteInfo","SEO","VIP","success"],two:["type","domain","category","companySiteInfo","SEO","VIP","success"],three:["type","domain","category","organizeSiteInfo","SEO","VIP","success"],four:["type","domain","category","otherSiteInfo","SEO","VIP","success"]}}:{"select-tpl":{one:["type","domain","category","template","personSiteInfo","SEO","success"],two:["type","domain","category","template","companySiteInfo","SEO","success"],three:["type","domain","category","template","organizeSiteInfo","SEO","success"],four:["type","domain","category","template","otherSiteInfo","SEO","success"]},"create-site":{one:["type","domain","category","personSiteInfo","SEO","success"],two:["type","domain","category","companySiteInfo","SEO","success"],three:["type","domain","category","organizeSiteInfo","SEO","success"],four:["type","domain","category","otherSiteInfo","SEO","success"]}},e.stepType="select-tpl",e.stepIndex=0,e.currentStepLine=S[e.stepType].one,e.currentPanelName=e.currentStepLine[e.stepIndex],e.CONUTRY_LIST=s.CONUTRY_LIST,e.TypeIdOfAll=-1,e.TypeIdOfPerson=1,e.TypeIdOfCompany=2,e.TypeIdOfOrganize=3,e.TypeIdOfOther=0,e.tplTypes=[{id:1,name:"个人",value:"personSite"},{id:2,name:"企业",value:"companySite"},{id:3,name:"机构",value:"organizeSite"},{id:0,name:"其他",value:"otherSite"}],e.siteInfo={typeId:-2,typeName:"",categoryIdArr:[],categoryNameArr:[],name:"",siteName:"",keyWords:[],desc:"",templateId:0,free_domainname:"",domainSuffix:{},selectedVip:{},siteId:0,servicerid:e.servicerDetail.servicerid,personSite:{extend:{usage:"",name:"",country:e.CONUTRY_LIST[0],province:"",city:""}},companySite:{extend:{company_name:"",logo_name:"",industry:"",country:e.CONUTRY_LIST[0],province:"",city:"",tel:"",address:"",desc:""}},organizeSite:{extend:{organization_name:"",organization_type:"",country:e.CONUTRY_LIST[0],province:"",city:"",tel:"",address:"",desc:""}},otherSite:{extend:{usage:""}},isChangeName:!1,isChangeKeyWords:!1,isChangeDesc:!1,copyTypeId:-2,copyCategoryIdArr:[]},1!=e.servicerDetail.servicerid&&(e.siteInfo.selectedVip.group="free");var T=function(){jQuery(function(){jQuery(".province-city").citySelect({url:(0,c.staticPath)("js/city/city.min.js"),nodata:"none",required:!1}),I()})},D=function(e){jQuery(function(){jQuery(".province-city").citySelect({url:(0,c.staticPath)("js/city/city.min.js"),prov:e.province,city:e.city}),I()})},I=function(){$(".province-city .prov").change(function(){C(e.siteInfo.typeName),g(function(){M(e.siteInfo.typeName)},500)}),$(".province-city .city").change(function(){M(e.siteInfo.typeName)})},C=function(t){e.siteInfo[t].extend.province=$(".province-city .prov option:selected").val()},M=function(t){e.siteInfo[t].extend.city=$(".province-city .city option:selected").val(),e.$apply()},_=/^[\u4e00-\u9fa5a-zA-Z0-9]+$/,E=function(){e.isFromTplCenter=!1;var t=parseInt(sessionStorage.getItem("createSite-tplid"));null!=t&&t>0&&(e.isFromTplCenter=!0,e.stepType="create-site",e.siteInfo.templateId=t,e.currentStepLine=S[e.stepType].one)};$(document).ready(function(){$(".do-middle-box").scroll(function(){var e=$(this).scrollTop();e>15?$(".create-site-header").css("backgroundColor","rgba(255,255,255,.6)"):$(".create-site-header").css("backgroundColor","rgba(255,255,255,1)")})}),e.createSiteInit=function(){e.tplCategories=[],e.tplList={},e.domainSuffixList=[],e.isDomainInputError=!1,e.paymentPlatformList=[];var t=parseInt(sessionStorage.getItem("createSite-stepIndex"));t>=0?(e.stepIndex=t-1,e.siteInfo=JSON.parse(sessionStorage.getItem("createSite-siteInfo")),E(),e.nextStepAction()):E()},e.categoryInit=function(){e.getCategoriesList(e.siteInfo.typeId)},e.getCategoryTitle=function(){switch(e.siteInfo.typeName){case"personSite":case"otherSite":return"您想要一个具有什么特色的网站?";case"companySite":case"organizeSite":return"您的网站属于哪些行业?"}},e.siteSettingInit=function(t,i){i&&e.checkPhoneNumber(t,e.siteInfo[t].extend.tel),e.siteInfo[t].extend.province?D(e.siteInfo[t].extend):T()},e.isCompanyNextBtn=function(){return e.siteInfo.name||e.siteInfo.companySite.extend.logo_name||e.siteInfo.companySite.extend.tel||e.siteInfo.companySite.extend.province||e.siteInfo.companySite.extend.address||e.siteInfo.desc},e.isOrganizeNextBtn=function(){return e.siteInfo.name||e.siteInfo.organizeSite.extend.tel||e.siteInfo.organizeSite.extend.province||e.siteInfo.organizeSite.extend.address||e.siteInfo.desc},e.seoSettingInit=function(){e.siteInfo.isChangeName||""==e.siteInfo.name&&(e.siteInfo.typeId!=e.TypeIdOfCompany||""==e.siteInfo.companySite.extend.logo_name)||(e.siteInfo.siteName=L(e.siteInfo)),e.siteInfo.isChangeKeyWords||(e.siteInfo.keyWords=O(e.siteInfo)),e.siteInfo.isChangeDesc||(e.siteInfo.desc=B(e.siteInfo))},e.siteNameChange=function(){e.siteInfo.isChangeName=!0,e.isNextStepDisable=!e.siteInfo.siteName},e.maxKeyWordLength=200,e.testValue="",e.addKeyWordAction=function(t){var i=l.defer();return _.test(t)?(e.siteInfo.keyWords.join(",")+t).length>e.maxKeyWordLength?(swal("警告","关键字字数已达上限！请减少输入的字数","warning"),i.promise):(i.resolve(!0),e.siteInfo.isChangeKeyWords=!0,e.siteInfo.keyWords.push(t),i.promise):(swal("错误","关键字不能包含下划线#@;或空格等特殊字符","error"),i.promise)},e.deleteKeyWordAction=function(t){e.siteInfo.isChangeKeyWords=!0,e.siteInfo.keyWords.splice(t,1)},e.changeKeyWordAction=function(t,i){var n=l.defer();return _.test(t)?e.siteInfo.keyWords.join(",").length-e.siteInfo.keyWords[i].length+t.length>e.maxKeyWordLength?(swal("警告","关键字字数已达上限！请减少输入的字数","warning"),n.promise):(n.resolve(!0),e.siteInfo.isChangeKeyWords=!0,e.siteInfo.keyWords[i]=t,n.promise):(swal("错误","关键字不能包含下划线#@;或空格等特殊字符","error"),n.promise)},e.checkPhoneNumber=function(t,i){e.isTelError=!1,""!=i&&(e.siteInfo[t].extend.tel=i.replace(/\D+/g,""),/^\d{7,11}$/.test(e.siteInfo[t].extend.tel)||(e.isTelError=!0))};var L=function(t){switch(t.typeId){case e.TypeIdOfPerson:return t.name+"个人网站";case e.TypeIdOfCompany:return t.companySite.extend.logo_name?t.companySite.extend.logo_name+"官方网站":t.name+"官方网站";case e.TypeIdOfOrganize:case e.TypeIdOfOther:return t.name+"官方网站";default:return""}},O=function(t){var i=[];return t.typeId==e.TypeIdOfCompany&&""!=t.companySite.extend.logo_name&&(i.push(t.companySite.extend.logo_name),t[t.typeName].extend.province&&i.push(t.companySite.extend.province+t.companySite.extend.logo_name),t[t.typeName].extend.city&&i.push(t.companySite.extend.city+t.companySite.extend.logo_name)),t.name&&i.push(t.name),t.categoryNameArr.length>0&&t.categoryNameArr.forEach(function(n,o){i.push(n),t[t.typeName].extend.province&&(i.push(t[t.typeName].extend.province+n),t.typeId==e.TypeIdOfCompany&&""!=t.companySite.extend.logo_name&&i.push(t[t.typeName].extend.province+n+t.companySite.extend.logo_name)),t[t.typeName].extend.city&&(i.push(t[t.typeName].extend.city+n),t.typeId==e.TypeIdOfCompany&&""!=t.companySite.extend.logo_name&&i.push(t[t.typeName].extend.city+n+t.companySite.extend.logo_name))}),i=k(i)},k=function(t){var i="",n=0;for(var o in t){var a=i+t[o]+",";if(a.length-1>e.maxKeyWordLength){n=o;break}i+=t[o]}return n>0&&(t=t.slice(0,n)),t},B=function(t){switch(t.typeId){case e.TypeIdOfCompany:case e.TypeIdOfOrganize:return t[t.typeName].extend.desc;default:return""}};e.selectSiteTypeAction=function(t){t.id!=e.siteInfo.typeId&&(e.siteInfo.categoryIdArr=[],e.siteInfo.categoryNameArr=[],e.siteInfo.name="",e.siteInfo.siteName="",e.siteInfo.keyWords=[],e.siteInfo.desc="",e.isFromTplCenter||(e.siteInfo.templateId=0),e.siteInfo.copyCategoryIdArr=[]),e.siteInfo.typeId=t.id,e.siteInfo.typeName=t.value,e.siteInfo.copyTypeId=angular.copy(e.siteInfo.typeId)},e.domainInit=function(){e.getDomainSuffix()},e.domaIntoLowerCase=function(t){return t?(e.siteInfo.free_domainname=t.toLowerCase(),e.siteInfo.free_domainname):t},e.getDomainSuffix=function(){e.getdomainSuffixList().then(function(t){e.domainSuffixList=t.data?t.data:t;var i=[];e.domainSuffixList.forEach(function(e,t){i.push(e)}),N(i)})},e.getdomainSuffixList=function(t){var i=e.domainSuffixList.length>0;t=t||!1;var n=l.defer();return i&&!t?(n.resolve(e.domainSuffixList),n.promise):r()};var N=function(t){var i=Math.floor(Math.random()*t.length);e.siteInfo.domainSuffix=t[i]};e.validDomain=function(t){if(t)return t=e.domaIntoLowerCase(t),/^[a-zA-Z0-9\-\_]{4,16}$/i.test(t.toLowerCase())},e.domainRegistered=function(t){var i=l.defer();return t&&(t=e.domaIntoLowerCase(t),w.get({prefix:t}).$promise.then(function(e){e.exist?i.reject():i.resolve()},function(){i.reject()})),i.promise},e.getCategoriesList=function(t){i.query({type:t}).$promise.then(function(t){e.tplCategories=t})},e.isChecked=function(t){return e.siteInfo.categoryIdArr.indexOf(t)>=0},e.updateSelection=function(t){if(e.siteInfo.categoryIdArr.indexOf(t.id)==-1)e.siteInfo.categoryIdArr.push(t.id),e.siteInfo.categoryNameArr.push(t.name);else{var i=e.siteInfo.categoryIdArr.indexOf(t.id);e.siteInfo.categoryIdArr.splice(i,1),e.siteInfo.categoryNameArr.splice(i,1)}e.siteInfo.copyCategoryIdArr=angular.copy(e.siteInfo.categoryIdArr),e.siteInfo.copyTypeId=angular.copy(e.siteInfo.typeId)};var z=function(e){var t="";return e.forEach(function(i,n){t+=n==e.length-1?i:i+","}),t};e.templateInit=function(){e.currentPage=1,e.pageSize=12,e.templateList={list:[],total:0},e.getTplList(e.currentPage,e.pageSize)},e.getTplList=function(t,i,o){e.isShowGetMoreTplsBtn=!1;var a={page:t||1,page_size:i||12,type:e.siteInfo.copyTypeId,categoryid:z(e.siteInfo.copyCategoryIdArr),servicerid:e.servicerDetail.servicerid};"string"!=typeof a.categoryid||a.categoryid||delete a.categoryid,n.get(a).$promise.then(function(i){e.templateList=i,e.siteInfo.copyTypeId!=e.TypeIdOfAll?i.total<=0?e.getMoreTplsAction():(t>Math.ceil(o/2)||o>=15&&t>=5)&&(e.isShowGetMoreTplsBtn=!0):e.isShowGetMoreTplsBtn=!1})},e.getMoreTplsAction=function(){0==e.siteInfo.copyCategoryIdArr.length?e.siteInfo.copyTypeId=-1:e.siteInfo.copyCategoryIdArr=[],e.currentPage=1,e.getTplList(e.currentPage,e.pageSize)},e.previewAction=function(t){e.previewData=t,m.get({tplid:t.tplid},function(e){if(null!=e&&e.free_domainname&&e.ext_domain){if(null==d.previewTplWindow)return void swal("温馨提示","您的浏览器禁止了弹出预览窗口，请在浏览器地址栏的右上角允许我们网站弹出窗口","warning");d.previewTplWindow.location.href="http://"+e.free_domainname+"."+e.ext_domain,d.previewTplWindow.focus()}else"object"==o(d.previewTplWindow)&&null!=d.previewTplWindow&&d.previewTplWindow.hasOwnProperty("close")&&d.previewTplWindow.close(),swal("错误","模板预览失败","error")},function(){"object"==o(d.previewTplWindow)&&null!=d.previewTplWindow&&d.previewTplWindow.hasOwnProperty("close")&&d.previewTplWindow.close()})},e.selectedTplStyle=function(t){if(t==e.siteInfo.templateId)return{border:"2px solid #27c24c"}},e.tplBoxMoveUpEvent=function(e){var t=$(e.target).closest(".do-gallery-thumb").height(),i=$(e.target).height(),n=i-t;n>0&&$(e.target).css({transform:"translateY(-"+n+"px)","-webkit-transition":"all 5.5s linear",transition:"all 5.5s linear","-moz-transition":"all 5.5s linear","-o-transition":"all 5.5s linear"})},e.tplBoxMoveDownEvent=function(e){$(e.target).css("transform","translateY(0px)")};var R=function(){var t=X(e.siteInfo,"selectVip");t.then(function(){P.go("finance.voucher",{params:{siteid:e.siteInfo.siteId}})})},j=function(){if(!(0,c.isLogin)())return void Y();e.voucherList={list:[],total:0};var t=[];A.get().$promise.then(function(i){e.voucherList=i,e.voucherList.list.forEach(function(e){0==e.use_time&&1e3*e.expire_time>(new Date).getTime()&&t.push(e);
}),e.enableUseVoucher=t,e.enableUseVoucher.length>0&&"integralBuyGood"!==v.params.action&&"voucherUse"!==v.params.action&&swal({title:"站点抵扣券",text:"检测到您有可用的站点抵扣券，可将站点升级成VIP",type:"success",allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"前往抵扣券管理",cancelButtonText:"暂不使用"},function(){e.siteInfo.selectedVip.group="free",R()})})};e.VIPInit=function(){e.isNextStepDisable=!0,angular.equals(e.siteInfo.selectedVip,{})||(e.isNextStepDisable=!1),j()},e.selectVipAction=function(t,i){"free"==t?e.siteInfo.selectedVip={group:"free"}:e.siteInfo.selectedVip=i,e.nextStepAction()};var U=function(){sessionStorage.setItem("createSite-stepIndex",e.stepIndex),sessionStorage.setItem("createSite-siteInfo",JSON.stringify(e.siteInfo))};e.clearCreateSiteSessionStorage=function(){y()};var F=function(t){e.currentPanelName=e.currentStepLine[t]},H=function(t){switch(t){case e.TypeIdOfPerson:return S[e.stepType].one;case e.TypeIdOfCompany:return S[e.stepType].two;case e.TypeIdOfOrganize:return S[e.stepType].three;case e.TypeIdOfOther:return S[e.stepType].four}};e.preStepAction=function(){e.stepIndex--,F(e.stepIndex),e.isNextStepDisable=!1,U()},e.nextStepAction=function(){e.currentStepLine=H(e.siteInfo.typeId),e.stepIndex++,F(e.stepIndex),U()};var G=function(t){var i=t.join(",");return i.length>e.maxKeyWordLength?i.substr(0,200):i},q=function(t){var i={name:t.siteName,type:parseInt(t.typeId),domain_prefix:t.free_domainname,nodeid:parseInt(t.domainSuffix.nodeid),memberid:parseInt(h.get(s.ZHUZI_MEMBERID)),servicerid:parseInt(t.servicerid),seo:{keyword:G(t.keyWords),desc:t.desc,title:t.siteName},tplid:parseInt(t.templateId),copy_siteid:0,lang:x(),extend:angular.copy(t[t.typeName].extend)};switch(i.extend.hasOwnProperty("country")&&(i.extend.country=i.extend.country.value),t.typeId==e.TypeIdOfCompany&&(i.extend.industry=t.categoryNameArr.join(",")),[e.TypeIdOfPerson,e.TypeIdOfOther].indexOf(t.typeId)>-1&&(i.extend.usage=t.categoryNameArr.join(",")),i.type){case e.TypeIdOfPerson:i.extend.name=t.name;break;case e.TypeIdOfCompany:i.extend.company_name=t.name;break;case e.TypeIdOfOrganize:i.extend.organization_name=t.name,i.extend.organization_type=t.categoryNameArr.join(",")}return i},X=function(t,i){var n=q(t),o=l.defer();return b.post(n).$promise.then(function(t){e.siteInfo.siteId=t.siteid,e.clearCreateSiteSessionStorage(),o.resolve()},function(t){return"selectVip"==i?(e.stepIndex=e.stepIndex-2,void e.nextStepAction()):("网站标题已经存在"==t.data.errmsg?e.stepIndex=e.stepIndex-3:e.stepIndex=e.stepIndex-2,e.nextStepAction(),void o.reject(t))}),o.promise},Z=function(){if(v.params&&v.params.action)switch(v.params.action){case"integralBuyGood":swal({title:"站点新建成功！",text:null,type:"success",allowEscapeKey:!1,confirmButtonText:"返回积分商城"},function(){P.go("integralShop.shop",{params:{action:"createTemplate",name:v.params.name,price:v.params.price,logo:v.params.logo}})});break;case"voucherUse":swal({title:"站点新建成功！",text:null,type:"success",allowEscapeKey:!1,confirmButtonText:"返回使用抵扣券"},function(){P.go("finance.voucher.use",{params:{action:"createTemplate",voucherid:v.params.voucherid}})})}},V=function(){u.open({backdrop:"static",templateUrl:(0,c.staticPath)("tpl/domain/buy/buyResultSelect.html"),scope:e,controller:["$scope","$modalInstance",function(e,t){e.closeAction=function(){J(),t.close()},e.payFinishAction=function(){e.$parent.loading=!1,t.close(),Z()}}]})};e.payAction=function(t,i){var n=document.location.protocol+"//"+document.location.host,o="#/website/"+e.siteInfo.siteId,a=d.encodeURIComponent(n+"/"+o),r=n+"/pay/result?callback="+a+"&pay_method="+i;f.post({},{siteid:e.siteInfo.siteId,servicerid:e.servicerSetting.servicerid,goods_logo:t,redirect_url:r,pay_platform:i},function(e){if(V(),"undefined"!=typeof e.gotourl&&""!=e.gotourl){if(null==d.payVipWindow)return void swal("温馨提示","您的浏览器禁止了弹出支付窗口，请在浏览器地址栏的右上角允许我们网站弹出窗口","warning");d.payVipWindow.location.href=e.gotourl,d.payVipWindow.focus()}})};var J=function(){d.payVipWindow=d.open("about:blank","payVIP"),d.focus(),p().then(function(t){t instanceof Object&&t.data instanceof Array&&t.data!=[]?e.payAction(e.siteInfo.selectedVip.list[0].logo,t.data[0].logo):V()},function(){V()})},K=function(){var t=X(e.siteInfo);t.then(function(){"free"==e.siteInfo.selectedVip.group?(e.loading=!1,Z()):J()})},Y=function(){var t=d.location.origin+d.location.pathname,i=d.location.hash;t=d.encodeURIComponent(t+"/"+i),swal({title:"",text:"系统检测到您未登录，请先登录！",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"前往登录",cancelButtonText:"返回上一步",closeOnConfirm:!1},function(i){i?location.href="/?callback="+t:(e.stepIndex=e.stepIndex-2,e.nextStepAction(),e.$apply())})};e.successInit=function(){return e.loading=!0,(0,c.isLogin)()?void K():void Y()},e.goToEditerAction=function(){location.href="/editor/"+e.siteInfo.siteId}};l.push(u),r["default"].controller("createSiteController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","contactPersonTplModel","$rootScope"],s=function(e,t,i){e.init=function(){i.switchSidebar(!1),e.currentPage=1,e.pageSize=12,e.tpls={list:[],total:0},e.getContactTplList(e.currentPage,e.pageSize)},e.getContactTplList=function(i,n){e.isShowTplList=!1,e.processing=!0,t.get({page:i,page_size:n}).$promise.then(function(t){e.processing=!1,e.tpls=t},function(){e.processing=!1})},e.TPL_STATUS_SUCCESS=2,e.contactPersonTplState=function(e){switch(e){case 0:return"待审核";case 1:return"审核中";case 2:return"审核通过";case 3:return"审核失败";default:return"未知"}},e.contactPersonTplType=function(e){switch(e){case 0:return"国际域名";case 1:return"国内域名";default:return"未知"}}};r.push(s),a["default"].controller("domainContactTplListController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(7);var r=i(2),s=i(3),c=["$scope","contactPersonTplDetailModel","createContactTplModel","updateContactTplModel","$timeout","$cookies","ImageUpload","isEmail","$state","$stateParams","isChinese","domainPriceModel","$rootScope"],l=function(e,t,i,n,o,a,c,l,u,d,f,p,m){function g(e){return e<10&&(e="0"+e),e}function h(e){var t="",i="";if(e)return 11==e.length&&(t=e.substring(0,3),i=e.substring(3)),12==e.length&&(t=e.substring(0,4),i=e.substring(4)),[t,i]}e.previousState_name=m.previousState_name,e.CONTACT_TPL_TYPE_INTERNATIONAL=s.CONTACT_TPL_TYPE_INTERNATIONAL,e.CONTACT_TPL_TYPE_CHINESE=s.CONTACT_TPL_TYPE_CHINESE,e.TPL_STATUS_SUCCESS=2,e.isIDCard=/^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$/,e.isPostalCode=/^[1-9]\d{5}$/,e.contactPersonTypeList=[{name:"个人",value:0},{name:"企业",value:1}],e.datepickerOptions={lang:"ch",step:1,format:"Y/m/d H:i"},e.countryList=s.CONUTRY_LIST,e.$stateParams=d;var b=function(){$(".domain-city .prov").change(function(){v(),o(function(){w()},500)}),$(".domain-city .city").change(function(){w()})};e.changeCountry=function(){e.tpl.state_zh="",e.tpl.city_zh="",e.tpl.tel_c=e.tpl.country.areaCode,e.tpl.fax_c=e.tpl.country.areaCode};var v=function(){e.tpl.state_zh=$(".domain-city .prov option:selected").val(),e.tpl.state=e.ConvertToPinying(e.tpl.state_zh)},w=function(){e.tpl.city_zh=$(".domain-city .city option:selected").val(),e.tpl.city=e.ConvertToPinying(e.tpl.city_zh),e.$apply()};e.init=function(){e.addTplloading=!1,e.addTplloadingTwo=!1,e.domainPriceList=[],e.getDomainPriceList(),"add"==d.type?(e.tpl={type:"1",name:"",language:"",address:"",address_zh:"",first_name:"",first_name_zh:"",last_name:"",last_name_zh:"",organization:"",organization_zh:"",city:"",city_zh:"",state:"",state_zh:"",manager:"",postcode:"",country:e.countryList[0],tel_c:"86",tel_a:"",tel_n:"",tel_e:"",fax_c:"86",fax_a:"",fax_n:"",fax_e:"",phoneNumber:"",faxNumber:"",email:"",contact_type:0,birthday:"",identify_pic:"",card_number:"",business_number:"",bussiness_pic:""},jQuery(function(){jQuery(".domain-city").citySelect({url:(0,r.staticPath)("js/city/city.min.js"),nodata:"none",required:!1}),b()})):"edit"==d.type&&y()};var y=function(){t.get({contact_tplid:d.contactTplId}).$promise.then(function(t){e.copyEditContactPersonTpl=angular.copy(t),e.tpl=t,e.tpl.type=t.type.toString(),e.tpl.hasOwnProperty("organization_zh")||(e.tpl.organization_zh=""),e.tpl.phoneNumber=e.tpl.tel_a+e.tpl.tel_n,e.tpl.faxNumber=e.tpl.fax_a+e.tpl.fax_n;var i=t.country;e.countryList.forEach(function(t,n){i.toUpperCase()==t.value&&(e.tpl.country=t)}),jQuery(function(){jQuery(".domain-city").citySelect({url:(0,r.staticPath)("js/city/city.min.js"),prov:t.state_zh,city:t.city_zh}),b(),e.tpl.type==s.CONTACT_TPL_TYPE_CHINESE&&e.tpl.status==e.TPL_STATUS_SUCCESS&&(P(),swal("warning",'此模板类型为审核通过的"国内域名",禁止修改！',"warning"))})})},P=function(){for(var e=document.forms[0],t=0;t<e.length;t++)e.elements[t].disabled=!0};e.getDomainPriceList=function(){p.query().$promise.then(function(t){e.domainPriceList=t,e.domainUsefulList=[],t.forEach(function(t,i){t.enable==s.DOMAIN_SUFFIX_ENABLE&&e.domainUsefulList.push(t)}),e.searchNoResult=0==e.domainUsefulList.length,d.params&&"searchDomain"==d.params.action&&(e.domainRegister.inputDomain=d.params.inputDomain,e.searchDomain());var i=[];e.chineseDomain="",e.domainPriceList.forEach(function(e,t){e.type==s.DOMAIN_TYPE_CHINESE&&i.push(e.suffix)}),1==i.length?e.chineseDomain="("+i[0]+")":i.length>1&&(e.chineseDomain="(",i.forEach(function(t,i){e.chineseDomain+=t+"/"}),e.chineseDomain+=")")})},e.contactTypeChange=function(e){e.organization_zh="",e.organization=""},e.imageUpload=function(){c.openUploadDialog()},e.ConvertToPinying=function(e){return pinyin.getFullChars(e)},e.isChineseReg=function(t,i){var n=f(t);if(n)switch(i){case"lastName":e.tpl.last_name=e.ConvertToPinying(t);break;case"firstName":e.tpl.first_name=e.ConvertToPinying(t);break;case"contactAddress":e.tpl.address=e.ConvertToPinying(t)}return n},e.isChineseCompanyReg=function(t){var i=/^[\u4e00-\u9fa5()（）]+$/.test(t);return i&&(e.tpl.organization=e.ConvertToPinying(t)),i},e.checkPhoneNumber=function(t,i){null==t&&void 0==t||(e.tpl[i]=t.replace(/\D+/g,"")),"phoneNumber"==i&&(e.tpl.faxNumber=e.tpl.phoneNumber)},e.sumitContactTplAction=function(t){if(e.checkContactTpl(t)){var i=x(t);i=angular.extend({},e.tpl,i),delete i.phoneNumber,delete i.faxNumber,"add"==d.type?t.type==s.CONTACT_TPL_TYPE_CHINESE?swal({title:"警告",text:'提醒：选择"国内域名"提交后一旦审核成功，则无法再次编辑本模板！',type:"warning",showCancelButton:!0,confirmButtonText:"确定提交",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0,showLoaderOnConfirm:!0},function(){A(i)}):A(i):"edit"==d.type&&(delete i.$promise,delete i.$resolved,angular.equals(i,e.copyEditContactPersonTpl)?swal({title:"警告",text:"您未做任何修改！",type:"warning",confirmButtonText:"返回",cancelButtonText:"继续修改",showCancelButton:!0,closeOnConfirm:!0,showLoaderOnConfirm:!0},function(){u.go("domainManage.contactTpl")}):n.put({contact_tplid:d.contactTplId},i).$promise.then(function(){swal({title:"OK",text:"模板修改成功",type:"success",allowEscapeKey:!1,confirmButtonText:"确定"},function(){u.go("domainManage.contactTpl")})}))}};var A=function(e){i.post(e).$promise.then(function(){swal({title:"OK",text:"模板添加成功！",type:"success",allowEscapeKey:!1,confirmButtonText:"确定"},function(){d.params&&"buyDomain"==d.params.action?u.go("domainManage.register.buy",{domain:d.params.domain,suffix:d.params.suffix}):d.params&&"transferInSite"==d.params.action?u.go("domainManage.myDomain.transferInSiteList.receive",{params:{action:"addContactTpl",transferInfo:d.params.transferInfo}}):d.params&&"domainTransferInto"==d.params.action?u.go("domainManage.myDomain.transferInto.into",{params:{action:"addContactTpl",transferInfo:d.params.transferInfo}}):u.go("domainManage.contactTpl")})})};e.isValidContactTpl=function(e){if("1"==e.type){if(""==e.identify_pic)return!1;if(1==e.contact_type&&""==e.bussiness_pic)return!1}return""!=e.state_zh&&""!=e.city_zh};var x=function(e){var t="";if(e.birthday){var i=new Date(e.birthday);t=i.getFullYear()+"-"+g(i.getMonth()+1)+"-"+g(i.getDate())}var n=h(e.phoneNumber),o=h(e.faxNumber);return{type:parseInt(e.type),language:e.type!=s.CONTACT_TPL_TYPE_CHINESE?"":s.DOMAIN_TYPE_USEFUL,memberid:parseInt(a.get(s.ZHUZI_MEMBERID)),contact_type:parseInt(e.contact_type),country:e.country.value,birthday:t,tel_a:n[0],tel_n:n[1],fax_a:o[0],fax_n:o[1]}};e.checkContactTpl=function(e){if(""!=e.tel_c||""!=e.fax_c){var t=!1,i=!1;if(s.CONUTRY_LIST.forEach(function(n,o){e.tel_c==n.areaCode&&(t=!0),e.fax_c==n.areaCode&&(i=!0)}),!t)return swal("warning","电话号码中的国家区号不正确，请重新输入！","warning"),!1;if(!i)return swal("warning","传真号码中的国家区号不正确，请重新输入！","warning"),!1}return!0}};c.push(l),a["default"].controller("domainContactTplAddController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=i(2),c=["$scope","$stateParams","websiteListModel","querySubDomain","$modal","isSubDomain","addDnsModel","bindDomainModel","deleteDnsModel","$q","$cookies","$state"],l=function(e,t,i,n,o,a,c,l,u,d,f,p){function m(e,t,i,n){var o={domainid:parseInt(e.doaminid),dnspod_domainid:e.dnspod_domainid,dnspod_recordid:"",memberid:parseInt(f.get(r.ZHUZI_MEMBERID)),sub_domain:t,record_type:"CNAME",record_line:"默认",record_line_id:"0",value:n.free_domainname+"."+n.ext_domain,mx:0,ttl:600,status:1,weight:0};c.post({domainid:parseInt(e.doaminid)},o).$promise.then(function(o){i&&g(t+"."+e.domain+"."+e.suffix,o,n)})}function g(t,i,n){t=t.replace("www.",""),l.post({websiteid:n.siteid,domain:t},function(){swal({title:"操作成功",text:"域名绑定成功！您可通过"+t+'访问您的"'+n.site_name+'"网站啦！',type:"success",allowEscapeKey:!1,confirmButtonText:"关闭"}),p.go("domainManage.myDomain.list")},function(t){e.processing=!1,u["delete"]({domainid:i.domainid,recordid:i.recordid})})}e.bindSiteInit=function(){e.siteInputError="",e.bindSite={inputSite:""},e.domainTLDRecordList=[],e.domain={doaminid:t.doaminid,domain:t.domain,dnspod_domainid:t.dnspod_domainid,suffix:t.suffix},e.getWebsiteList(),e.getOneDnsRecordList()},e.isAKeyBindSite=!0,e.getWebsiteList=function(){e.websites=[],i.get({page:1,page_size:200}).$promise.then(function(t){t.list.forEach(function(i,n){void 0!=t.goods[i.siteid]&&t.goods.hasOwnProperty(i.siteid)&&t.goods[i.siteid].bind_domain&&!t.domain.hasOwnProperty(i.siteid)&&e.websites.push(i)})})},e.getOneDnsRecordList=function(){n.query({domainid:t.doaminid,sub_domain:"www"}).$promise.then(function(t){t&&t.length>0&&0==t[0].is_delete?(e.domainTLDRecordList=t,e.isAKeyBindSite=!1):e.isAKeyBindSite=!0})},e.aKeyBindSiteAction=function(t){m(e.domain,"www",!0,t),m(e.domain,"@",!1,t)},e.seniorBindSiteAction=function(t){o.open({backdrop:"static",templateUrl:(0,s.staticPath)("/tpl/website/bindDomain/seniorBindDomain.html"),scope:e,controller:["$scope","$modalInstance","domain","site",function(e,t,i,o){e.domain=i,e.inputDomainData={sub_domain:""},e.seniorBindError="",e.validDomain=function(e){return a(e)},e.seniorBindAction=function(n){return n.sub_domain?(e.seniorBindError="",m(i,n.sub_domain,!0,o),void t.close()):void(e.seniorBindError="请输入主机记录")},e.filterBind=function(e){var t=d.defer();return n.query({domainid:i.doaminid,sub_domain:e}).$promise.then(function(e){e&&e.length>0&&0==e[0].is_delete?t.reject():t.resolve()},function(){t.resolve()}),t.promise},e.cancel=function(){t.close()}}],resolve:{site:function(){return t},domain:function(){return e.domain}}})},e.deleteInputDomain=function(){e.bindDomain.inputDomain="",e.domainInputError=""}};c.push(l),a["default"].controller("bindSiteController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","domainDetailsModel","$stateParams","$state"],c=function(e,t,i,n){e.IDENTIFY_SUCCESS=r.IDENTIFY_SUCCESS,e.IDENTIFY_FAIL=r.IDENTIFY_FAIL,e.domainStatus=function(e){switch(e){case-1:return"域名注册失败";case 0:return"域名注册中";case 1:return"实名认证中";case 2:return"实名认证通过";case 3:return"实名认证失败";default:return"未知"}},e.dnsNormal=0,e.dnsStop=1,e.dnsForbiddened=2,e.dnsLocked=3,e.domainDetailInit=function(){e.domainDetail={},e.searchNoResult=!0,e.getDomainDetail()},e.getDomainDetail=function(){e.domainList&&e.domainList.total>0?e.domainList.list.forEach(function(t,n){t.doaminid==i.domainId&&(e.searchNoResult=!1,e.domainDetail=t)}):t.get({domainid:i.domainId}).$promise.then(function(t){e.searchNoResult=!1,e.domainDetail=t})}};s.push(c),a["default"].controller("domainDetailController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","$rootScope","domainDnsModel","updateDomainDnsModel","dnsLineModel","dnsTypeModel","dnsRecordModel","syncDnsModel","addDnsModel","updateDnsModel","deleteDnsModel","$cookies","$state","$stateParams","isSubDomain","domainDetailsModel"],c=function(e,t,i,n,o,a,s,c,l,u,d,f,p,m,g,h){e.$stateParams=m,e.isSubDomain=g,e.domainDnsInit=function(){e.dnsLineList=[],e.dnsTypeList=[],e.domainDetail={},e.domainList={list:[],total:0},e.getDnsLineList(),e.getDnsTypeList(),e.getDnsRecordList(),e.getDomainDetail(),e.isShowAddRecord=!1},e.getDomainDetail=function(){e.domainList&&e.domainList.total>0?e.domainList.list.forEach(function(t,i){t.doaminid==m.domainId&&(e.domainDetail=t)}):h.get({domainid:m.domainId}).$promise.then(function(t){e.domainDetail=t})},e.getDnsLineList=function(){o.query().$promise.then(function(t){e.dnsLineList=t})},e.getDnsTypeList=function(){a.query().$promise.then(function(t){e.dnsTypeList=t})},e.dnsStatusList=[{name:"暂停",value:0},{name:"启用",value:1}],e.getDnsRecordList=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],i=arguments.length<=1||void 0===arguments[1]?20:arguments[1];e.dnsRecordList=[],s.query({domainid:m.domainId,page:t,page_size:i}).$promise.then(function(t){t&&t.length>0?(t.forEach(function(t,i){0==t.is_delete&&(0==t.status?t.status={name:"暂停",value:0}:t.status={name:"启用",value:1},e.dnsRecordList.push(t))}),e.isShowDnsList=e.dnsRecordList.length>0,e.dnsRecordListTotal=e.dnsRecordList.length):e.isShowDnsList=!1})},e.syncRecordAction=function(){c.put({domainid:m.domainId}).$promise.then(function(t){t.success&&swal({title:"<h4>解析记录同步中,请等待！</h4>",text:'<i class="fa fa-spin fa-spinner text-2x"></i>',timer:1e4,showConfirmButton:!1,html:!0},function(){swal({title:'<span class="sweetalert-text">解析记录同步成功！</span>',text:null,type:"success",showConfirmButton:!0,html:!0}),e.getDnsRecordList()})})},e.deleteDnsRecordAction=function(t){var i=t.value.split("."),n=i[i.length-2]+"."+i[i.length-1],o="确定删除该域名的本条解析记录吗?",a="";"CNAME"==t.record_type&&"cn.vc"==n&&("@"!=t.sub_domain&&(a=t.sub_domain+"."),o='一旦删除，您绑定的站点<span class="highlight">"'+t.value+'"</span><br>将不能通过此顶级域名<span class="highlight">'+a+e.domainDetail.domain+"."+e.domainDetail.suffix+"</span>访问!"),swal({title:"警告",text:o,type:"warning",confirmButtonText:"确定删除",cancelButtonText:"我再想想",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,html:!0},function(){d["delete"]({domainid:t.domainid,recordid:t.recordid}).$promise.then(function(){e.getDnsRecordList(),swal({title:"OK",text:"删除成功",type:"success",confirmButtonText:"关闭",showCancelButton:!1,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){swal.close()})})})},e.goToUpdateDnsAction=function(e){p.go("domainManage.myDomain.list.dns.add",{type:"edit",record:JSON.stringify(e)})},e.dnsOperateInit=function(){"add"==m.type?(e.dnsRecord={sub_domain:"",record_type:"CNAME",lineType:{line_name:"默认",line_id:"0"},value:"",weight:0,mx:1,ttl:"600"},e.getDnsLineList(),e.getDnsTypeList()):"edit"==m.type&&(e.getDnsLineList(),e.getDnsTypeList(),e.dnsRecord=JSON.parse(m.record),e.dnsRecord.lineType={line_name:e.dnsRecord.record_line,line_id:e.dnsRecord.record_line_id},e.copyDnsRecord=angular.copy(e.dnsRecord))};var b=function(e){return{domainid:parseInt(m.domainId),dnspod_domainid:m.dnspod_domainid,dnspod_recordid:"",memberid:parseInt(f.get(r.ZHUZI_MEMBERID)),sub_domain:e.sub_domain,record_type:e.record_type,record_line:e.lineType.line_name,record_line_id:e.lineType.line_id,value:e.value,mx:parseInt(e.mx),ttl:parseInt(e.ttl),status:1,weight:parseInt(e.weight)}},v=function(e){return{recordid:parseInt(e.recordid),domainid:parseInt(e.domainid),dnspod_domainid:m.dnspod_domainid,dnspod_recordid:e.dnspod_recordid,memberid:parseInt(f.get(r.ZHUZI_MEMBERID)),sub_domain:e.sub_domain,record_type:e.record_type,value:e.value,mx:parseInt(e.mx),ttl:parseInt(e.ttl),status:e.status.value,weight:0}};e.dnsUpdateAction=function(t){if("add"==m.type)l.post({domainid:m.domainId},b(t)).$promise.then(function(){swal({title:"解析生效中",text:"域名解析存在延迟,请等待数分钟。若仍无法解析,请联系客服",type:"success",showConfirmButton:!0},function(){p.go("domainManage.myDomain.list.dns")})});else if("edit"==m.type)if(angular.equals(e.copyDnsRecord,t))swal({title:"警告",text:"您未做任何修改！",type:"warning",confirmButtonText:"返回",cancelButtonText:"继续修改",showCancelButton:!0,closeOnConfirm:!0,showLoaderOnConfirm:!0},function(){p.go("domainManage.myDomain.list.dns")});else{var i=v(t);i.record_line=t.lineType.line_name,i.record_line_id=t.lineType.line_id,u.put({domainid:parseInt(t.domainid),recordid:parseInt(t.recordid)},i).$promise.then(function(){swal("记录修改成功","域名解析存在延迟,请等待数分钟。若仍无法解析,请联系客服","success"),p.go("domainManage.myDomain.list.dns")})}}};s.push(c),a["default"].controller("domainDnsController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","domainListModel","$state"],c=function(e,t,i){e.domainListInit=function(){e.currentPage=1,e.pageSize=20,e.domainList={list:[],total:0},e.getDomainList(e.currentPage,e.pageSize)},e.getDomainList=function(i,n){e.processing=!0,t.get({page:i,page_size:n}).$promise.then(function(t){e.processing=!1,e.domainList=t},function(){e.processing=!1})},e.DOMAIN_REGISTER_ING=r.DOMAIN_REGISTER_ING,e.DOMAIN_REGISTER_FAIL=r.DOMAIN_REGISTER_FAIL,e.IDENTIFY_ING=r.IDENTIFY_ING,e.IDENTIFY_SUCCESS=r.IDENTIFY_SUCCESS,e.IDENTIFY_FAIL=r.IDENTIFY_FAIL,e.domainStatus=function(e){switch(e){case-1:return"域名注册失败";case 0:return"域名注册中";case 1:return"实名认证中";case 2:return"实名认证通过";case 3:return"实名认证失败";default:return"未知"}},e.dnsNormal=0,e.dnsStop=1,e.dnsForbiddened=2,e.dnsLocked=3};s.push(c),a["default"].controller("domainListController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=(i(7),i(3)),s=["$scope","domainPriceService","$stateParams","$state","domainPayService","$filter","domainDetailsModel"],c=function(e,t,i,n,o,a,s){e.renewYears=[{name:"一年",value:1},{name:"二年",value:2},{name:"三年",value:3},{name:"四年",value:4},{name:"五年",value:5},{name:"六年",value:6},{name:"七年",value:7},{name:"八年",value:8},{name:"九年",value:9},{name:"十年",value:10}],e.domainRenewInit=function(){e.domainRenew={},e.renewSearchNoResult=!0,i.params.hasOwnProperty("domain")?(e.domainRenew=i.params.domain,c(),l()):s.get({domainid:i.domainId}).$promise.then(function(t){e.domainRenew=t,c(),l()})};var c=function(){e.domainRenew.year=e.renewYears[0],e.domainRenew.contactTpl={},e.domainRenew.contactTpl.id=e.domainRenew.contact_tplid},l=function(){t.$promise.then(function(t){t.forEach(function(t,i){t.suffix==e.domainRenew.suffix&&(e.renewSearchNoResult=!1,e.domainRenew.sale_renew=t.sale_renew,e.domainRenew.totalPrice=parseInt(e.domainRenew.sale_renew)/100)})})};e.calculateDomainRenewPrice=function(){e.domainRenew.totalPrice=parseInt(e.domainRenew.sale_renew)/100*parseInt(e.domainRenew.year.value)},e.toPayAction=function(e){var t=[],i={};i.sendData=o.getSendData(e,r.RENEW_BUY_TYPE),i.showData={payWay:"money",name:e.domain+"."+e.suffix,price:parseInt(e.sale_renew),number:e.year.value,priceUnit:"元",numberUnit:"年",totalPrice:100*e.totalPrice,infos:[{name:"注册时间",value:a("date")(1e3*parseInt(e.register_time),"yyyy-MM-dd")},{name:"过期时间",value:a("date")(1e3*parseInt(e.expire_time),"yyyy-MM-dd")}],desc:""},i.callback={callbackUrl:{payCallbackHash:"domainManage.myDomain.list",hash:"#/domainManage/myDomain/list",success:"domainManage.myDomain.list",error:"domainManage.register"}},t.push(i),n.go("website.ordering",{params:{action:"payDomain",goods:t}})}};s.push(c),a["default"].controller("domainRenewController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","domainDnsModel","updateDomainDnsModel","$stateParams","$state"],c=function(e,t,i,n,o){e.$stateParams=n,e.dnsServerInit=function(){e.dnsServerOrigin={server:""},e.serverOrigin=[{name:"我方DNS服务器",value:"ours"},{name:"自定义DNS",value:"others"}],e.oursServer={dns1:r.DEFAULT_DNS1,dns2:r.DEFAULT_DNS2},e.othersServer={},t.get({domainid:n.domainId}).$promise.then(function(t){e.domainServer=t,t.dns1==r.DEFAULT_DNS1&&t.dns2==r.DEFAULT_DNS2?e.dnsServerOrigin.server="ours":(e.dnsServerOrigin.server="others",e.othersServer.dns1=t.dns1,e.othersServer.dns2=t.dns2)})},e.updateDnsServerAction=function(t,a){return"ours"==t.server?(a.dns1=r.DEFAULT_DNS1,a.dns2=r.DEFAULT_DNS2):(a.dns1=e.othersServer.dns1,a.dns2=e.othersServer.dns2),a.dns1&&a.dns2?void i.put({domainid:n.domainId},a).$promise.then(function(t){swal("更改成功！","修改 DNS 服务器最长需要 72 小时的全球生效时间，请耐心等待","success"),e.domainServer=t,o.go("domainManage.myDomain.list",{domainId:n.domainId})}):void swal("提醒","请输入服务器地址后再保存！","warning")}};s.push(c),a["default"].controller("setDnsServiceController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(7);var r=i(2),s=i(3),c=["$scope","$rootScope","domainListModel","transferInSiteModel","selectDomainService","isMobile","$modal","$cookies","$state"],l=function(e,t,i,n,o,a,c,l,u){e.servicerSetting=t.servicerSetting,e.transferInit=function(){e.getDomainList(),e.transferData={domain:{},receiverMobile:null}},e.validMobile=function(t){return e.existedMobile=t,a(t)},e.getDomainList=function(){e.domainList={list:[],total:0},i.get({page:1,page_size:200}).$promise.then(function(t){e.domainList=t})},e.selectTplAction=function(){if(e.domainList.total>0){var t=function(t){e.transferData.domain=t};o.open(e.transferData,t)}else swal("提醒","您还没有域名，请添加！","warning")},e.checkNumber=function(t){a(t)?e.receiverMobileError="":e.receiverMobileError="请输入正确的11位手机号码"},e.btnIsDisabled=function(e,t){return jQuery.isEmptyObject(e.domain)||!e.receiverMobile||t.mobile.$error.pattern},e.submitOut=function(t){c.open({size:"sm",templateUrl:(0,r.staticPath)("tpl/domain/list/transferInSite/sureTransfer.html"),scope:e,controller:["$scope","transferData","$modalInstance",function(e,t,i){e.transferData=t,e.sureToTransferAction=function(){var e={domainid:t.domain.doaminid,memberid:parseInt(l.get(s.ZHUZI_MEMBERID)),receive_member_mobile:t.receiverMobile};n.post({},e).$promise.then(function(){swal({title:"success",text:"域名过户申请提交成功!",type:"success",allowEscapeKey:!1,confirmButtonText:"确定"},function(){u.go("domainManage.myDomain.transferInSite.giveRecord")}),i.close()},function(){i.close()})},e.cancel=function(){i.close()}}],resolve:{transferData:function(){return t}}})}};c.push(l),a["default"].controller("transferInSiteController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(7);var r=i(2),s=i(4),c=["$scope","$rootScope","domainListModel","transferInSiteReceivedModel","transferInSiteGiveModel","contactPersonTplModel","transferInSiteDeleteModel","$stateParams","$modal","getDomainDetailModel","transferInSiteSureReceiveModel"],l=function(e,t,i,n,o,a,c,l,u,d,f){e.servicerSetting=t.servicerSetting,e.transferGivingInit=function(){e.currentPage=1,e.pageSize=20,e.getGivingTransferList(e.currentPage,e.pageSize)},e.getGivingTransferList=function(t,i){e.givingTransferList={list:[],total:0},e.processing=!0,o.get({page:t,page_size:i,status:-1}).$promise.then(function(t){e.processing=!1,e.givingTransferList=t},function(){e.processing=!1})},e.deleteTransferRecordAction=function(e){swal({title:"温馨提醒",text:"确定删除域名"+e.domain+"."+e.domain_suffix+"的该条站内转出记录？删除后此次转出将无效",type:"warning",allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想"},function(){c["delete"]({id:e.id}).$promise.then(function(){swal("success","域名"+e.domain+"."+e.domain_suffix+"的站内转出记录删除成功！","success"),p(e)})})};var p=function(t){for(var i in e.givingTransferList.list)if(e.givingTransferList.list[i].id==t.id)return e.givingTransferList.list.splice(i,1),void e.givingTransferList.total--};e.transferReceivingInit=function(){e.receive_currentPage=1,e.receive_pageSize=20,e.getReceivingTransferList(e.receive_currentPage,e.receive_pageSize),e.getContactTplList(),l.params&&"addContactTpl"==l.params.action&&e.agreeAction(l.params.transferInfo)},e.getReceivingTransferList=function(t,i){e.processing=!0,e.receivingTransferList={list:[],total:0},n.get({page:t,page_size:i,status:-1}).$promise.then(function(t){e.processing=!1,e.receivingTransferList=t},function(){e.processing=!1})},e.getContactTplList=function(){e.contactTplList={list:[],total:0},a.get({page:1,page_size:100}).$promise.then(function(t){e.contactTplList=t})};var m=2,g=3;e.agreeAction=function(t){u.open({templateUrl:(0,r.staticPath)("tpl/domain/list/transferInSite/transferList/agree.html"),scope:e,controller:["$scope","transferInfo","selectContactTplService","$modalInstance",function(e,t,i,n){e.transferInfo=t;var o=null;d({},(0,s.appendConfig)({get:{showErrorTip:!1}})).get({domain:t.domain,suffix:t.domain_suffix}).$promise.then(function(e){o=e.domain_type}),e.selectTplAction=function(){if(e.contactTplList.total>0){var a=function(t){e.transferInfo.contactTpl=t},r={type:"add",params:{action:"transferInSite",transferInfo:t}},s=function(){n.close()};e.selectResult=i.open(e.transferInfo,a,{isFilter:!0,domainType:o},r,s)}else swal("提醒","您还没有联系人模板，请添加！","warning")},e.sureReceiveAction=function(t){f.put({id:parseInt(t.id)},{id:parseInt(t.id),contact_tplid:parseInt(t.contactTpl.id),status:m}).$promise.then(function(){swal("success","域名过户接收成功！","success"),e.getReceivingTransferList(),n.close()},function(){n.close()})},e.cancelAction=function(){n.close()}}],resolve:{transferInfo:function(){return t}}})},e.refuseAction=function(t){swal({title:"温馨提醒",text:"确定拒绝接受"+(t.member.mobile?t.member.mobile:t.servicer.mobile)+"客户的"+t.domain+"."+t.domain_suffix+"域名过户请求吗？",type:"warning",allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"拒绝",cancelButtonText:"我再想想"},function(){f.put({id:t.id},{id:t.id,status:g}).$promise.then(function(){swal("success","拒绝接受"+t.domain+"."+t.domain_suffix+"域名过户成功！","success"),e.getReceivingTransferList()})})},e.TRANSFER_WAITING=0,e.TRANSFER_ING=1,e.TRANSFER_SUCCESS=2,e.TRANSFER_FAIL=3,e.tranferGiveStatus=function(e){switch(e){case 0:return"等待对方接收";case 1:return"转出中";case 2:return"转出成功";case 3:return"转出失败"}},e.tranferReceiveStatus=function(e){switch(e){case 0:return"待接收";case 1:return"接收中";case 2:return"接收成功";case 3:return"接收失败"}}};c.push(l),a["default"].controller("transferInSiteListController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(7);var r=i(3),s=["$scope","domainPriceService","userService","contactPersonTplService","transferIntoListModel","paymentPlatformListModel","getPaymentPlatformListService","domainPayService","getDomainService","selectContactTplService","contactPersonTplModel","$rootScope","$stateParams","$state"],c=function(e,t,i,n,o,a,s,c,l,u,d,f,p,m){e.servicerSetting=f.servicerSetting,e.userInfo=i.get(),e.domainPrices={list:[],total:0},e.contactTpl={list:[],total:0},e.intoData={domain:"",key:"",tpl:""};var g=function(){t.$promise.then(function(t){t.forEach(function(t,i){t.enable==r.DOMAIN_SUFFIX_ENABLE&&e.domainPrices.list.push(t)}),e.domainPrices.list=e.domainPrices.list.sort(function(e,t){return e.suffix.split("")[0].charCodeAt(0)-t.suffix.split("")[0].charCodeAt(0)}),e.domainPrices.total=e.domainPrices.list.length})},h=function(){d.get(1,100).$promise.then(function(t){e.contactTpl=t})};e.intoInit=function(){g(),h(),p.params&&"addContactTpl"==p.params.action&&(e.intoData=p.params.transferInfo)};var b=function(t){var i=!1,n=void 0,o=void 0,a=t.split("."),r=/^[a-zA-Z0-9]{0,62}(\.[a-zA-Z][-a-zA-Z]{0,62})+$/i;if(!r.test(t))return e.domainError="请输入正确的域名！域名不能包含中文#@;或空格等特殊字符",[!1];
e.domainError="";var s=l(a);return e.domainPrices.list.forEach(function(e,t){e.suffix==s.suffix&&(n=e.sale_transfer,o=e.type,i=!0)}),0==i?(e.domainError="暂不支持该域名后缀转入到我方平台,请更换其他域名后缀！",[!1]):[!0,s,n,o]},v=[];e.checkInputDomain=function(t){return v=[],t.domain?(e.domainError="",void(v=b(t.domain.trim()))):(e.domainError="请输入域名",!1)},e.selectTplAction=function(){if(e.contactTpl.total>0){var t=function(t){e.intoData.contactTpl=t},i={type:"add",params:{action:"domainTransferInto",transferInfo:e.intoDataintoData}};u.open(e.intoData,t,{isFilter:!0,domainType:v[3]},i)}else swal("提醒","您还没有联系人模板，请添加！","warning")},e.intoListInit=function(){e.currentPage=1,e.pageSize=20,e.transferIntoData={list:[],total:0},e.getIntoList(e.currentPage,e.pageSize),h()},e.TRANSFER_INTO_SUCCESS=2,e.TRANSFER_INTO_FAIL=3,e.intoStatus=function(e){switch(e){case 0:return"待转入";case 1:return"转入中";case 2:return"转入完成";case 3:return"转入失败"}},e.getIntoList=function(t,i){e.processing=!0,e.userInfo.$promise.then(function(a){o.get({page:t,page_size:i||20,status:-1,memberid:a.memberid}).$promise.then(function(t){e.processing=!1,e.transferIntoData=t,t.list&&(0==e.contactTpl.total?n.$promise.then(function(t){e.contactTpl=t,w()}):w())},function(){e.processing=!1})})};var w=function(){e.transferIntoData.list.forEach(function(t,i){e.contactTpl.list.forEach(function(n,o){t.contact_tplid==n.id&&(e.transferIntoData.list[i].tplName=n.name)})})};e.toPayAction=function(e){var t=[],i={},n={domain:v[1].domain,suffix:v[1].suffix,key:e.key,year:{value:r.TRANSFRR_INTO_YEAR},contactTpl:e.contactTpl,transferMoney:v[2]};i.sendData=c.getSendData(n,r.TRANSFRR_BUY_TYPE),i.showData={payWay:"money",name:n.domain+"."+n.suffix,price:parseInt(n.transferMoney),number:1,priceUnit:"元",numberUnit:"个",totalPrice:parseInt(n.transferMoney),infos:[{name:"转入密码",value:n.key},{name:"联系人模板",value:n.contactTpl.name}],desc:""},i.callback={callbackUrl:{payCallbackHash:"#/domainManage/myDomain/transferInto/record",hash:"#/domainManage/myDomain/transferInto/record",success:"domainManage.myDomain.transferInto.record",error:"domainManage.myDomain.transferInto"}},t.push(i),m.go("website.ordering",{params:{action:"payDomain",goods:t}})}};s.push(c),a["default"].controller("transferIntoController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(7);var r=i(2),s=i(3),c=["$scope","$rootScope","$modal","domainListModel","transferOutModel","selectDomainService","$cookies","$state"],l=function(e,t,i,n,o,a,c,l){e.servicerSetting=t.servicerSetting,e.outInit=function(){e.getDomainList(),e.getDomainOutList(1,20),e.outData={domain:{},outputOffice:"",otherOffice:"",value1:0,value2:0,value3:0,value4:0,otherReason:""},e.officeList=["万网","新网","世纪东方","新网互联","商务中国","REG域名注册网","其他"]},e.getDomainList=function(){e.domainList={list:[],total:0},n.get({page:1,page_size:200}).$promise.then(function(t){e.domainList=t})},e.selectTplAction=function(){if(e.domainList.total>0){var t=function(t){e.outData.domain=t};a.open(e.outData,t)}else swal("提醒","您还没有域名，请添加！","warning")},e.submitOut=function(t){return"undefined"==typeof t.domain.domain||""==t.domain.domain?(e.domainError="选择您将转出的域名！",void $(".out-domain").focus()):(e.domainError="",""==t.outputOffice?(e.outputOfficeError="请选择将转入的注册商！",void $(".output-office").focus()):"其他"!=t.outputOffice||t.otherOffice?(e.outputOfficeError="",t.value1+t.value2+t.value3+t.value4==0?(e.reasonError="请选择转出原因！",void $(".out-reason").focus()):(e.reasonError="","其他"==t.outputOffice&&t.otherOffice&&(t.outputOffice=t.otherOffice),void i.open({templateUrl:(0,r.staticPath)("tpl/domain/list/transferOut/sureTransferOut.html"),scope:e,controller:["$scope","$modalInstance","outData",function(e,t,i){e.outData=i,e.sureToTransferOutAction=function(){var e={domainid:i.domain.doaminid,memberid:parseInt(c.get(s.ZHUZI_MEMBERID)),output_office:i.outputOffice,reason:i.value1+i.value2+i.value3+i.value4,remark:i.otherReason};o.post({},e).$promise.then(function(){swal({title:"success",text:"域名转出申请提交成功!",type:"success",allowEscapeKey:!1,confirmButtonText:"确定"},function(){l.go("domainManage.myDomain.transferOut.record")}),t.close()},function(){t.close()})},e.cancel=function(){t.close()}}],resolve:{outData:function(){return t}}}))):(e.outputOfficeError="请输入其他注册商！",void $(".output-office").focus()))},e.outListInit=function(){e.currentPage=1,e.pageSize=20,e.domainOutList={list:[],total:0},e.getDomainOutList(e.currentPage,e.pageSize)},e.getDomainOutList=function(t,i){e.processing=!0,o.get({page:t,page_size:i,status:-1}).$promise.then(function(t){e.processing=!1,t.list&&t.list.length>0&&(t.list=u(t.list),e.domainOutList=t)},function(){e.processing=!1})};var u=function(t){var i=[1,2,4,8];return t.forEach(function(t,n,o){if(0!=t.reason){var a="";i.forEach(function(i,n){(t.reason&i)==i&&(8==i?t.remark&&(a+=t.remark+"；"):a+=e.outReason(n+1)+"；")}),o[n].reasons=a}}),t};e.DOMAIN_TRANSFER_OUT_SUCCESS=2,e.DOMAIN_TRANSFER_OUT_FAIL=3,e.outStatus=function(e){switch(e){case 0:return"等待对方接收";case 1:return"转出中";case 2:return"转出成功";case 3:return"转出失败"}},e.outReason=function(e){switch(e){case 1:return"续费价格太高";case 2:return"解析不稳定";case 3:return"功能不够";case 4:return"其他"}}};c.push(l),a["default"].controller("transferOutController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","$stateParams","$window","$state","domainPriceService","contactPersonTplModel","selectContactTplService","domainPayService"],c=function(e,t,i,n,o,a,s,c){e.$stateParams=t,e.renewYears=[{name:"一年",value:1},{name:"二年",value:2},{name:"三年",value:3},{name:"四年",value:4},{name:"五年",value:5},{name:"六年",value:6},{name:"七年",value:7},{name:"八年",value:8},{name:"九年",value:9},{name:"十年",value:10}],e.domainType=function(e){switch(e){case 1:return"英文域名";case 2:return"中文域名";case 3:return"海外域名";default:return"未知类型"}},e.domainBuyIint=function(){e.domainInfo={},e.getDomainInfo(),e.buyDomainTplError="",e.domainBuyYearError="",e.contactTplList={list:[],total:0},a.get({page:1,page_size:200}).$promise.then(function(t){e.contactTplList=t})},e.selectTplAction=function(){if(e.contactTplList.total>0){var t=function(t){e.domainInfo.contactTpl=t},i={type:"add",params:{action:"buyDomain",domain:e.domainInfo.domain,suffix:e.domainInfo.suffix}};s.open(e.domainInfo,t,{isFilter:!0,domainType:e.domainInfo.type},i)}else swal("提醒","您还没有联系人模板，请添加！","warning")},e.getDomainInfo=function(){o.$promise.then(function(i){i&&i.length>0&&i.forEach(function(i){i.suffix==t.suffix&&(e.domainInfo=i,e.domainInfo.year=e.renewYears[0],e.domainInfo.domain=t.domain,e.domainInfo.totalPrice=parseInt(e.domainInfo.sale_register)/100)})})},e.calculateDomainPrice=function(){var t=parseInt(e.domainInfo.year.value);1==t?e.domainInfo.totalPrice=parseInt(e.domainInfo.sale_register)/100:t>1&&t<=10&&(e.domainInfo.totalPrice=[parseInt(e.domainInfo.sale_register)+parseInt(e.domainInfo.sale_renew)*(t-1)]/100)},e.toPayAction=function(t){var i=[],o={};o.sendData=c.getSendData(t,r.REGISTER_BUY_TYPE),o.showData={payWay:"money",name:t.domain+"."+t.suffix,price:parseInt(t.sale_register),number:t.year.value,priceUnit:"元",numberUnit:"年",totalPrice:100*t.totalPrice,infos:[{name:"类型",value:e.domainType(t.type)},{name:"联系人模板",value:t.contactTpl.name}],desc:""},o.callback={callbackUrl:{payCallbackHash:"domainManage.register",hash:"#/domainManage/myDomain/list",success:"domainManage.myDomain.list",error:"domainManage.register"}},i.push(o),n.go("website.ordering",{params:{action:"payDomain",goods:i}})},e.cancelBuyDomainAction=function(){return i.location.search.length>0?void(i.location="/#/domainManage/register"):void n.go("domainManage.register",{params:{}})}};s.push(c),a["default"].controller("domainBuyController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(7);var r=i(3),s=i(4),c=i(2),l=["$scope","$stateParams","domainPriceModel","$timeout","domainIsRegistedModel","$window","$state","$rootScope","getDomainService","httpProcessing","logoutModel","clearLoginCookie"],u=function(e,t,i,n,o,a,l,u,d,f,p,m){function g(){var t=0;return e.domainUsefulList.forEach(function(i,n){i.suffix==e.searchDomainData.suffix&&(e.preciseDomain.sale_register=i.sale_register,e.preciseDomain.type=i.type,t++)}),0==t?void(e.preciseDomainError=!0):void o({},(0,s.appendConfig)({get:{showErrorTip:!1}})).get({domain:e.searchDomainData.domain,domain_suffix:e.searchDomainData.suffix}).$promise.then(function(t){e.preciseDomain.isSearching=!1,e.preciseDomain.isError=!1,e.preciseDomain.enable=t.enable,e.preciseDomain.remark=t.remark},function(t){200004==t.data.errcode?e.preciseDomainError=!0:(e.preciseDomain.isSearching=!1,e.preciseDomain.isError=!0)})}function h(){e.domainUsefulList.forEach(function(t,i){e.domainUsefulList[i].isSearching=!0,e.domainUsefulList[i].isError=!1,o({},(0,s.appendConfig)({get:{showErrorTip:!1}})).get({domain:e.searchDomainData.domain,domain_suffix:t.suffix}).$promise.then(function(n){e.domainUsefulList[i].isSearching=!1,e.domainUsefulList[i].isError=!1,e.domainUsefulList[i].enable=n.enable,e.domainUsefulList[i].remark=n.remark,e.domainUsefulList[i].domain=e.searchDomainData.domain,e.domainUsefulList[i].domainName=e.searchDomainData.domain+"."+t.suffix},function(){e.domainUsefulList[i].isSearching=!1,e.domainUsefulList[i].isError=!0})})}e.$stateParams=t,e.domainRegister={inputDomain:""},e.domainList={list:[],total:0},e.servicerSetting=u.servicerSetting,u.htmlClass="",e.logoutAction=function(){p(),m(),sessionStorage.clear(),location.href="/",u.$broadcast("updateDaovoice")},e.isLogin=c.isLogin,u.httpProcessing=f,e.delayInit=function(t,i,o){n(function(){e.domainRegister.inputDomain=o,e.init(t,i)},2e3)},e.init=function(t,i){e.isHideTable=!0,e.searchNoResult=!1,e.domainRegister.inputDomain=e.domainRegister.inputDomain||"";var n=(0,c.getQuery)();if(null!=n&&"undefined"!=typeof n.action)switch(n.action){case"buyDomain":var o=a.decodeURIComponent(n.domain),r=a.decodeURIComponent(n.suffix);if(r.indexOf("/")){var s=r.split("");s.pop(),r=s.join("")}e.doBuyDomainAction(o,r);break;case"searchDomain":var l=a.decodeURIComponent(n.inputDomain);if(l.indexOf("/")){var u=l.split("");u.pop(),l=u.join("")}return e.domainRegister.inputDomain=l,void e.getDomainPriceList(!0,-1)}e.getDomainPriceList(t,i)},e.domainIndexInit=function(){new WOW({animateClass:"animated",offset:100,callback:function(e){}}).init(),$(".tlt").textillate({}),setTimeout(function(){$(".banner-domain").on("mousemove",function(e){var t=Math.ceil($("body").width()/2),i=Math.ceil($("body").height()/2),n=2.5*t-e.pageX,o=e.pageY-i,a=o/i,r=-(n/t),s=Math.sqrt(Math.pow(a,2)+Math.pow(r,2)),c=20*s;TweenLite.set(".domain-browser",{transform:"rotate3d("+a+", "+r+", 0, "+c+"deg)"})})},1e3);var e=$(".domain-page"),t=$(".input-domain");$(".left-box-domain");t.on("focus",function(){e.addClass("open")}),t.on("blur",function(){t.val()||e.removeClass("open")})},e.getDomainPriceList=function(n,o){i.query().$promise.then(function(i){e.domainPriceList=i,e.domainUsefulList=[],i.forEach(function(t,i){t.enable==r.DOMAIN_SUFFIX_ENABLE&&e.domainUsefulList.push(t)}),e.searchNoResult=0==e.domainUsefulList.length,t.params&&"searchDomain"==t.params.action&&(e.domainRegister.inputDomain=t.params.inputDomain,e.searchDomain()),n&&(o>0&&(e.domainUsefulList.length=o),e.searchDomain());var a=[];e.chineseDomain="",e.domainPriceList.forEach(function(e,t){e.type==r.DOMAIN_TYPE_CHINESE&&a.push(e.suffix)}),1==a.length?e.chineseDomain="("+a[0]+")":a.length>1&&(e.chineseDomain="(",a.forEach(function(t,i){e.chineseDomain+=t+"/"}),e.chineseDomain+=")")})};var b=/^[a-zA-Z0-9.]+$/i,v=null,w=null;e.searchDomain=function(){if(!b.test(e.domainRegister.inputDomain))return void(e.inputError="请输入正确的域名！域名不能包含中文#@;或空格等特殊字符");if(e.inputError="",e.domainRegister.inputDomain=e.domainRegister.inputDomain.toLowerCase(),e.searchDomainData={domain:e.domainRegister.inputDomain,suffix:""},e.domainUsefulList&&e.domainUsefulList.length>0&&e.domainRegister.inputDomain){if(e.preciseQuery=!1,e.isHideTable=!1,e.preciseDomainError=!1,e.preciseOnlyDotError=!1,e.domainRegister.inputDomain.indexOf(".")>-1){e.preciseQuery=!0,e.preciseDomain={},e.preciseDomain.isSearching=!0,e.preciseDomain.isError=!1;var t=e.domainRegister.inputDomain.split(".");for(var i in t)if(!t[i])return void(e.isHideTable=!0);var o=d(t);e.searchDomainData.domain=o.domain,e.searchDomainData.suffix=o.suffix,n.cancel(v),v=n(g(),500)}n.cancel(w),w=n(h(),500)}},e.repeatPreciseSearchDomain=function(){g()},e.repeatSearchDomain=function(t,i){e.domainUsefulList[t].isSearching=!0,e.domainUsefulList[t].isError=!1,o({},(0,s.appendConfig)({get:{showErrorTip:!1}})).get({domain:e.searchDomainData.domain,domain_suffix:i.suffix}).$promise.then(function(n){e.domainUsefulList[t].isSearching=!1,e.domainUsefulList[t].isError=!1,e.domainUsefulList[t].enable=n.enable,e.domainUsefulList[t].remark=n.remark,e.domainUsefulList[t].domain=e.searchDomainData.domain,e.domainUsefulList[t].domainName=e.searchDomainData.domain+"."+i.suffix},function(){e.domainUsefulList[t].isSearching=!1,e.domainUsefulList[t].isError=!0})},e.domainIndexLogin=function(){var e=a.location.origin+a.location.pathname,t="#/domain";e=a.encodeURIComponent(e+"/"+t),location.href="/?callback="+e},e.domainType=function(e){switch(e){case 1:return"英文域名";case 2:return"中文域名";case 3:return"海外域名";default:return"未知类型"}},e.doBuyDomainAction=function(e,t){(0,c.isLogin)()?l.go("domainManage.register.buy",{domain:e,suffix:t}):swal({title:"",text:"系统检测到您未登录，请先登录!",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",cancelButtonText:"取消",confirmButtonText:"前往登录",closeOnConfirm:!1},function(){var i=a.location.origin+a.location.pathname,n="#/domainManage/register";i=a.encodeURIComponent(i+"?action=buyDomain&domain="+e+"&suffix="+t+"/"+n),location.href="/?callback="+i})}};l.push(u),a["default"].controller("domainRegisterController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(22),i(12);var r=i(3),s=i(2),c=["$scope","$rootScope","memberBalanceModel","cashExchangeIntegralModel","userService","$modal","voucherModel"],l=function(e,t,i,n,o,a,c){e.userInfo=o.get(),e.ORDER_COST=r.ORDER_COST,e.EXCHANGE_UINT=r.EXCHANGE_UINT,e.ORDER_INCOMING=r.ORDER_INCOMING,e.getIntegral=0,e.initNormal=function(){e.memberBalance={integral:0,recharge:0},e.userInfo.$promise.then(function(t){e.memberid=t.memberid,e.getBalance()}),e.getVoucherNum()},e.getBalance=function(){i.get({memberid:e.memberid}).$promise.then(function(t){e.memberBalance=t})},e.getVoucherNum=function(){e.voucherNum=0,c.get({}).$promise.then(function(t){t.list.forEach(function(t){0==t.use_time&&1e3*t.expire_time>Date.now()&&(e.voucherNum+=1)})})},e.cashExchangeToIntegralAction=function(){a.open({templateUrl:(0,s.staticPath)("tpl/finance/exchange.html"),scope:e,controller:["$scope","$modalInstance",function(e,t){e.getIntegral=parseInt(e.memberBalance.recharge/100/r.EXCHANGE_UINT),e.getNumber=function(){return e.inputCash?Math.floor(e.inputCash/r.EXCHANGE_UINT):Math.floor(e.memberBalance.recharge/100/r.EXCHANGE_UINT)},e.sureExchangeAction=function(i){n.post({},{cash:100*Math.floor(parseInt(i)),memberid:e.memberid}).$promise.then(function(t){t.success?(swal("success","现金兑换积分成功！","success"),e.getBalance()):swal("error","现金兑换积分失败！请重试","errror")}),t.close()},e.cancelAction=function(){t.close()}}],resolve:{},width:500})}};c.push(l),a["default"].controller("financeController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(140);var r=i(3),s=["$scope","$rootScope","userService","memberOrderListModel"],c=function(e,t,i,n){e.userInfo=i.get(),e.orderList={list:[],total:0},e.ORDER_COST=r.ORDER_COST,e.ORDER_INCOMING=r.ORDER_INCOMING;var o=function(t){return n.get({memberid:e.userInfo.memberid,page:t,page_size:e.pageSize})};e.getOrderStatus=function(e){switch(e){case-1:return"订单关闭";case 0:return"待付款";case 1:return"订单完成";case 2:return"等待支付";case 3:return"等待收款";case 4:return"购买队列重试1";case 5:return"购买队列重试2";case 6:return"购买队列重试3";default:return"未知"}},e.init=function(){e.currentPage=1,e.pageSize=20,e.userInfo.$promise.then(function(){e.orderListAction(e.currentPage)})},e.orderListAction=function(t){e.processing=!0,o(t).$promise.then(function(t){e.processing=!1,e.orderList=t},function(){e.processing=!1})}};s.push(c),a["default"].controller("memberOrderController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(12),i(6);var r=i(5),s=n(r),c=i(3),l=["$scope","$rootScope","voucherModel","voucherOpModel","voucherUseModel","websiteListModel","websiteModel","$cookies","$filter","$state","$stateParams","usefulTimeService"],u=function(e,t,i,n,o,a,r,l,u,d,f,p){e.voucherListInit=function(){e.currentPage=1,e.pageSize=20,e.getVoucherListSiteName(e.currentPage,e.pageSize)},e.useInit=function(){e.websites={list:[],total:0,goods:[]},e.voucherid=f.voucherid,e.useCurrentPage=1,e.usePageSize=20,e.getWebsiteLists(e.useCurrentPage,e.usePageSize),f.params&&"createTemplate"==f.params.action&&d.go("finance.voucher.use",{voucherid:f.params.voucherid})},e.getVoucherListSiteName=function(t,n){e.processing=!0,i.get({memberid:parseInt(l.get(c.ZHUZI_MEMBERID))}).$promise.then(function(i){e.voucherList=i,a.get({page:t||1,page_size:n||20}).$promise.then(function(t){e.processing=!1,e.websiteList=t,e.voucherList.list.forEach(function(t,i,n){"undefined"!=t.data.siteid&&e.websiteList.list.forEach(function(e,o){t.data.siteid==e.siteid&&(n[i].siteName=e.site_name,n[i].website=e.free_domainname+"."+e.ext_domain)}),1e3*t.expire_time<Date.now()?(n[i].state="已过期",n[i].stateType=!1):t.use_time>0&&1e3*t.expire_time>Date.now()?(n[i].state="已使用",n[i].stateType=!1):0==t.use_time&&1e3*t.expire_time>Date.now()&&(n[i].state="未使用",n[i].stateType=!0)})})},function(){e.processing=!1})},e.deleteVoucherAction=function(t){"string"==typeof t&&swal({title:"提醒",text:"确定要删除该抵扣券？",type:"warning",showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&n["delete"]({voucherid:t}).$promise.then(function(){s["default"].success("删除成功"),e.voucherList.total-=1,e.voucherList.list=e.voucherList.list.filter(function(e){return e.id!=t})})})},e.getWebsiteLists=function(t,i){n.get({voucherid:f.voucherid}).$promise.then(function(n){var o=n.data.good_logo;a.get({page:t||1,page_size:i||20}).$promise.then(function(t){t.list.forEach(function(e,i){if(t.goods[e.siteid]&&""!=t.goods[e.siteid].vip&&"try"!=t.goods[e.siteid].vip&&t.goods[e.siteid].vip!=o){var n=parseInt(1e3*t.goods[e.siteid].expire-Date.now());n<0&&(n=0),e.expire=p.usefulTime(n),e.isUsable=!1}else e.isUable=!0,e.website=e.free_domainname+"."+e.ext_domain,e.isVip=t.goods[e.siteid]&&""!=t.goods[e.siteid].vip}),e.websites=m(t)})})};var m=function(t){e.usableNum=angular.copy(t.total);for(var i=0;i<t.list.length;i++)0==t.list[i].isUsable&&e.usableNum--;return t};e.useAction=function(e,t){o.put({voucherid:e},{siteid:parseInt(t)}).$promise.then(function(){swal({title:"OK",text:"成功使用此抵扣券！",type:"success",confirmButtonText:"确定"},function(){d.go("finance.voucher")})})},e.useVoucherAction=function(e){f.params.siteid?o.put({voucherid:e},{siteid:parseInt(f.params.siteid)}).$promise.then(function(){var e="站点创建成功！且已升级成为VIP站点！";f.params.purchase&&(e="成功升级为VIP站点!"),swal({title:"OK",text:e,type:"success",confirmButtonText:"前往管理网站"},function(){d.go("website.detail",{websiteid:f.params.siteid})})}):d.go("finance.voucher.use",{voucherid:e})}};l.push(u),a["default"].controller("voucherController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(146),i(22),i(19);var r=["$scope","$rootScope","$state","$stateParams","userService","withdrawListModel","widthdrawCreateModel","memberBalanceModel","paymentPlatformListModel"],s=function(e,t,i,n,o,a,r,s,c){e.userInfo=null,e.memberBalance={integral:0,recharge:0};var l=function(e){return a.get(e)},u=function(){e.userInfo=o.get(),e.userInfo.$promise.then(function(t){e.memberBalance=s.get({memberid:t.memberid})})};e.getStatus=function(e){switch(e){case 0:return"申请中";case 1:return"提现中";case 2:return"提现成功";case 3:return"提现失败";default:return"未知"}},e.listInit=function(){e.currentPage=1,e.pageSize=20,u(),e.withdrawList={list:[],total:0},e.withdrawListAction(e.currentPage)},e.withdrawListAction=function(t){e.processing=!0,l({page:t,page_size:e.pageSize}).$promise.then(function(t){e.processing=!1,e.withdrawList=t},function(){e.processing=!1})},e.createInit=function(){u(),e.createParams={},e.paymentPlatformList=[],c().then(function(t){e.paymentPlatformList=t.data,e.createParams.pay_platform=t.data[0]})},e.createSubmitAction=function(t){var n={cash:100*parseInt(t.recharge.toFixed(0)),pay_platform:t.pay_platform.logo,pay_account:t.account,remark:t.remark||"",memberid:e.userInfo.memberid};swal({title:"",text:"<div>\n                        <h4>提交信息:</h4>\n                        <p>金额:"+t.recharge+"元</p>\n                        <p>转出平台:"+t.pay_platform.name+"</p>\n                        <p>转出账号:"+t.account+"</p>\n                        <p>备注信息:"+(t.remark||"无")+"</p>\n                   </div>",html:!0,showCancelButton:!0,confirmButtonText:"确定提交",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(e){e&&r.post({},n).$promise.then(function(){swal({title:"操作成功",text:"转成申请提交成功,我们将会在数个工作日后为您操作!",type:"success",confirmButtonText:"返回",closeOnConfirm:!0},function(){i.go("finance.withdraw")})})})}};r.push(s),a["default"].controller("withdrawController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(18);var r=i(3),s=["$scope","getIntegralListModel","getIntegralRulesModel","userService","$cookies"],c=function(e,t,i,n,o){e.INVITE_REGISTER=r.INVITE_REGISTER,e.integralListInit=function(){e.currentPage=1,e.pageSize=20,e.integralRules={list:[],total:0},e.integralList={list:[],total:0},e.getIntegralRules()},e.getIntegralRules=function(t,n){e.processing=!0,t=t||1,n=n||20,i.get({page:t,page_size:n}).$promise.then(function(t){e.integralRules=t,e.getIntegralList()})},e.getIntegralList=function(i,n){e.processing=!0;var a={memberid:parseInt(o.get(r.ZHUZI_MEMBERID)),rules_logo:"",page:i||1,page_size:n||20};t.get(a).$promise.then(function(t){e.processing=!1,e.integralList=t,e.integralList.list.forEach(function(t,i,n){e.integralList.siteInfo&&e.integralList.siteInfo.forEach(function(e,o){t.siteid==e.siteid&&(n[i].siteName=e.site_name,n[i].webSite=e.free_domainname+"."+e.ext_domain)}),e.integralRules.list.forEach(function(e,o){t.rules_logo&&t.rules_logo==e.logo&&(n[i].getFrom=e.name)}),e.integralList.goodsinfo&&e.integralList.goodsinfo.forEach(function(e,o){t.goods_logo&&t.goods_logo==e.logo&&(n[i].useTo=e.name)})})},function(){e.processing=!1})}};s.push(c),a["default"].controller("integralListController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(18);var r=["$scope","userService","memberBalanceModel","getMemberBalanceService"],s=function(e,t,i,n){e.userInfo=t.get(),e.normalInit=function(){e.memberBalance={integral:0,recharge:0},e.userInfo.$promise.then(function(t){n.get(t.memberid).$promise.then(function(t){e.memberBalance=t})})}};r.push(s),a["default"].controller("integralNormalController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(18),i(20);var r=i(3),s=i(2),c=["$scope","getGoodsModel","memberBalanceModel","cashExchangeIntegralModel","integralBuyGoodModel","websiteListModel","$cookies","$modal","$stateParams","$state","getColNumService","goodsInfoService"],l=function(e,t,i,n,o,a,c,l,u,d,f,p){e.goodslListInit=function(){if(e.colNum=3,e.EXCHANGE_UINT=r.EXCHANGE_UINT,e.GOOD_TYPE_SITE=r.GOOD_TYPE_SITE,e.BILLING_TYPE_NUMBER=r.BILLING_TYPE_NUMBER,e.BILLING_TYPE_TIME=r.BILLING_TYPE_TIME,e.goodsData=[],e.getGoodsList(),e.getBalance(),e.getWebsiteList(),u.params&&"createTemplate"==u.params.action){var t={name:u.params.name,price:u.params.price,logo:u.params.logo};e.buyAction(t)}},e.getGoodsList=function(i,n){i=i||1,n=n||20,t.get({type:r.GOOD_TYPE_PACKAGE,price_type:r.PRICE_TYPE_INTEGRA,page:i,page_size:n}).$promise.then(function(t){t.list&&t.list.length>0&&(t.list=t.list.sort(function(e,t){return e.price-t.price}),e.goodsData=p.reStructure(t,p.getGoodsTypes(t,e.goodsData)),e.colNum=f(e.goodsData.length))})},e.getBalance=function(){e.memberBalance={integral:0,recharge:0},i.get({memberid:c.get(r.ZHUZI_MEMBERID)}).$promise.then(function(t){e.memberBalance={integral:t.integral,recharge:t.recharge}})},e.getWebsiteList=function(){e.websites={list:[],total:0},a.get({page:1,page_size:200}).$promise.then(function(t){t.list.forEach(function(i,n){t.goods[i.siteid]&&""!=t.goods[i.siteid].vip&&"try"!=t.goods[i.siteid].vip||(i.detailName=i.site_name+"（"+i.free_domainname+"."+i.ext_domain+"）",e.websites.list.push(i))}),e.websites.total=e.websites.list.length})},e.nodeSwitchType=function(e){switch(e){case 0:return"普通节点";case 1:return"普通节点，VIP节点";case 2:return"普通节点，VIP节点，超级VIP节点"}},e.buyAction=function(t){e.good=t,l.open({templateUrl:(0,s.staticPath)("tpl/integralShop/sureOrder.html"),scope:e,controller:["$scope","$modalInstance",function(e,t){e.good.siteInfo=null,1==e.websites.total&&(e.good.siteInfo=e.websites.list[0]),e.sureBuyAction=function(i){var o=0;e.memberBalance.integral>=i.price?e.toPayAction(i):e.memberBalance.recharge*r.EXCHANGE_UINT+e.memberBalance.integral>i.price?(o=i.price-e.memberBalance.integral,swal({title:'<h5>您的积分不足！还需<span class="red">'+o/100+'个</span>积分</h5><p class="sweetalert-text">您的现金余额为<span class="red">'+e.memberBalance.recharge/100+"元</span>，是否使用现金兑换"+o/100+"个积分？</p>",text:null,type:"warning",showConfirmButton:!0,showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:"确定兑换",cancelButtonText:"取消",html:!0},function(){n.post({},{cash:o/r.EXCHANGE_UINT,memberid:parseInt(c.get(r.ZHUZI_MEMBERID))}).$promise.then(function(){e.toPayAction(i)},function(e){swal("错误","兑换失败！"+e.data.errmsg,"error")})})):swal({title:"购买失败",text:"您的积分不足无法完成购买,可先赚取积分",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-primary",confirmButtonText:"赚取积分",cancelButtonText:"取消"},function(){d.go("tuiguang.award"),t.close()})},e.toPayAction=function(e){t.close();var i=[],n=angular.copy(e);n.showData={payWay:"",name:""+n.name,price:parseInt(e.price),number:1,priceUnit:"个积分",numberUnit:"个",totalPrice:parseInt(e.price),infos:[{name:"网站名",value:e.siteInfo.site_name},{name:"网站域名",value:e.siteInfo.free_domainname+"."+e.siteInfo.ext_domain}],desc:""},i.push(n),d.go("website.ordering",{params:{action:"integralBuyGood",goods:i}})},e.cancelAction=function(){t.close()}}],resolve:{}})}};c.push(l),a["default"].controller("integralShopController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(26);var r=i(3),s=["$scope","tuiguangAwardListModel","$cookies"],c=function(e,t,i){e.awardListInit=function(){e.currentPage=1,e.pageSize=20,e.getAwardList()},e.getAwardList=function(n,o){e.processing=!0,e.awardList={list:[],total:0};var a={memberid:parseInt(i.get(r.ZHUZI_MEMBERID)),page:n||1,page_size:o||20};t.get(a).$promise.then(function(t){e.processing=!1,e.awardList=t,e.awardList.list.forEach(function(t,i,n){e.awardList.memberinfo&&e.awardList.memberinfo.forEach(function(e,o){t.invited_memberid==e.invited_memberid&&(n[i].invitedMemberMobile=e.mobile)}),e.awardList.cashback_rule&&e.awardList.cashback_rule.forEach(function(e,o){t.rule_logo==e.logo&&(n[i].cash=e.cash)}),e.awardList.siteInfo&&e.awardList.siteInfo.forEach(function(e,o){t.siteid==e.siteid&&(n[i].website=e.free_domainname+"."+e.ext_domain)}),e.awardList.goodsinfo&&e.awardList.goodsinfo.forEach(function(e,o){t.good_logo==e.logo&&(n[i].goodName=e.name)})})},function(){e.processing=!1})}};s.push(c),a["default"].controller("awardListController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(26);var r=i(3),s=i(4),c=["$scope","$q","userModel","balanceModel","getCashbackRulesModel","getCashbackRuleDetailModel","getIntegralRulesModel","$window","$rootScope","baiduShareService"],l=function(e,t,i,n,o,a,c,l,u,d){e.userInfo=null,e.EXCHANGE_UINT=r.EXCHANGE_UINT;var f=function(){d.getShareDom(e.servicerSetting,e.userInfo);var t=new Clipboard(".copybtn");t.on("success",function(e){jQuery(e.trigger).text("复制成功"),e.clearSelection()}),t.on("error",function(e){jQuery(e.trigger).text("复制失败")})};e.shareAction=function(e){d.simulateShareClick(e)},e.userInfoAction=function(n){var o=null!=e.userInfo;n=n||!1;var a=t.defer();return o&&!n?(a.resolve(e.userInfo),a.promise):(a=i.get({}),a.$promise.then(function(t){e.userInfo=t.toJSON()}),a.$promise)},e.awardInit=function(){e.INTEGRA_RULE_DISABLE=1,e.CASHBACK_RULE_ENABLE=0,e.cashbackRules={list:[],total:0},e.integralRules={list:[],total:0},e.getCashBackRules(),e.getIntegralRules(),e.userInfoAction().then(function(){e.getIntegralBalance(),e.promoteUrl="给你推荐一个免费建站的网站——"+e.servicerSetting.info.logo_text+":http://"+e.servicerSetting.info.uc_domain+"/m/"+e.userInfo.memberid+" 注册就送5G云空间",f()}),e.servicerDetail=u.servicerDetail},e.getCashBackRules=function(t,i){t=t||1,i=i||20,o.query({page:t,page_size:i,enable:1}).$promise.then(function(t){t=t.sort(function(e,t){return e.cash-t.cash}),e.cashbackRules.list=t,e.cashbackRules.total=t.length})},e.getIntegralRules=function(t,i){t=t||1,i=i||20,c.get({page:t,page_size:i}).$promise.then(function(t){e.integralRules=t})},e.getIntegralBalance=function(){n({},(0,s.appendConfig)({get:{showErrorTip:!1}})).get({memberid:e.userInfo.memberid},function(t){e.memberBalance=t},function(e){swal({title:"OK",text:e.data.errmsg,type:"error",allowEscapeKey:!1,confirmButtonText:"关闭"},function(){$state.go("user.normal")})})}};c.push(l),a["default"].controller("tuiguangController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(10);var r=i(2),s=["$scope","$rootScope","$resource","$window","$cookies","isEmail","isMobile","md5","tokenModel","writeLoginCookie","timestampToString","thirdPartyBindService","$state","checkBindCallbackService","$stateParams"],c=function(e,t,i,n,o,a,s,c,l,u,d,f,p,m,g){e.servicerSetting=t.servicerSetting,e.servicerDetail=t.servicerDetail,e.timestampToString=d,e.init=function(){var t=localStorage.getItem("ucVersion2.1");t||(swal({type:"success",title:"我们升级新版本啦",text:"亲爱的用户您好！我们升级了新版本，<br>更好用、更简洁，欢迎体验！",showConfirmButton:!0,confirmButtonText:"立即体验",html:!0}),localStorage.setItem("ucVersion2.1",1)),e.isFromBind=!1,e.app.settings.container=!1,e.loginFailedNum=0,e.error="",e.loginData={username:g.mobile||"",password:"",mustLogin:!1},e.$on("readyBind",function(t,i){return"undefined"==typeof i.type||""==i.type?void n.location.reload():(e.bindInfo.data=i,void p.go("bind"))}),e.isFromBind="login"==e.bindInfo.choice},e.isValidUsername=function(e){return!(e.length<1)&&(a(e)||s(e))},e.loginAction=function(i){e.error="";var o={servicerid:e.servicerSetting.servicerid,must_login:i.mustLogin,password:c.createHash(i.password)};a(i.username)&&(o.email=i.username),s(i.username)&&(o.mobile=i.username);var f=l.post(o);return f.$promise.then(function(i){u(i),t.$broadcast("updateDaovoice");var o=(0,r.getQuery)(),a="/";null!=o&&"undefined"!=typeof o.callback&&(a=n.decodeURIComponent(o.callback)),m.calback(e.bindInfo,i,a)},function(t){423==t.status?swal({title:"提醒",text:t.data.errmsg.msg+'登录时间:<span style="color:red;">'+d(t.data.errmsg.last_login)+"</span>,确认登录请点击继续,否则请点击取消!",type:"warning",html:!0,showCancelButton:!0,confirmButtonText:"确定登录",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&(e.loginData.mustLogin=!0,e.loginAction(e.loginData))}):(e.error=t.data.errmsg,e.loginFailedNum++)}),f},e.bindAction=function(e){f.bindAction(e)},e.bindConfirmPageInit=function(){"undefined"!=typeof e.bindInfo.data.type&&""!=e.bindInfo.data.type||p.go("account.login");
},e.bindToLogin=function(){e.bindInfo.choice="login",p.go("account.login")},e.bindToRegister=function(){e.bindInfo.choice="register",p.go("register")}};s.push(c),a["default"].controller("loginController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(10);var r=i(4),s=i(2),c=["$scope","$rootScope","$window","$resource","$q","isEmail","isMobile","isRegistered","registerModel","md5","$cookies","writeLoginCookie","thirdPartyBindService","$state","checkBindCallbackService"],l=function(e,t,i,n,o,a,c,l,u,d,f,p,m,g,h){e.servicerSetting=t.servicerSetting,e.servicerDetail=t.servicerDetail,e.init=function(){e.isFromBind=!1,e.registerData={mobile:"",password:"",repassword:"",email:"",code:""},e.$on("readyBind",function(t,n){return"undefined"==typeof n.type||""==n.type?void i.location.reload():(e.bindInfo.data=n,void g.go("bind"))}),e.isFromBind="register"==e.bindInfo.choice},e.registerAction=function(n){e.registerForm.$pending=!0;var o={email:n.email,mobile:n.mobile,password:d.createHash(n.password),code:n.code.toString(),servicerid:parseInt(e.servicerSetting.servicerid),inviteid:f.get("inviteid")?parseInt(f.get("inviteid")):0,channel:f.get("channel")},a=u.post(o);return a.$promise.then(function(n){p(n),t.$broadcast("updateDaovoice");var o=(0,s.getQuery)(),a="/";null!=o&&"undefined"!=typeof o.callback&&(a=i.decodeURIComponent(o.callback)),h.calback(e.bindInfo,n,a),e.registerForm.$pending=!1}),a},e.validMobile=function(t){return e.existedMobile=t,c(t)},e.mobileRegistered=function(e){var t=o.defer();return c(e)?(l({},(0,r.appendConfig)({get:{showErrorTip:!1}})).get({typename:"mobile",mobile:e}).$promise.then(function(e){e.success?t.resolve():t.reject()},function(){t.reject()}),t.promise):t.reject()},e.emailRegistered=function(e){var t=o.defer();return a(e)||t.resolve(),l({},(0,r.appendConfig)({get:{showErrorTip:!1}})).get({typename:"email",email:e}).$promise.then(function(e){e.success?t.resolve():t.reject()},function(){t.reject()}),t.promise},e.bindAction=function(e){m.bindAction(e)}};c.push(l),a["default"].controller("registerController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(10);var r=["$scope","$rootScope","isMobile","resetPwdModel","$window","md5","$state"],s=function(e,t,i,n,o,a,r){e.init=function(){e.error="",e.resetData={mobile:"",smscode:"",password:"",repassword:""}},e.validMobile=function(e){return i(e)},e.resetAction=function(t){if(!e.resetForm.$invalid){e.error="";var i={mobile:t.mobile,code:t.smscode.toString(),newpassword:a.createHash(t.password)};n.update(i,function(){e.error="",swal("重置密码成功","即将跳转到登录界面","success"),r.go("account.login")},function(t){e.error=t.data.errmsg})}}};r.push(s),a["default"].controller("resetController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","bindWechatModel","bindQQModel","bindWeiboModel","isWechatBindModel","isWeiboBindModel","isQQBindModel","$q","userModel","thirdPartyBindService"],s=function(e,t,i,n,o,a,r,s,c,l){e.isBind={qq:!1,weibo:!1,wechat:!1},e.userInfo=null,e.bindInit=function(){e.$on("readyBind",function(o,a){var r={};switch(a.type){case"wechat":r=t;break;case"qq":r=i;break;case"weibo":r=n;break;case"":default:return void swal("警告","您的账号已经绑定了其他账号!","warning")}r.post({openid:a.openid},function(){e.isBind[a.type]=!0,swal({title:"OK",text:"绑定成功",type:"success",confirmButtonText:"关闭",closeOnConfirm:!0})},function(){swal({title:"OK",text:"绑定失败",type:"error",confirmButtonText:"关闭",closeOnConfirm:!0})})}),e.userInfoAction().then(function(){o.get({},function(t){e.isBind.wechat=t.bind}),a.get({},function(t){e.isBind.weibo=t.bind}),r.get({},function(t){e.isBind.qq=t.bind})})},e.userInfoAction=function(t){var i=null!=e.userInfo;t=t||!1;var n=s.defer();return i&&!t?(n.resolve(e.userInfo),n.promise):(n=c.get({}),n.$promise.then(function(t){e.userInfo=t.toJSON()}),n.$promise)},e.bindAction=function(e){l.bindAction(e)},e.unbindWechatAction=function(){swal({title:"警告",text:"确认取消绑定微信?",type:"warning",confirmButtonText:"确定解绑",cancelButtonText:"我再想想",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){t["delete"]({},function(){e.isBind.wechat=!1,swal({title:"OK",text:"解绑微信成功",type:"success",confirmButtonText:"关闭",showCancelButton:!1,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){swal.close()})},function(e){swal("警告",e.data.errmsg,"error")})})},e.unbindWeiboAction=function(){swal({title:"警告",text:"确认取消绑定微博?",type:"warning",confirmButtonText:"确定解绑",cancelButtonText:"我再想想",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){n["delete"]({},function(){e.isBind.weibo=!1,swal({title:"OK",text:"解绑微博成功",type:"success",confirmButtonText:"关闭",showCancelButton:!1,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){swal.close()})},function(e){swal("警告",e.data.errmsg,"error")})})},e.unbindQQAction=function(){swal({title:"警告",text:"确认取消绑定QQ?",type:"warning",confirmButtonText:"确定解绑",cancelButtonText:"我再想想",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){i["delete"]({},function(){e.isBind.qq=!1,swal({title:"OK",text:"解绑QQ成功",type:"success",confirmButtonText:"关闭",showCancelButton:!1,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){swal.close()})},function(e){swal("警告",e.data.errmsg,"error")})})}};r.push(s),a["default"].controller("bindAccountController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2),s=i(5),c=n(s),l=["$scope","$q","userModel","$modal","timestampToString"],u=function(e,t,i,n,o){e.timestampToString=o,e.userInfo=null,e.init=function(){e.userInfoAction()},e.userInfoAction=function(n){var o=null!=e.userInfo;n=n||!1;var a=t.defer();return o&&!n?(a.resolve(e.userInfo),a.promise):(a=i.get({}),a.$promise.then(function(t){e.userInfo=t.toJSON()}),a.$promise)},e.changeNicknameAction=function(){n.open({scope:e,backdrop:"static",templateUrl:(0,r.staticPath)("/tpl/user/changeNicknameConfirm.html"),controller:["$scope","$modalInstance","userModel",function(e,t,i){e.nickname=e.$parent.userInfo.info.nickname,e.modifyAction=function(n){i.update({nickname:n},function(i){c["default"].success("用户昵称修改成功"),e.$parent.userInfo=i.toJSON(),t.close()})},e.cancel=function(){t.close()}}]})},e.changeBindMobileAction=function(){n.open({templateUrl:(0,r.staticPath)("/tpl/user/bindMobileConfirm.html"),scope:e,backdrop:"static",controller:["$scope","$modalInstance","isMobile","md5",function(e,t,n,o){e.postData={},e.validMobile=function(t){return e.existedMobile=t,n(t)},e.modifyAction=function(n){i.update({mobile:n.mobile,smscode:n.smscode.toString(),old_password:o.createHash(n.password)},function(i){c["default"].success("用户手机号修改成功"),e.$parent.userInfo=i.toJSON(),t.close()})},e.cancel=function(){t.close()}}]})},e.changeBindEmailAction=function(){n.open({templateUrl:(0,r.staticPath)("/tpl/user/bindEmailConfirm.html"),scope:e,backdrop:"static",controller:["$scope","$modalInstance","md5",function(e,t,n){e.postData={},e.modifyAction=function(o){i.update({email:o.email,old_password:n.createHash(o.password)},function(i){c["default"].success("用户绑定邮箱修改成功"),e.$parent.userInfo=i.toJSON(),t.close()})},e.cancel=function(){t.close()}}]})},e.changePWDAction=function(){n.open({templateUrl:(0,r.staticPath)("/tpl/user/changePWDConfirm.html"),scope:e,backdrop:"static",controller:["$scope","$modalInstance","md5",function(e,t,n){e.postData={},e.modifyAction=function(e){i.update({old_password:n.createHash(e.old_password),new_password:n.createHash(e.password)},function(e){c["default"].success("用户登录密码修改成功"),t.close()})},e.cancel=function(){t.close()}}]})}};l.push(u),a["default"].controller("userNormalController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=(n(r),i(2)),c=i(3);i(9),i(6);var l=["$scope","$rootScope","$state","$stateParams","blogsModel","blogOperateModel","blogToPageModel","blogTagModel","blogOnePageModel","blogSortModel","tagBlogsModel","userService","$filter","httpProcessing","$modal","getPagesLevelService","websitePageModel","vodIframeService","vodChangeService","$q"],u=function(e,t,i,n,o,a,r,l,u,d,f,p,m,g,h,b,v,w,y,P){function A(t,n){swal({type:"warning",title:"温馨提示",text:"填写的数据将丢失，确定离开此页面？",showCancelButton:!0,confirmButtonText:"确定离开",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(o){o&&(e.removeSessionAction(),i.go(t,n))})}function x(){M=e.$watch("articleDetail",function(t,i){if(!C(t)&&JSON.stringify(t)!=JSON.stringify(i)){var o=JSON.stringify(t);n.articleid&&"edit"==n.type?sessionStorage.setItem("article-"+e.articleDetail.unionid,o):sessionStorage.setItem("article-create",o)}},!0)}e.DRAFT_STATE=c.ARTICLE_DRAFT_STATE,e.ONLINE_STATE=c.ARTICLE_ONLINE_STATE,e.BLOG_PAGE=c.BLOG_PAGE,e.COPYRIGHT_ORIGINAL=c.ARTICLE_COPYRIGHT_ORIGINAL,e.COPYRIGHT_REPRINT=c.ARTICLE_COPYRIGHT_REPRINT,e.httpProcessing=g,e.$stateParams=n,e.froalaOptions={language:"zh_cn",toolbarInline:!1,charCounterCount:!1,placeholderText:"请在此输入内容",height:"30rem",heightMin:"10rem",toolbarButtons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","lineHeight","letterSpacing","|","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","selectAll","html","fullscreen"]},e.datepickerOptions={lang:"ch",step:1,format:"Y/m/d H:i",maxDate:"-1970/01/01",maxTime:0},e.setArticleDetail={isSetDesc:!1,descNum:180},e.listFilter={status:e.DRAFT_STATE,blogState:{},taggleChecked:!1},e.blogPages=[],e.editArticleInit=function(){t.switchSidebar(!0),t.$on("siteTags",function(t,i){e.tags={list:i.list,total:i.total}}),n.pageid>0&&e.getPageInfo(n.pageid),e.setTitle("文章新建|文章管理"),e.sessionArticle=JSON.parse(sessionStorage.getItem("article-create")),e.emptyArticleDetail(),e.sessionArticle&&!n.articleid&&e.sessionArticle.siteid==parseInt(n.websiteid)&&swal({type:"warning",title:"新建",text:"未完成的新建，是否继续操作?",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?(e.articleDetail=e.sessionArticle,e.$apply()):e.removeSession()}),"edit"!=n.type&&"copy"!=n.type||e.getDetailArticle().$promise.then(function(t){e.articleDetail=t,e.oldArray=angular.copy(t.pages),e.newArray=t.pages,e.pageList(),e.selectedTagArr=angular.copy(t.tags),e.articleDetail.publish_time=m("date")(1e3*t.publish_time,"yyyy-MM-dd HH:mm"),e.setTitle("文章"+("edit"==n.type?"编辑":"复制")+"("+e.articleDetail.title+")|文章管理"),e.articleDetail.content=w(t.content),e.sessionArticleOne=JSON.parse(sessionStorage.getItem("article-"+e.articleDetail.unionid)),e.sessionArticleOne&&e.sessionArticleOne.blogid==n.articleid&&e.sessionArticleOne.siteid==parseInt(n.websiteid)&&swal({type:"warning",title:"编辑",text:"未完成的编辑，是否继续操作?",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?(e.articleDetail=e.sessionArticleOne,e.$apply(),e.selectedTagArr=angular.copy(e.sessionArticleOne.tags)):e.removeSession()})})},e.getPageInfo=function(t){v.get({pageid:t}).$promise.then(function(t){e.pageInfo=t})},e.getDetailArticle=function(){return a.get({siteid:parseInt(n.websiteid),blogid:parseInt(n.articleid),status:parseInt(n.articleStatus)})},e.getOperateName=function(){switch(n.type){case"edit":return"编辑文章";case"create":return"新建文章";case"copy":return"复制文章";default:return"文章操作"}},e.emptyArticleDetail=function(){e.selectedTagArr=[],e.articleDetail={siteid:parseInt(n.websiteid),memberid:0,title:"",desc:"",content:"",publish_time:m("date")(new Date,"yyyy-MM-dd HH:mm"),is_star:!0,is_draft:!0,read_num:0,star_num:0,redirect_switch:!1,redirect_url:"",cover_img_url:"",custom_url:"",allow_comment:!0,copyright:e.COPYRIGHT_ORIGINAL,author:"",original_url:"",tags:[]},e.initArticle=angular.copy(e.articleDetail)},e.deleteThumbAction=function(){swal({title:"提醒",text:"确定删除封面图?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&(e.articleDetail.cover_img_url="",e.$apply())})};var S="";e.setDesc=function(t){e.setArticleDetail.isSetDesc?("setNum"!=t&&(S=angular.copy(e.articleDetail.desc)),e.articleDetail.desc=jQuery(".fr-element").text().substr(0,e.setArticleDetail.descNum)):e.articleDetail.desc=S},e.checkForm=function(e){var t=jQuery(".fr-element");return t.attr("contenteditable",!0),parseInt(new Date(e.publish_time).getTime())>(new Date).getTime()?(swal("温馨提示","发布时间不可大于当前时间，请重新选择","warning"),!1):e.redirect_switch?(t.attr("contenteditable",!1),!0):!(e.content.length<1&&!e.redirect_switch)},e.checkArticleContent=function(e){return e.content.length<1&&e.redirect_switch&&e.redirect_url.length>0||e.content.length>1},e.selectTagAction=function(t){var i=e.tags.list.filter(function(e){return e.name==t.name});i.length>0?e.selectedTagArr.push(t):l.post({siteid:n.websiteid,name:t.name}).$promise.then(function(t){e.selectedTagArr.push(t)})},e.removeTagAction=function(t){e.selectedTagArr=e.selectedTagArr.filter(function(e){return t.name!=e.name})};var T=function(e){var t=[];return e.forEach(function(e){t.push(e.tagid)}),t},D=function(e){for(var t in e)switch(t){case"siteid":case"memberid":case"title":case"desc":case"blogid":case"content":case"publish_time":case"is_star":case"is_draft":case"read_num":case"star_num":case"redirect_switch":case"redirect_url":case"cover_img_url":case"custom_url":case"allow_comment":case"copyright":case"author":case"original_url":case"tags":case"unionid":break;default:delete e[t]}return e};e.saveArticle=function(t){var i=D(t);return i.tags=T(e.selectedTagArr),i.siteid=parseInt(n.websiteid),i.memberid=parseInt(p.get().memberid),i.content=y(i.content),i.publish_time=parseInt(new Date(i.publish_time).getTime()/1e3),"copy"==n.type||"create"==n.type||0==i.blogid?o.post({siteid:n.websiteid},i):"edit"==n.type?a.put({siteid:n.websiteid,blogid:n.articleid,unionid:e.articleDetail.unionid},i):void 0},e.saveArticleAction=function(t){0!=e.checkForm(t)&&(t.is_draft=!1,e.saveArticle(t).$promise.then(function(i){I(t,i,"publish"),e.blogPageAction(i)}))};var I=function(t,o,a){var s="publish"==a?"文章发布成功":"文章保存草稿成功";if(parseInt(n.pageid)>0){if(!t.hasOwnProperty("blogid"))return void r.post({siteid:n.websiteid,blogid:o.blogid,pageid:n.pageid},{unionid:o.unionid}).$promise.then(function(){swal("success",""+s,"success"),i.go("website.detail.article.list",{pageid:n.pageid,params:{}})});if(t.blogid>0)return swal("success",""+("publish"==a?"文章更新成功":"文章保存草稿成功"),"success"),void i.go("website.detail.article.list",{pageid:n.pageid,params:{}})}return parseInt(n.tagid)>0&&parseInt(n.articleid)>0?(swal("success",s,"success"),void i.go("website.detail.article.tags.tag",{websiteid:n.websiteid,tagid:n.tagid})):void(""==n.pageid&&""!=n.type&&swal({title:s,text:"是否将此文章添加到文章页面？",type:"success",showCancelButton:!0,confirmButtonText:"前往添加",cancelButtonText:"返回",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?i.go("website.detail.article.list.toPage",{blogid:parseInt(o.blogid),blogStatus:"publish"==a?e.ONLINE_STATE:e.DRAFT_STATE,blogUnionid:o.unionid,params:{}}):i.go("website.detail.article.list",{params:{}})}))};e.saveContinueAction=function(t){0!=e.checkForm(t)&&(t.is_draft=!1,e.saveArticle(t).$promise.then(function(o){if(e.blogPageAction(o),parseInt(n.pageid)>0){if(!t.hasOwnProperty("blogid"))return void r.post({siteid:n.websiteid,blogid:o.blogid,pageid:n.pageid},{unionid:o.unionid}).$promise.then(function(){swal("文章发布成功","请继续添加文章","success"),e.emptyArticleDetail(),x()});if(t.blogid>0)return swal("success","文章更新成功！","success"),n.type="create",e.emptyArticleDetail(),void x()}if(parseInt(n.tagid)>0&&parseInt(n.articleid)>0&&(swal("success","文章更新成功！请继续添加文章","success"),n.type="create",e.emptyArticleDetail(),x()),""==n.pageid&&!n.tagid){var a="";switch(n.type){case"create":a="文章发布成功";break;case"edit":a="文章更新成功"}swal({title:a,text:"是否将此文章添加到文章页面？",type:"success",showCancelButton:!0,confirmButtonText:"前往添加页面",cancelButtonText:"继续添加文章",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&i.go("website.detail.article.list.toPage",{blogid:o.blogid,blogStatus:e.ONLINE_STATE,blogUnionid:o.unionid,params:{action:"continueAddArticle"}})}),n.type="create",e.emptyArticleDetail(),x()}}))},e.saveDraftAction=function(t){t.is_draft=!0,0!=e.checkForm(t)&&e.saveArticle(t).$promise.then(function(i){e.blogPageAction(i),I(t,i,"draft")})},e.deleteFromPageAction=function(t){swal({title:"删除",text:"您确定将该文章从'"+t.page_name+"'文章页面移除？",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(){swal("success","移除成功！","success"),e.newArray=e.newArray.filter(function(e){return e.pageid!=t.pageid}),e.removeSession(),e.filterPage(),e.$apply()})},e.backAction=function(){if(parseInt(n.pageid)>0){if("create"==n.type&&!C(e.articleDetail))return void A("website.detail.article.list",{pageid:n.pageid,params:{}});e.removeSessionAction(),i.go("website.detail.article.list",{pageid:n.pageid,params:{}})}if(!n.pageid&&!n.tagid){if("create"==n.type&&!C(e.articleDetail))return void A("website.detail.article.list",{params:{}});e.removeSessionAction(),i.go("website.detail.article.list",{params:{}})}if(parseInt(n.tagid)>0){if("create"==n.type&&!C(e.articleDetail))return void A("website.detail.article.tags.tag",{tagid:n.tagid});e.removeSessionAction(),i.go("website.detail.article.tags.tag",{tagid:n.tagid})}};var C=function(t){var i=!0;void 0==t.title&&(t.title=""),void 0==t.original_url&&(t.original_url="");for(var n in e.initArticle)angular.equals(t[n],e.initArticle[n])||"memberid"===n||"publish_time"===n||"is_draft"===n||(i=!1);return i&&e.removeSession(),i},M=void 0;x(),e.removeSession=function(){n.articleid&&"edit"==n.type?sessionStorage.removeItem("article-"+e.articleDetail.unionid):sessionStorage.removeItem("article-create")},e.removeSessionAction=function(){e.removeSession(),M()};var _=[],E=function(e,t){return e.forEach(function(e){t.forEach(function(t){e.pageid==t.pageid&&_.push(e)})}),_},L=function(e,t){return e.forEach(function(e){t.forEach(function(i,n){i.pageid==e.pageid&&t.splice(n,1)})}),t};e.pageList=function(){e.allBlogPages=[],e.blogPages=[],b(n.websiteid).then(function(t){e.allBlogPages=t.filter(function(e){return e.type==c.BLOG_PAGE}),parseInt(n.articleid)>0&&e.filterPage()})},e.filterPage=function(){e.PagesArr=[],e.blogPages=[];for(var t=[],i=O(e.allBlogPages),n=O(e.newArray),o=i.concat(n),a=0;a<o.length;a++)o[a]in t?t[o[a]]++:t[o[a]]=0;for(var r in t)0==t[r]&&e.PagesArr.push(r);e.blogPages=k(e.PagesArr)};var O=function(e){var t=[];return e.length>0&&e.forEach(function(e){t.push(e.pageid)}),t},k=function(t){var i=[];return t.length>0&&t.forEach(function(t){e.allBlogPages.forEach(function(e){t==e.pageid&&i.push(e)})}),i},$=function(e,t){for(var i=e.length;i--;)if(e[i].pageid===t.pageid)return!0;return!1};e.blogAddToPages=function(){e.blogPages.forEach(function(e){e.isChoosed=!1});var t=[];e.choosedPage=[],h.open({className:"dialog-lg",overlay:!1,trapFocus:!1,scope:e,templateUrl:(0,s.staticPath)("tpl/website/article/filterPages.html"),controller:["$scope","$modalInstance",function(e,i){e.topages=function(i){$(t,i)?t=t.filter(function(e){return i.isChoosed=!1,e.pageid!=i.pageid}):(i.isChoosed=!0,t.push(i)),e.choosedPage=t},e.istoPageAction=function(){e.choosedPage.forEach(function(t){e.newArray.push(t)}),e.filterPage(),i.close()},e.cancelAction=function(){i.close()}}],size:"lg"})};var B=function(e,t){var i=[];return e.forEach(function(e){var o=P.defer();r["delete"]({siteid:parseInt(n.websiteid),blogid:parseInt(n.articleid),pageid:parseInt(e.pageid),unionid:t.unionid},function(){o.resolve({isSuccess:!0,pageid:e.pageid,pageName:e.page_name})},function(){o.resolve({isSuccess:!1,pageid:e.pageid,pageName:e.page_name})}),i.push(o.promise)}),P.all(i)},N=function(e,t){var i=[];return e.forEach(function(e){var o=P.defer();r.post({siteid:parseInt(n.websiteid),blogid:parseInt(n.articleid),pageid:parseInt(e.pageid),unionid:t.unionid},function(){o.resolve({isSuccess:!0,pageid:e.pageid,pageName:e.page_name})},function(){o.resolve({isSuccess:!1,pageid:e.pageid,pageName:e.page_name})}),i.push(o.promise)}),P.all(i)},z=function(e,t,i){0!=e.length&&(e.length==t.length?swal("error","删除页面失败，请重试","error"):swal("error","页面《 "+i.join("》,《")+" 》删除失败!","error"))},R=function(e,t,i){0!=e.length&&(e.length==t.length?swal("error","添加页面失败，请重试","error"):swal("error","页面《 "+i.join("》,《")+" 》添加失败!","error"))};e.blogPageAction=function(t){parseInt(n.articleid)>0&&(e.commonPageArray=E(e.oldArray,e.newArray),e.deletePageArray=L(e.commonPageArray,e.oldArray),e.putPageArray=L(e.commonPageArray,e.newArray),e.deletePageArray.length>0&&B(e.deletePageArray,t).then(function(e){var t=[],i=[],n=[];e.forEach(function(e){e.isSuccess?t.push(e.pageid):(i.push(e.pageid),n.push(e.pageName))}),z(i,e,n)}),e.putPageArray.length>0&&N(e.putPageArray,t).then(function(e){var t=[],i=[],n=[];e.forEach(function(e){e.isSuccess?t.push(e.pageid):(i.push(e.pageid),n.push(e.pageName))}),R(i,e,n)}))}};l.push(u),a["default"].controller("editArticleController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=i(3),l=i(2);i(9);var u=["$scope","$stateParams","$state","blogsModel","$rootScope","getPagesLevelService","blogOnePageModel","websitePageModel","blogSortModel","blogOperateModel","blogToPageModel","tagBlogsModel","$modal","$q","blogChangeStatusModel","blogToTopModel","blogSearchModel","$timeout","httpProcessing","websiteService"],d=function(e,t,i,n,o,a,r,u,d,f,p,m,g,h,b,v,w,y,P,A){e.RECLYCLE_STATE=c.ARTICLE_RECLYCLE_STATE,e.DRAFT_STATE=c.ARTICLE_DRAFT_STATE,e.ONLINE_STATE=c.ARTICLE_ONLINE_STATE,e.BLOG_PAGE=c.BLOG_PAGE,e.$stateParams=t,e.listFilter={status:e.ONLINE_STATE,blogState:{},taggleChecked:!1},e.allCurrentPage=1,e.pageSize=20,e.searchInfo={keyWord:""},e.onlineBlogShowWay="fromTabClick",e.isSearchAction=!1,e.searchProcessing=!1,e.processing=!0;var x=function(){var e=h.defer();return A.get().$promise.then(function(t){(t.goods.expire<=0||"try"==t.goods.vip)&&(swal({title:"提醒",text:"仅VIP站点套餐支持文章搜索功能，如需使用请先升级！",type:"warning",showCancelButton:!0,confirmButtonText:"前往升级",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e&&i.go("website.detail.purchase",{websiteid:t.siteid})}),e.reject()),e.resolve()},function(){e.reject()}),e.promise};e.blogSearch=function(i){x().then(function(){e.processing=!0,e.isSearchAction=!0,e.searchProcessing=!0,e.onlineBlogShowWay="fromSearch",w.get({siteid:parseInt(t.websiteid),keyword:i.keyWord}).$promise.then(function(t){e.processing=!1,e.searchProcessing=!1,e.listFilter.taggleChecked=!1,e.articleList=t},function(){e.searchProcessing=!1},function(){e.processing=!1})})},e.allBlogListInit=function(t,i){e.articleList={list:[],total:0},e.listAction(t,i)},e.listAction=function(i,o){e.processing=!0,e.listFilter.taggleChecked=!1,n.get({page:i||1,page_size:o||20,siteid:t.websiteid,status:e.listFilter.status}).$promise.then(function(t){e.processing=!1;var i=D(t);e.articleList=i},function(){e.processing=!1})},e.blogOfPageListInit=function(){e.addBlogLoading=!1,e.addBlogLoadingTwo=!1,e.articleList={list:[],top_list:[],total:0},e.bulkOperation=!1,e.tellSelectedPage(),e.articleListAction(e.allCurrentPage,e.pageSize),e.initBlogSort(),t.params.hasOwnProperty("pageName")?e.pageName=t.params.pageName:e.getPageInfo(t.websiteid,t.pageid)},e.getPageInfo=function(t,i){u.get({websiteid:t,pageid:i}).$promise.then(function(t){e.pageName=t.page_name})},e.switchAction=function(t){e.listFilter.status=t,e.listFilter.blogState={},e.allCurrentPage=1,e.pageSize=20,e.isSearchAction=!1,e.addBlogLoadingTwo=!1},e.tellSelectedPage=function(){parseInt(t.pageid)>0&&y(function(){o.$broadcast("selectedPage",{pageid:parseInt(t.pageid)})},100)};var S=function(t){t&&e.listFilter.status==e.ONLINE_STATE?$(".article-sortable").sortable("enable"):$(".article-sortable").sortable("disable")},T=function(t){e.listFilter.status==e.ONLINE_STATE&&e.articleList.hasOwnProperty("top_list")&&e.articleList.top_list.length>0&&(e.articleList.top_list.forEach(function(t){e.articleList.list=e.articleList.list.filter(function(e){return t.blogid!=e.blogid})}),1==t&&e.articleList.top_list.forEach(function(t){t.is_top=!0,e.articleList.list.unshift(t)}))},D=function(e){for(var t=0;t<e.list.length;t++)0==e.list[t].blogid&&(e.list.splice(t,1),t--,e.total--);return e};e.articleListAction=function(i,n){e.processing=!0,e.onlineBlogShowWay="fromTabClick",e.listFilter.taggleChecked=!1,S(parseInt(t.pageid)),r.get({siteid:parseInt(t.websiteid),pageid:parseInt(t.pageid),status:e.listFilter.status,page:i||1,page_size:n||20}).$promise.then(function(t){e.processing=!1;var n=D(t);e.articleList=n,T(i)},function(){e.processing=!0})},e.initBlogSort=function(){var e=void 0,i=void 0;$(".article-sortable").sortable({delay:100,handle:"i.glyphicon-move",onDragStart:function(t,i,n){var o=t.offset(),a=i.rootGroup.pointer;e={left:a.left-o.left,top:a.top-o.top},n(t,i)},onDrag:function(t,i){t.css({left:i.left-e.left,top:i.top-e.top})},onDrop:function(e,n,o){var a=$("<li/>").css({height:0}),r=e.data("blogid"),c=e.next().data("blogid")?parseInt(e.next().data("blogid")):0,l=e.prev().data("blogid")?parseInt(e.prev().data("blogid")):0;e.before(a),a.animate({height:e.height()}),e.animate(a.position(),function(){a.detach(),o(e,n)}),y.cancel(i),i=y(function(){d.put({siteid:parseInt(t.websiteid),blogid:parseInt(r)},{pageid:parseInt(t.pageid),next_blogid:parseInt(c),prev_blogid:parseInt(l)}).$promise.then(function(){s["default"].success("排序成功")})},200)}})},e.editArticleAction=function(t){e.articleList.list.map(function(e,i){e.loading=e.unionid==t})},e.viewArticleAction=function(t){g.open({templateUrl:(0,l.staticPath)("tpl/website/article/view.html"),scope:e,controller:["$scope","$modalInstance",function(e,i){e.viewArticle=t,$(document).ready(function(){$(".view-content").html(e.viewArticle.content)}),e.cancelAction=function(){i.close()}}],size:"lg"})},e.blogToTopAction=function(i){var n="",o="",a=!1;i.is_top?(n="确定将文章《"+i.title+"》取消置顶吗？",o="取消置顶"):(n="确定将文章《"+i.title+"》置顶吗？",o="置顶",a=!0),swal({title:"",text:n,type:"warning",showCancelButton:!0,confirmButtonText:o,cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(){v.put({siteid:parseInt(t.websiteid),pageid:parseInt(t.pageid),blogid:parseInt(i.blogid),need_top:a}).$promise.then(function(){i.is_top?swal("success","文章《"+i.title+"》取消置顶成功！","success"):swal("success","文章《"+i.title+"》置顶成功！","success"),e.articleListAction(1,e.pageSize)})})},e.deleteOneAction=function(i){swal({title:"删除文章",text:e.listFilter.status==e.RECLYCLE_STATE?"确定要彻底删除文章《"+i.title+"》？<br>一旦删除，永久不可找回！请谨慎操作":"确定将文章《"+i.title+"》放入回收站?",type:"warning",showCancelButton:!0,confirmButtonText:e.listFilter.status==e.RECLYCLE_STATE?"彻底删除":"放入回收站",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0,html:!0},function(n){n&&(e.listFilter.status==e.RECLYCLE_STATE?f["delete"]({siteid:parseInt(t.websiteid),blogid:parseInt(i.blogid),is_recycle:!1,unionid:i.unionid}).$promise.then(function(){swal("success","彻底删除成功","success"),e.articleList.total--,e.articleList.list=e.articleList.list.filter(function(e){return e.blogid!=i.blogid})}):f["delete"]({siteid:parseInt(t.websiteid),blogid:parseInt(i.blogid),is_recycle:!0,unionid:i.unionid}).$promise.then(function(){swal("删除成功",'您可在"回收站"中找回文章《'+i.title+"》","success"),e.articleList.total--,e.articleList.list=e.articleList.list.filter(function(e){return e.blogid!=i.blogid})}))})},e.taggleAllAction=function(){e.listFilter.taggleChecked=!e.listFilter.taggleChecked,e.articleList.list.map(function(t){"undefined"==typeof e.listFilter.blogState[t.blogid]&&(e.listFilter.blogState[t.blogid]={checked:!1}),e.listFilter.blogState[t.blogid].checked=e.listFilter.taggleChecked,e.listFilter.blogState[t.blogid].unionid=t.unionid,e.listFilter.blogState[t.blogid].blogName=t.title})};var I=function(e,t){for(var i in e)e[i].checked&&t.push({blogid:i,unionid:e[i].unionid,blogName:e[i].blogName});return t},C=function(e,i){var n=[];return e.map(function(e){var o=h.defer();f["delete"]({siteid:parseInt(t.websiteid),blogid:parseInt(e.blogid),is_recycle:i,unionid:e.unionid},function(){o.resolve({isSuccess:!0,blogid:e.blogid,blogName:e.blogName})},function(){o.resolve({isSuccess:!1,blogid:e.blogid,blogName:e.blogName})}),n.push(o.promise)}),h.all(n)},M=function(e,t,i,n){0==e.length?t?swal("全部删除成功",'您可在"回收站"中找回文章',"success"):swal("success","全部彻底删除成功!","success"):e.length==i.length?swal("error","删除失败，请重试","error"):swal("error","文章《 "+n.join("》,《")+" 》删除失败!","error")},_=function(){parseInt(t.pageid)>0?e.articleListAction():e.listAction()};e.batchDeleteAction=function(){var t=[],i="",n="",o=!0;return t=I(e.listFilter.blogState,t),0==t.length?void swal("温馨提示","请先选择一篇文章再操作","warning"):(e.listFilter.status==e.RECLYCLE_STATE?(i="确定要彻底删除该文章？一旦删除,永久不可找回！请谨慎操作",n="彻底删除",o=!1):(i="确定将该文章放入回收站？",n="放入回收站"),void swal({title:"批量删除",text:i,type:"warning",showCancelButton:!0,confirmButtonText:n,cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&C(t,o).then(function(t){e.listFilter.blogState=[];var i=[],n=[],a=[];t.forEach(function(e){e.isSuccess?i.push(e.blogid):(n.push(e.blogid),a.push(e.blogName))}),M(n,o,t,a),_()})}))},e.recoveryAction=function(i){swal({title:"文章恢复",text:"确定将文章《"+i.title+"》恢复到草稿？",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(){b.put({siteid:parseInt(t.websiteid),blogid:parseInt(i.blogid)},{status:e.DRAFT_STATE}).$promise.then(function(){swal("success","文章《"+i.title+"》已成功恢复到草稿","success"),e.articleList.list=e.articleList.list.filter(function(e){return i.blogid!=e.blogid})})})};var E=function(i){var n=[];return i.map(function(i){var o=h.defer();b.put({siteid:parseInt(t.websiteid),blogid:parseInt(i.blogid)},{status:e.DRAFT_STATE},function(){o.resolve({isSuccess:!0,blogid:i.blogid,blogName:i.blogName})},function(){o.resolve({isSuccess:!1,blogid:i.blogid,blogName:i.blogName})}),n.push(o.promise)}),h.all(n)},L=function(e,t,i){0==e.length?swal("success","批量恢复成功!","success"):e.length==t.length?swal("error","批量恢复失败，请重试","error"):swal("error","文章《 "+i.join("》,《")+" 》恢复失败!","error")};e.batchRecoveryAction=function(){var t=[];return t=I(e.listFilter.blogState,t),0==t.length?void swal("温馨提示","请先选择一篇文章再操作","warning"):void swal({title:"批量恢复",text:"确定批量恢复选中的文章到草稿？",type:"warning",showCancelButton:!0,confirmButtonText:"确定恢复",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&E(t).then(function(t){e.listFilter.blogState=[];var i=[],n=[],o=[];t.forEach(function(e){e.isSuccess?i.push(e.blogid):(n.push(e.blogid),o.push(e.blogName))}),L(n,t,o),_()})})},e.tagBlogsInit=function(){o.$emit("selectedTagId",t.tagid),e.articleList={list:[],total:0},e.getBlogListOfTag(e.page,e.pageSize)},e.getBlogListOfTag=function(i,n){e.processing=!0,m.get({siteid:t.websiteid,tagid:t.tagid,status:e.listFilter.status}).$promise.then(function(t){e.processing=!1,e.articleList=t},function(){e.processing=!1})}};u.push(d),a["default"].controller("articleListController",u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3);i(9);var s=["$scope","$stateParams","$state","blogToPageModel","blogOperateModel","getPagesLevelService","blogPagesModel"],c=function(e,t,i,n,o,a,s){e.$stateParams=t,e.pageStoreInit=function(){e.article={},e.blogPages?u():e.getPageList(),t.params.hasOwnProperty("articleName")?e.article.title=t.params.articleName:c()};var c=function(){return o.get({siteid:parseInt(t.websiteid),blogid:parseInt(t.blogid),status:parseInt(t.blogStatus)}).$promise.then(function(t){e.article=t})};e.getPageList=function(){e.blogPages=[],a(parseInt(t.websiteid)).then(function(t){e.blogPages=t.filter(function(e){
return e.type==r.BLOG_PAGE}),u()})};var l=function(){return s.query({siteid:parseInt(t.websiteid),blogid:parseInt(t.blogid),status:parseInt(t.blogStatus),unionid:t.blogUnionid})},u=function(){l().$promise.then(function(t){t.forEach(function(t){e.blogPages.forEach(function(e){e.pageid==t.pageid&&(e.isChoosed=!0)})})})};e.publishToPageAction=function(i){swal({title:"发布",text:"确定将文章《"+e.article.title+"》发布至文章页面'"+i.page_name+"'？",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(){n.post({siteid:parseInt(t.websiteid),blogid:parseInt(t.blogid),pageid:parseInt(i.pageid),unionid:t.blogUnionid}).$promise.then(function(){swal("success","文章《"+e.article.title+"》已成功添加至页面'"+i.page_name+"'！","success"),e.getPageList()})})},e.deleteFromPage=function(i){swal({title:"删除",text:"您确定将该文章从'"+i.page_name+"'文章页面移除？",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(){n["delete"]({siteid:parseInt(t.websiteid),blogid:parseInt(t.blogid),pageid:parseInt(i.pageid),unionid:t.blogUnionid}).$promise.then(function(){swal("success","移除成功！","success"),e.getPageList()})})}};s.push(c),a["default"].controller("articlePageStoreController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3);i(6),i(9);var s=["$scope","$rootScope","$state","$stateParams","v2WebsitePagesModel","blogOperateModel","blogOnePageModel","blogToPageModel","blogSortModel","tagBlogsModel","blogPagesModel","$filter","websitePageModel","getPagesLevelService"],c=function(e,t,i,n,o,a,s,c,l,u,d,f,p,m){e.BLOG_PAGE=r.BLOG_PAGE,e.$stateParams=n,e.pagesInit=function(){t.switchSidebar(!0),e.selectedPageId=0,e.currentPage=1,e.pageSize=20,e.getPageList()},e.getPageList=function(){e.blogPages=[],m(parseInt(n.websiteid)).then(function(t){e.blogPages=t.filter(function(e){return e.type==r.BLOG_PAGE}),g(e.blogPages)})};var g=function(t){n.params.hasOwnProperty("from")&&"sideBar"==n.params.from&&h(t),e.$on("selectedPage",function(t,i){i.pageid&&(e.selectedPageId=parseInt(i.pageid))})},h=function(t){t.length>0?(e.selectedPageId=t[0].pageid,i.go("website.detail.article.list",{pageid:e.selectedPageId})):i.go("website.detail.article.list")};e.selectPageAction=function(t){e.selectedPageId=t}};s.push(c),a["default"].controller("articlePagesController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(9);var r=i(3),s=["$scope","$stateParams","$state","blogsModel","websitePageModel","blogToPageModel","$q"],c=function(e,t,i,n,o,a,s){e.$stateParams=t,e.DRAFT_STATE=r.ARTICLE_DRAFT_STATE,e.ONLINE_STATE=r.ARTICLE_ONLINE_STATE,e.storeListFilter={status:e.ONLINE_STATE,blogState:{},taggleChecked:!1},e.processing=!0,e.storeInit=function(){e.choosedBlogs=[],e.storeCurrentPage=1,e.storePageSize=20,e.listAction(e.storeCurrentPage,e.storePageSize),e.getPageInfo(t.pageid)},e.getPageInfo=function(t){o.get({pageid:t}).$promise.then(function(t){e.pageInfo=t})},e.listAction=function(i,o){e.processing=!0,n.get({page:i||1,page_size:o||20,siteid:t.websiteid,status:e.storeListFilter.status}).$promise.then(function(t){e.processing=!1,e.copyArticleList=angular.copy(t),e.articleList=c(t)},function(){e.processing=!1})};var c=function(e){for(var i=function(i){e.list[i].pages&&e.list[i].pages.length>0&&e.list[i].pages.forEach(function(n){n==t.pageid&&(e.list.splice(i,1),i-=1,e.total--)}),n=i},n=0;n<e.list.length;n++)i(n);return e};e.switchAction=function(t){e.storeListFilter.status=t,e.storePageSize=20,e.storeCurrentPage=1,e.storeListFilter.blogState={}},e.taggleAllAction=function(){e.storeListFilter.taggleChecked=!e.storeListFilter.taggleChecked,e.articleList.list.map(function(t){"undefined"==typeof e.storeListFilter.blogState[t.blogid]&&(e.storeListFilter.blogState[t.blogid]={checked:!1}),e.storeListFilter.blogState[t.blogid].checked=e.storeListFilter.taggleChecked,e.storeListFilter.blogState[t.blogid].unionid=t.unionid,e.storeListFilter.blogState[t.blogid].blogName=t.title})};var l=function(e,t){for(var i in e)e[i].checked&&t.push({blogid:i,blogUnionid:e[i].unionid,blogName:e[i].blogName});return t};e.articlesToPage=function(){var t=[];return e.choosedBlogs=l(e.storeListFilter.blogState,t),0==e.choosedBlogs?void swal("温馨提示","请先选择一篇文章再添加","warning"):void swal({title:"添加文章",text:"确定将文章添加至'"+e.pageInfo.page_name+"'文章页面？",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(){u(e.choosedBlogs).then(function(e){var t=[],i=[],n=[];e.forEach(function(e){e.isSuccess?t.push(e.blogid):(i.push(e.blogid),n.push(e.blogName))}),d(i,e,n)})})};var u=function(e){var i=[];return e.map(function(e){var n=s.defer();a.post({siteid:parseInt(t.websiteid),pageid:parseInt(t.pageid),blogid:parseInt(e.blogid),unionid:e.blogUnionid}).$promise.then(function(){n.resolve({isSuccess:!0,blogid:e.blogid,blogName:e.blogName})},function(t){n.resolve({isSuccess:!1,blogid:e.blogid,blogName:e.blogName,error:t})}),i.push(n.promise)}),s.all(i)},d=function(n,o,a){0==n.length?(swal("success","文章已全部成功添加至'"+e.pageInfo.page_name+"'文章页面！","success"),i.go("website.detail.article.list",{pageid:t.pageid})):n.length==o.length?swal("error","文章全部添加失败，请重试","error"):swal("error","文章《"+a.join("》,《")+" 》添加失败!","error")}};s.push(c),a["default"].controller("articleStoreController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r);i(9),i(6);var c=["$scope","$rootScope","$state","$stateParams","blogOperateModel","blogToPageModel","blogTagModel","tagBlogsModel"],l=function(e,t,i,n,o,a,r,c){e.tagTransform=function(e){return{tagid:0,name:e}};var l=0;e.tagsInit=function(){e.tagCurrentPage=1,e.pageSize=20,e.tags={list:[],total:0},e.addTagName="",t.$on("selectedTagId",function(e,t){l=parseInt(t)}),e.getTagList(e.tagCurrentPage,e.pageSize)},e.getTagList=function(i,o){e.processing=!0,r.get({siteid:n.websiteid,page:i||1,pageSize:o||20}).$promise.then(function(i){e.processing=!1,e.tags=i,e.tags.list.forEach(function(t){t.tagid==l&&(e.selectedTag=t)}),n.type&&t.$emit("siteTags",e.tags)},function(){e.processing=!1})},e.validTag=function(t){if(!t)return!0;for(var i in e.tags.list)if(t==e.tags.list[i].name)return!1;return!0},e.addTagAction=function(){r.post({siteid:n.websiteid},{name:e.addTagName}).$promise.then(function(){s["default"].success("标签添加成功"),e.addTagName="",e.getTagList()})},e.deleteTag=function(t){swal({title:"",type:"warning",text:"你确定要删除标签'"+t.name+"'？",confirmButtonText:"确定",cancelButtonText:"我再想想",showCancelButton:!0},function(i){i&&c["delete"]({siteid:n.websiteid,tagid:t.tagid}).$promise.then(function(){s["default"].success("标签删除成功！"),e.tags.total--,e.tags.list=e.tags.list.filter(function(e){return t.tagid!=e.tagid})})})},e.selectedTagAction=function(t){e.selectedTag=t,i.go("website.detail.article.tags.tag",{tagid:t.tagid})}};c.push(l),a["default"].controller("tagController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(9);var r=i(3),s=["$scope","$rootScope","userService","userModel","blogOperateModel","$timeout","$window","$modal","$q","$stateParams","blogOnePageModel"],c=function(e,t,i,n,o,a,s,c,l,u,d){e.list=[],e.hasNewFeature=!1;var f=function(){return i.get().$promise.then(function(e){var t=l.defer();return d.get({memberid:e.memberid,pageid:s.FEATURES.pageid,page:1,siteid:s.FEATURES.siteid,status:r.ARTICLE_ONLINE_STATE,page_size:20}).$promise.then(function(i){t.resolve({features:i,member:e})}),t.promise})};t.$on("fetchFeatureEvent",function(){f().then(function(o){var a=o.features,r=o.member;"localhost"==location.hostname&&t.popFeatureList(a.list),a.total>0&&a.list[0].blogid>r.exinfo.max_newfeatureid&&(a.list=a.list.filter(function(e){return r.exinfo.max_newfeatureid<e.blogid}),e.popFeatureList(a.list),n.update({},{max_newfeatureid:a.list[0].blogid}).$promise.then(function(){i.exinfo.max_newfeatureid=a.list[0].blogid,i.set(i)}))})}),t.popFeatureList=function(t){e.list=t,e.hasNewFeature=!0,$(document).ready(function(){document.getElementsByClassName("feature-dropDown")[0].click()})},e.openUpdateAction=function(t){"mouseDown"==t&&(e.hasNewFeature=!1,f().then(function(t){e.list=t.features.list}))},e.popOnShowAction=function(t){c.open({template:'\n                                <div class="modal-header">\n                                    <h4 class="modal-title" ng-bind="blogContent.title"></h4>\n                                </div>\n                                <div class="modal-body update-feature" style="max-height: 400px;overflow-y: scroll;">\n                                    <div class="content" ng-bind-html="blogContent.blog_text"></div>\n                                </div>\n                                 <div class="modal-footer">\n            <button class="btn btn-primary" type="button" ng-click="cancelAction()">关闭</button>\n    </div>\n                            ',scope:e,controller:["$scope","$rootScope","$sce","$modalInstance",function(e,i,n,o){e.blogContent=t,e.blogContent.blog_text=n.trustAsHtml(t.content),e.cancelAction=function(){o.close()}}]})},e.popQRCodeAction=function(){c.open({size:"sm",template:'<div class=\'text-center\'>\n<img src="data:image/jpeg;base64,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" /> <p class="text-center pb-10">微信扫一扫,了解最新动态</p><div>'
})}};s.push(c),a["default"].controller("featureController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=i(1),r=n(a),s=["$rootScope","$scope","$state","$stateParams","$interval","websiteService","isMobilBrowser","formSettingDeleteModel","formSettingDetailModel","formDataListModel","formDataDetailModel","formDataExportModel","formDataExportQueryModel","formDataDownloadModel","formCategoryModel","formDwnloadModel","$q"],c=function(e,t,i,n,a,r,s,c,l,u,d,f,p,m,g,h,b){var v=[];t.NO_DATA="暂无内容",t.getItemData=function(e){return e.alias?e.alias:e.content?e.content:t.NO_DATA};var w=function(e){for(var t in e.data)"undefined"==typeof e.data[t].content&&(e.data[t]={content:e.data[t],logo:"text",alias:""},"object"==o(e.data[t].content)&&(e.data[t].content=e.data[t].content.join(",")),0==e.data[t].content.indexOf("http://forms-data.zhuzi.me/")&&(e.data[t].logo="download",e.data[t].alias="点击查看或下载文件",v.push(t)));return e},y=function(){if(v.length>0){var e=function(e){h.post({url:t.formDetail.data[v[e]].content,expire:300}).$promise.then(function(i){i.url&&(t.formDetail.data[v[e]].content=i.url)})};for(var i in v)e(i)}},P=function(){return d.get({websiteid:n.websiteid,formid:n.formid,formdataid:n.formdataid})},A={},x=function(){var e=b.defer();return P().$promise.then(function(i){t.formDetail=i,A=angular.copy(i),"string"==typeof t.formDetail.data&&(t.formDetail.data=JSON.parse(t.formDetail.data)),t.formDetail=w(t.formDetail),y(),e.resolve(i)},function(){e.reject()}),e.promise},S=function(e){g.query({websiteid:n.websiteid,formid:n.formid}).$promise.then(function(i){t.formDataCategoryList=i,t.formDataCategoryList.push({cate_id:0,name:"没有选择分类",formsid:n.formid,color:""}),T(t.formDataCategoryList,e)})},T=function(e,i){e.forEach(function(e){e.cate_id==i.cate_id&&(t.params.categoryObj=e)}),angular.equals(t.params.categoryObj,{})&&(t.params.categoryObj={cate_id:0,name:"没有选择分类",formsid:n.formid,color:""})};t.init=function(){t.params={},t.params.categoryObj={},t.formDetail={},t.formDataCategoryList=[],t.$stateParams=n,x().then(function(e){S(e)})},t.changeRemarkAction=function(){return A.remarks==t.formDetail.remarks?void swal("温馨提示","您未修改备注内容,请修改后保存","warning"):void d.put({websiteid:n.websiteid,formid:n.formid,formdataid:n.formdataid},t.formDetail).$promise.then(function(){A.remarks=t.formDetail.remarks,swal("success","备注提交成功！","success")})},t.changeCategoryAction=function(){t.formDetail.cate_id=t.params.categoryObj.cate_id,d.put({websiteid:n.websiteid,formid:n.formid,formdataid:n.formdataid},t.formDetail).$promise.then(function(){swal("success","分类修改成功！","success")})},t.dataClickAction=function(e,t){e.stopPropagation(),"download"==t.logo&&window.open(t.content)},t.addCategoryAction=function(){swal({title:"添加分类",type:"input",showCancelButton:!0,confirmButtonText:"添加",cancelButtonText:"取消",closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"请在此输入要添加的分类名称"},function(e){if(e===!1)return!1;if(""===e)return swal.showInputError("分类名称不能为空"),!1;var i=!1;return t.formDataCategoryList.map(function(t){if(t.name==e)return void(i=!0)}),i?void swal.showInputError("分类已存在"):void g.post({websiteid:n.websiteid,formid:n.formid},{name:e}).$promise.then(function(i){t.formDataCategoryList.push({cate_id:i.id,formsid:n.formsid,name:e,color:""}),t.formDetail.cate_id=i.id,swal.close()})})}};s.push(c),r["default"].controller("formDataDetailController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=i(2),l=["$rootScope","$scope","$state","$stateParams","$timeout","$interval","$modal","websiteService","isMobilBrowser","formSettingDeleteModel","formSettingDetailModel","formDataListModel","formDataDetailModel","formDataExportModel","formDataExportQueryModel","formDataDownloadModel","$q"],u=function(e,t,i,n,o,a,r,l,u,d,f,p,m,g,h,b,v){function w(e){if(e.startTime)return parseInt(e.startTime.getTime()/1e3)}function y(e){if(e.endTime)return parseInt(e.endTime.getTime()/1e3)}var P=0,A=1,x=2,S=3,T=4;t.listFilter={DataList:{},taggleChecked:!1},t.init=function(){e.setTitle("表单详情"),e.switchSidebar(!1),t.formSettingDetail={},t.settingDataList={list:[],total:0},t.$stateParams=n,t.settingDetailTab=!0,t.settingDataTab=!1,t.selectDataRecycle=!1,t.currentPage=parseInt(n.currentPage)>0?parseInt(n.currentPage):1,t.pageSize=20,t.categoryid=0,t.isStar=0,t.getFormSettingDetail(),t.formDataListAction(t.currentPage,"init")},t.getFormSettingDetail=function(){f.get({websiteid:n.websiteid,formid:n.formid}).$promise.then(function(e){t.formSettingDetail=e})},t.formDataListAction=function(e,i){t.processing=!0,t.listFilter.taggleChecked=!1;for(var o in t.listFilter.DataList)t.listFilter.DataList[o].checked=t.listFilter.taggleChecked;"btnClick"==i&&(t.selectDataRecycle=!t.selectDataRecycle),p.get({websiteid:n.websiteid,formid:n.formid,page:e,page_size:t.pageSize,cate_id:t.categoryid,star:t.isStar,enable:t.selectDataRecycle?0:1}).$promise.then(function(e){t.processing=!1,e.list.map(function(t,i){e.list[i].isMobileBrowser=u(t.user_agent)}),t.settingDataList=e},function(){t.processing=!1})},t.exportDataAction=function(){var e=null,i=r.open({templateUrl:(0,c.staticPath)("/tpl/website/form/exportConfirm.html"),scope:t,backdrop:"static",controller:["$scope","$modalInstance","$rootScope","$timeout",function(t,i,o,a){t.downloadLink="",t.showResult=!1,t.makeSureExport=!1,t.showDownloadBtn=!1;var r="",s="";t.datepickerOptions={lang:"ch",step:1,format:"Y/m/d H:i"},t.formExportData={exportWay:"",startTime:"",endTime:""},t.exportsFormAllData=function(){"exeportAll"==t.formExportData.exportWay?(r="",s="",t.makeSureExport=!0):"exportRanger"==t.formExportData.exportWay&&(r=w(t.formExportData),s=y(t.formExportData),r&&s?r&&s&&r>=s&&(t.showDownloadBtn=!1,t.showResult=!1,t.makeSureExport=!1):t.makeSureExport=!1),t.showDownloadBtn=!1,t.showResult=!1},t.exportRanger=function(e){if("start"==e?r=w(t.formExportData):"end"==e&&(s=y(t.formExportData)),r&&s){if(t.showDownloadBtn=!1,t.showResult=!1,r>=s)return swal("温馨提示","结束时间必须大于开始时间！","error"),void(t.makeSureExport=!1);t.makeSureExport=!0}},t.makeSureExportAction=function(){t.showResult=!0,t.showDownloadBtn=!0,c()};var c=function(){t.statusText="请求中,请稍候！",g.post({websiteid:n.websiteid,formid:n.formid,start_time:r,end_time:s}).$promise.then(function(i){var n=function o(){var n=function(){h.get({uuid:i.uuid}).$promise.then(function(i){switch(a.cancel(e),parseInt(i.status)){case P:t.statusText="导出请求创建成功！",o();break;case A:t.statusText="导出任务开始！",o();break;case x:t.statusText="导出任务进行中,准备处理表单数据",o();break;case S:t.statusText="表单数据处理开始。",o();break;case T:t.statusText="表单数据处理完成！",b.post({},{expire:600,url:i.url}).$promise.then(function(e){t.downloadLink=e.url,t.statusText="导出完成!请在10分钟内下载,过期后链接将会失效！"});break;case-1:t.statusText="无数据需要导出。";break;case-2:t.statusText="导出失败！";break;case-4:t.statusText="上传失败！";break;default:t.statusText="创建导出任务失败!"}})};e=a(n,2e3)};n()},function(e){swal("错误","导出请求失败！请稍后再试。"+e.data.errmsg,"error"),i.close()})};t.closeAction=function(){i.close()}}]});i.result.then(function(){o.cancel(e)})},t.isHasTitle=function(e){return e.hasOwnProperty("title")},t.switchDataStarAction=function(e){e.star=0==e.star?1:0,m.update({websiteid:n.websiteid,formid:n.formid,formdataid:e.id},e).$promise.then(function(){},function(){t.settingDataList.list.map(function(i,n){i.id==e.id&&(t.settingDataList.list[n].star=0==i.star?1:0)})})},t.deleteDataAction=function(e){var i=t.selectDataRecycle?"确定要彻底删除该条数据?":"确定要将该条数据放入回收站?";swal({title:"提醒",text:i,type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&m["delete"]({websiteid:n.websiteid,formid:n.formid,formdataid:e.id}).$promise.then(function(){s["default"].success("删除成功"),t.settingDataList.list=t.settingDataList.list.filter(function(t){return e.id!=t.id}),t.settingDataList.total-=1})})},t.taggleAllAction=function(){t.listFilter.taggleChecked=!t.listFilter.taggleChecked,t.settingDataList.list.map(function(e){"undefined"==typeof t.listFilter.DataList[e.id]&&(t.listFilter.DataList[e.id]={checked:!1}),t.listFilter.DataList[e.id].checked=t.listFilter.taggleChecked})};var D=function(e,t){for(var i in e)e[i].checked&&t.push({id:i});return t},I=function(e){var t=[];return e.map(function(e){var i=v.defer();m["delete"]({websiteid:n.websiteid,formid:n.formid,formdataid:e.id},function(){i.resolve({isSuccess:!0,formdataid:e.id})},function(){i.resolve({isSuccess:!1,formdataid:e.id})}),t.push(i.promise)}),v.all(t)},C=function(e){e.length>0&&(e.forEach(function(e){t.settingDataList.list=t.settingDataList.list.filter(function(t){return e!=t.id})}),t.settingDataList.total=t.settingDataList.list.length)};t.batchDeleteAction=function(){var e=t.selectDataRecycle?"确定要彻底删除选中的数据?":"确定要将选中数据放入回收站?",i=[];return i=D(t.listFilter.DataList,i),0==i.length?void swal("温馨提示","请先选择一条数据再操作","warning"):void swal({title:"批量删除",text:e,type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(e){e&&I(i).then(function(e){t.listFilter.DataList=[];var i=[],n=[];e.forEach(function(e){e.isSuccess?i.push(e.formdataid):n.push(e.formdataid)}),0==n.length?swal("success","批量删除成功！","success"):n.length==e.length?swal("error","批量删除失败，请重试","error"):swal("error","部分数据删除失败！","error"),C(i)})})}};l.push(u),a["default"].controller("formDataListController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=["$scope","$rootScope","$state","$stateParams","formSettingListModel","websiteService","formSettingDeleteModel"],l=function(e,t,i,n,o,a,r){e.formListInit=function(){e.currentPage=1,e.pageSize=20,e.websiteDetail=null,e.$stateParams=n,t.setTitle("表单数据"),t.switchSidebar(!1),e.formData={list:[],data:0},c()};var c=function(){a.get().$promise.then(function(t){"undefined"==typeof t.goods.forms||0==t.goods.forms?swal({title:"提醒",text:"当前版本不支持在线表单功能，如需使用请先升级！",type:"warning",showCancelButton:!0,confirmButtonText:"前往升级",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e?i.go("website.detail.purchase",{websiteid:t.siteid}):i.go("website.detail",{websiteid:t.siteid})}):(e.websiteDetail=t,e.getFormListAction(e.currentPage,e.pageSize))})};e.getFormListAction=function(t,i){o.get({siteid:n.websiteid,page:t,page_size:i}).$promise.then(function(t){t.hasOwnProperty("list")&&(t.list.map(function(e){e.setting=JSON.parse(e.setting)}),e.formData.list=t.list,e.formData.total=t.total)})},e.deleteFormSettingAction=function(t,i,n,o){swal({title:"提醒",text:"确定删除'"+o+"'表单?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(a){a&&r(t,i,n).then(function(){s["default"].success("表单'"+o+"'删除成功"),e.formData.list=e.formData.list.filter(function(e){return e.formsid!=n}),e.formData.total--})})}};c.push(l),a["default"].controller("formListController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=i(1),r=n(a);i(6);var s=i(142),c=i(2),l=["$scope","$rootScope","$stateParams","websiteModuleModel","websiteModuleDeleteModel","$timeout","siteMemberModel","$modal"],u=function(e,t,i,n,a,r,l,u){e.$stateParams=i,t.setTitle("会员管理");var d="site_member",f=i.websiteid;e.MemberModuleOpen=!1,e.SiteModuleList=n.query({websiteid:f},function(t){t.forEach(function(t){t.logo==d&&(e.MemberModuleOpen=!0)})}),e.toggleMemberModuleAction=function(){1==e.MemberModuleOpen?(e.MemberModuleOpen=!1,swal({title:"你确认关闭吗？",text:"你确定要关闭会员模块吗？关闭后将无法进行会员注册",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"是的",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?a(f,{module:d}).then(function(e){}):r(function(){e.MemberModuleOpen=!0,e.$apply()},100)})):n.post({websiteid:f,module:d},function(t){void 0!=o(t.success)&&(e.MemberModuleOpen=!0)})},e.siteMemberModelList={},e.getSiteMemberModelListAction=function(t,i){void 0==("undefined"==typeof t?"undefined":o(t))&&(t=1),void 0==("undefined"==typeof i?"undefined":o(i))&&(i=20),e.siteMemberModelList=l.get({websiteid:f,page:t,page_size:i})},e.initSiteMemberModel=function(){e.getSiteMemberModelListAction()},e.changeSiteMemberModelAction=function(t,i){var n={};if(void 0!=o(e.siteMemberModelList.list[t])){n=angular.merge({},e.siteMemberModelList.list[t]);for(var a in i)n[a]=i[a];l.update({websiteid:n.siteid,modelid:n.modelid},n,function(i){e.siteMemberModelList.list[t]=i.toJSON()},function(e){swal("出错了",e.data.errmsg,"error")})}},e.addSiteMemberModelAction=function(){$domal.open({templateUrl:(0,c.staticPath)("tpl/website/member/addModel.html"),scope:e,controller:["$scope","siteid","siteMemberModel",function(e,t,i){e.model={name:""},this.insertSiteMemberModelAction=function(){return""==e.model.name?void swal("出错了","请填写模型名","error"):void i.create({websiteid:t},e.model,function(t){void 0!=o(e.siteMemberModelList.list)&&e.siteMemberModelList.list.length>0&&e.siteMemberModelList.list.unshift(t),e.closeThisDialog()},function(e){swal("出错了",e.data.errmsg,"error")})}}],controllerAs:"vm",resolve:{siteid:function(){return f},siteMemberModel:function(){return l}}})},e.designModelAction=function(t){u.open({className:"dialog-lg",overlay:!1,trapFocus:!1,scope:e,templateUrl:(0,c.staticPath)("tpl/website/member/designModel.html"),controllerAs:"vm",controller:["$scope","siteid","siteMemberModel","index",function(e,t,i,n){return void 0==o(e.siteMemberModelList.list[n])?(swal("出错了","没有找到对应的会员模型","error"),void e.closeThisDialog()):(e.model=e.siteMemberModelList.list[n],""==e.model.model_data?e.model.model_data={}:e.model.model_data=JSON.parse(e.model.model_data),void(e.modelItemList=s.ModelItem))}],resolve:{siteid:function(){return f},siteMemberModel:function(){return l},index:function(){return t}}})}};l.push(u),r["default"].controller("memberController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(24),i(17);var r=i(3),s=["$scope","orderListModel","orderModel","orderStatusModel","$stateParams","$state"],c=function(e,t,i,n,o,a){var s={};e.expressCompanyList=r.EXPERSS_COMPANY,e.orderDetailInit=function(){e.statusList=[],e.statusMap={},e.order={},c(),l()};var c=function(){i.get({siteid:o.websiteid,orderid:o.orderid}).$promise.then(function(t){e.order=t,s=angular.copy(t)})},l=function(){e.statusMap=n.get(),e.statusMap.$promise["finally"](function(){if(e.statusMap)for(var t in e.statusMap)e.statusList.push(angular.extend({},e.statusMap[t],{key:t}))})};e.changeStatus=function(t){var n={};switch(n.status=e.order.status,t){case"remark":if(s.exinfo.saler_remark==e.order.exinfo.saler_remark)return void swal("温馨提示","您未修改备注内容,请修改后保存","warning");n.saler_remark=e.order.exinfo.saler_remark;break;case"express":n.status=200,n.express_company=e.order.exinfo.express_company,n.express_orderid=e.order.exinfo.express_orderid}i.update({siteid:o.websiteid,orderid:e.order.orderid},n,function(e){"undefined"!=typeof e.errcode?swal({title:"出错了",text:"请求接口时出现错误。错误代码"+e.errcode+" 可能的原因是："+e.errmsg,type:"error",confirmButtonText:"关闭"}):(swal("成功","卖家备注更新成功！","success"),a.go("website.detail.order"))},function(e){swal({title:"出错了",text:"请求接口时出现错误。错误代码"+e.data.errcode+" 可能的原因是："+e.data.errmsg,type:"error",confirmButtonText:"关闭"})})}};s.push(c),a["default"].controller("orderDetailController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(24),i(17);var r=i(4),s=(i(2),i(3),["$scope","orderListModel","orderModel","orderStatusModel","$stateParams","$timeout","$rootScope"]),c=function(e,t,i,n,o,a,s){s.setTitle("订单管理"),e.orderList={list:[],total:0},e.statusList=[],e.statusMap={},e.currentPage=parseInt(o.currentPage)>0?parseInt(o.currentPage):1,e.pageSize=20,e.orderListInit=function(){e.getStatusList(),e.orderListGet(e.currentPage-1,e.pageSize)},e.orderListGet=function(i,n,a){e.orderList={list:[],total:0},"undefined"==typeof n&&(n=1),"undefined"==typeof a&&(a={}),a.siteid=o.websiteid,a.page=i,a.page_size=n,e.processing=!0,t({},(0,r.appendConfig)({get:{showErrorTip:!1}})).get(a).$promise.then(function(t){e.processing=!1,e.orderList=t,a.loading=!1},function(){e.processing=!1})},e.getStatusList=function(){e.statusMap=n.get(),e.statusMap.$promise["finally"](function(){if(e.statusMap)for(var t in e.statusMap)e.statusList.push(angular.extend({},e.statusMap[t],{key:t}))})}};s.push(c),a["default"].controller("orderController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(19);var r=["$scope","$rootScope","paymentPlatformListModel","$state","$stateParams","$window","payGoodModel","integralBuyService","domainPayService","getPaymentPlatformListService"],s=function(e,t,i,n,o,a,r,s,c,l){t.setTitle("购买VIP"),t.switchSidebar(!1),e.servicerSetting=t.servicerSetting,e.$stateParams=o,e.goodOrderInit=function(){e.paymentPlatformList=[],e.selectInfo={platform:{}},!o.params||"buyVip"!=o.params.action&&"renewVip"!=o.params.action&&"integralBuyGood"!=o.params.action&&"payDomain"!=o.params.action?n.go("website.list"):(e.goods=o.params.goods,"money"==e.goods[0].showData.payWay&&e.getPaymentPlatformList())},e.getPaymentPlatformList=function(){i().then(function(t){var i=l(t);e.paymentPlatformList=i[0],e.selectInfo.platform=i[1]})},e.payingAction=function(e,t,i){return"buyVip"==o.params.action||"renewVip"==o.params.action?void u(e,t):"integralBuyGood"==o.params.action?void s(e):"payDomain"==o.params.action?void(e.sendData&&c.buyDomainGenerateUrl(t,i,e.sendData,e.callback.callbackUrl,e.sendData.type)):void 0};var u=function(t,i){var n=document.location.protocol+"//"+document.location.host,o="#/website/"+t.sendData.siteid,s=a.encodeURIComponent(n+"/"+o),c=n+"/pay/result?callback="+s+"&pay_method="+i;t.sendData.redirect_url=c,t.sendData.pay_platform=i,r.post({},t.sendData,function(e){"undefined"!=typeof e.gotourl&&(location.href=e.gotourl)},function(t){e.error=t.data.errmsg})}};r.push(s),a["default"].controller("orderingController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=["$scope","$rootScope","$state","$stateParams","userService","websiteService","v2WebsitePagesModel","pageProductListModel","productSwitchPublishModel","productOpModel","productDetailModel","productTagModel","productInsertModel","httpProcessing","vodIframeService","vodChangeService"],l=function(e,t,i,n,o,a,r,c,l,u,d,f,p,m,g,h){function b(){w=e.$watch("productDetail",function(t,i){if(!v(t)&&!angular.equals(t,i)){var o=JSON.stringify(t);n.productid&&parseInt(n.productid)>0?sessionStorage.setItem("product-"+e.productDetail.productid,o):sessionStorage.setItem("product-create",o)}},!0)}e.froalaOptions={language:"zh_cn",toolbarInline:!1,charCounterCount:!1,placeholderText:"请在此输入内容",height:"30rem",heightMin:"10rem",toolbarButtons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","lineHeight","letterSpacing","|","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","selectAll","html","fullscreen"]},e.httpProcessing=m,e.hrefOptions=[{id:0,name:"未选择",url:""},{id:1,name:"京东",url:""},{id:2,name:"天猫",url:""},{id:3,name:"苏宁",url:""},{id:4,name:"一号店",url:""},{id:5,name:"其他",url:""}],e.emptyProcutDetail=function(){e.productDetail={siteid:parseInt(n.websiteid),pageid:parseInt(n.pageid),productid:0,name:"",profile:"",detail:"",tags:[],profile_title:[{id:1,name:"SKU"},{id:2,name:"价格"},{id:3,name:"促销价格"}],profile_content:[[{id:1,name:"SKU",value:"001"},{id:2,name:"价格",value:"0.00"},{id:3,name:"促销价格",value:"0.00"}]],thumbs:[],hrefs:[],tmpHrefSelect:{id:0,name:"未选择",url:""}},e.initProduct=angular.copy(e.productDetail)},e.editProductInit=function(){t.switchSidebar(!0),e.$stateParams=n,e.params={previewPic:""},t.setTitle("新建产品|产品管理"),e.emptyProcutDetail(),e.sessionProduct=JSON.parse(sessionStorage.getItem("product-create")),e.sessionProduct&&!n.productid&&e.sessionProduct.siteid==parseInt(n.websiteid)&&swal({type:"warning",title:"新建",text:"未完成的新建，是否继续操作?",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?(e.productDetail=e.sessionProduct,e.$apply()):e.removeSession()}),"undefined"!=typeof n.productid&&n.productid>0&&d.get({websiteid:n.websiteid,productid:n.productid}).$promise.then(function(i){e.loading=!1,t.setTitle("编辑产品("+i.name+")|产品管理"),e.productDetail=i,e.productDetail.tmpHrefSelect=angular.copy(e.hrefOptions[0]),e.params.previewPic=e.productDetail.thumbs[0],e.productDetail.detail=g(i.detail),e.sessionProductOne=JSON.parse(sessionStorage.getItem("product-"+e.productDetail.productid)),e.sessionProductOne&&e.sessionProductOne.productid==n.productid&&e.sessionProductOne.siteid==parseInt(n.websiteid)&&swal({type:"warning",title:"编辑",text:"未完成的编辑，是否继续操作?",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?(e.productDetail=e.sessionProductOne,e.$apply()):e.removeSession()})})},e.deleteThumbAction=function(t){swal({title:"确认",text:"确定删除该图片?",type:"info",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&(e.productDetail.thumbs[t]==e.params.previewPic&&(e.params.previewPic=e.productDetail.thumbs[0]),e.productDetail.thumbs.splice(t,1),0==e.productDetail.thumbs.length&&(e.params.previewPic=""),e.$apply())})},e.addTagAction=function(){swal({title:"新建标签",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"在此输入标签名",confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnCancel:!0,showLoaderOnConfirm:!0},function(t){return t!==!1&&(""===t?(swal.showInputError("请输入标签名"),!1):void f.post({},{name:t}).$promise.then(function(i){e.productDetail.tags.push({tagid:i.tagid,name:t}),swal.close()}))})},e.removeTagAction=function(t){swal({title:"确认",text:"确定删除该标签?",type:"info",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&(e.productDetail.tags=e.productDetail.tags.filter(function(e){return e.tagid!=t}),e.$apply())})},e.addProfileRowAction=function(){var t=[];e.productDetail.profile_title.map(function(e){t.push({id:e.id,value:""})}),e.productDetail.profile_content.push(t)},e.addProfileColumnAction=function(){swal({title:"新建属性",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"在此输入属性名",confirmButtonText:"确定",cancelButtonText:"取消",closeOnCancel:!0},function(t){if(t===!1)return!1;if(""===t)return swal.showInputError("请输入属性名"),!1;var i=!1;if(e.productDetail.profile_title.map(function(e){e.name==t&&(i=!0)}),i)return swal.showInputError("已有同名属性,换一个属性名吧!"),!1;var n=e.productDetail.profile_title.length+1;e.productDetail.profile_title.push({id:n,name:t}),e.productDetail.profile_content.map(function(i,o){e.productDetail.profile_content[o].push({id:n,name:t,value:""})}),e.$apply(),swal.close()})},e.deleteProfileRowAction=function(t){swal({title:"确认",text:"确定删除该型号/版本?",type:"info",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&(e.productDetail.profile_content.splice(t,1),e.$apply())})},e.deleteProfileColumnAction=function(t){swal({title:"确认",text:"确定删除该属性?",type:"info",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&(e.productDetail.profile_title=e.productDetail.profile_title.filter(function(e){return e.id!=t}),e.productDetail.profile_content.map(function(i,n){e.productDetail.profile_content[n]=i.filter(function(e){return e.id!=t})}),e.$apply())}),event.stopPropagation()},e.addHrefAction=function(t){if(0!=t.id){var i=!1;e.productDetail.hrefs.map(function(n){n.id==t.id&&t.id!=e.hrefOptions[e.hrefOptions.length-1].id&&(i=!0)}),e.productDetail.hrefs.push(t),e.productDetail.tmpHrefSelect=angular.copy(e.hrefOptions[0])}},e.deleteHrefsAction=function(t,i){e.productDetail.hrefs.splice(t,1)},e.saveProduct=function(e,t){return e.name.length<1?void swal("提醒","产品标题不能为空","warning"):(delete e.tmpHrefSelect,e.is_publish=!!t,e.detail=h(e.detail),0==e.productid?p.post({websiteid:n.websiteid,pageid:n.pageid},e):u.put({websiteid:n.websiteid,pageid:n.pageid,productid:n.productid},e))},e.saveAction=function(t){t.pageid=parseInt(t.pageid),e.saveProduct(t,!0).$promise.then(function(){s["default"].success("保存成功!"),i.go("^")})},e.saveContinueAction=function(t){e.saveProduct(t,!0).$promise.then(function(){s["default"].success("保存成功!"),n.productid=0,e.emptyProcutDetail(),b()})},e.addProductImages=function(t){e.productDetail.thumbs=e.productDetail.thumbs.concat(t),e.productDetail.thumbs.length&&(e.params.previewPic=e.productDetail.thumbs[0])},e.changePreviewPicAction=function(t){e.params.previewPic=t},e.saveDraftAction=function(t){e.saveProduct(t,!1).$promise.then(function(){i.go("^")})};var v=function(t){var i=!0;void 0==t.name&&(t.name=""),void 0==t.profile&&(t.profile="");for(var n in e.initProduct)angular.equals(t[n],e.initProduct[n])||"productid"===n||"profile_content"===n||(i=!1);return i&&e.removeSession(),i},w=void 0;b(),e.removeSession=function(){n.productid&&parseInt(n.productid)>0?sessionStorage.removeItem("product-"+e.productDetail.productid):sessionStorage.removeItem("product-create")},e.removeSessionAction=function(){e.removeSession(),w()},e.backTipAction=function(){return 0!=e.productDetail.productid||v(e.productDetail)?(e.removeSessionAction(),void i.go("website.detail.product.list",{websiteid:n.websiteid,pageid:n.pageid})):void swal({type:"warning",title:"温馨提示",text:"填写的数据将丢失，确定离开此页面？",showCancelButton:!0,confirmButtonText:"确定离开",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&(e.removeSessionAction(),i.go("website.detail.product.list",{websiteid:n.websiteid,pageid:n.pageid}))})}};c.push(l),a["default"].controller("productEditController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r);i(141);var c=["$scope","$rootScope","$state","$stateParams","pageProductListModel","productSwitchPublishModel","productOpModel","productDetailModel","websitePageModel"],l=function(e,t,i,n,o,a,r,c,l){e.$stateParams=n,e.ALL_STATE=-1,e.PUBLISH_STATE=1,e.UNPUBLISH_STATE=0,e.listInit=function(){t.setTitle("产品列表|产品管理"),t.switchSidebar(!0),e.addProductLoading=!1,e.addProductLoadingTwo=!1,n.params.hasOwnProperty("page")?e.pageInfo=n.params.page:e.getPageInfo(n.websiteid,n.pageid),e.listFilter={state:e.ALL_STATE,productState:{},taggleChecked:!1},e.selectedProduct=0,e.bulkOperation=!1,e.currentPage=1,e.pageSize=20,e.listAction(1)},e.getPageInfo=function(t,i){l.get({websiteid:t,pageid:i}).$promise.then(function(t){e.pageInfo=t})},e.switchAction=function(t){e.listFilter.state=t,e.listFilter.productState={},e.currentPage=1,e.viewProductAction({})},e.listAction=function(t){e.processing=!0,e.listFilter.taggleChecked=!1,e.showMenu=!1,t=t||1,o.get({websiteid:n.websiteid,pageid:n.pageid,page:t,page_size:e.pageSize,is_publish:e.listFilter.state}).$promise.then(function(t){e.processing=!1,e.productList=t},function(){e.processing=!1})},e.switchPublish=function(t,i){var o=a.put({websiteid:n.websiteid,pageid:n.pageid,productid:t,is_publish:i?1:0});return o.$promise.then(function(){e.productList.list.map(function(n,o){if(n.productid==t)switch(e.listFilter.state){case e.ALL_STATE:e.productList.list[o].is_publish=i==e.PUBLISH_STATE;break;case e.PUBLISH_STATE:i==e.UNPUBLISH_STATE&&e.productList.list.splice(o,1);break;case e.UNPUBLISH_STATE:i==e.PUBLISH_STATE&&e.productList.list.splice(o,1)}})}),o},e.switchPublishAction=function(t,i){swal({title:"提醒",text:i?"确定要上架该商品?":"确定要下架该商品?",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&(e.switchPublish(t,i),e.viewProductAction({}))})},e["delete"]=function(t){var i=r["delete"]({websiteid:n.websiteid,pageid:n.pageid,productid:t});return i.$promise.then(function(){e.productList.list=e.productList.list.filter(function(e){return e.productid!=t})}),i},e.deleteAction=function(t){swal({title:"提醒",text:"商品一旦删除将不能还原,确定删除?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&e["delete"](t).$promise.then(function(){s["default"].success("删除成功"),e.viewProductAction({})})})},e.deleteAllAction=function(){swal({title:"提醒",text:"确定删除所选商品?",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(t){if(t){for(var i in e.listFilter.productState)e.listFilter.productState[i].checked&&e["delete"](i);e.listFilter.productState={},e.listFilter.taggleChecked=!1}})},e.taggleAllAction=function(){e.listFilter.taggleChecked=!e.listFilter.taggleChecked,e.productList.list.map(function(t){"undefined"==typeof e.listFilter.productState[t.productid]&&(e.listFilter.productState[t.productid]={checked:!1}),e.listFilter.productState[t.productid].checked=e.listFilter.taggleChecked})},e.switchPublishAllAction=function(t){swal({title:"提醒",text:t?"确定要上架所有商品?":"确定要下架所有商品?",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){if(i){for(var n in e.listFilter.productState)e.listFilter.productState[n].checked&&e.switchPublish(n,t);e.listFilter.productState={},e.listFilter.taggleChecked=!1}})},e.viewProductAction=function(t){e.selectedProduct=t.productid,i.go("website.detail.product.list.view",{websiteid:n.websiteid,pageid:n.pageid,productid:t.productid})},e.viewInit=function(){e.$stateParams=n,e.viewProduct={},"undefined"!=typeof n.productid&&parseInt(n.productid)>0&&c.get({websiteid:n.pageid,productid:parseInt(n.productid)}).$promise.then(function(t){e.viewProduct=t,$(document).ready(function(){$(".view-content").html(t.detail)})})}};c.push(l),a["default"].controller("productListController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","$rootScope","getPagesLevelService","$stateParams","websiteService","$state"],c=function(e,t,i,n,o,a){e.$stateParams=n,e.PRODUCT_PAGE=r.PRODUCT_PAGE,e.init=function(){t.setTitle("产品管理"),t.switchSidebar(!1),e.websitePages=[],s()};var s=function(){o.get().$promise.then(function(t){"undefined"==typeof t.goods.product||0==t.goods.product?swal({title:"提醒",text:"当前版本不支持产品功能，如需使用请先升级！",type:"warning",showCancelButton:!0,confirmButtonText:"前往升级",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e?a.go("website.detail.purchase",{websiteid:t.siteid}):a.go("website.detail",{websiteid:t.siteid})}):i(n.websiteid).then(function(t){e.productPagesNum=0;var i=[];t.map(function(e){e.type==r.PRODUCT_PAGE&&i.push(e)}),e.productPagesNum=i.length,e.websitePages=t})})}};s.push(c),a["default"].controller("productPageController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","siteProductListModel","$stateParams","productCopyModel","$state"],s=function(e,t,i,n,o){e.storeInit=function(){e.$stateParams=i,e.currentPage=1,e.pageSize=20,e.siteProductListAction(1)},e.siteProductListAction=function(n){e.processing=!0,t.get({websiteid:i.websiteid,page:n,pageNum:e.pageSize,exclude_page:i.pageid,is_publish:1
}).$promise.then(function(t){e.processing=!1,e.siteProductList=t},function(){e.processing=!1})},e.createAction=function(e){swal({title:"确认",text:"确定用该商品快速创建商品?",type:"info",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(t){t&&n.post({websiteid:i.websiteid,pageid:i.pageid,productid:e,publish:0}).$promise.then(function(){swal("创建成功","商品创建成功！","success"),o.go("website.detail.product.list",{websiteid:i.websiteid,pageid:i.pageid})},function(){swal.close()})})}};r.push(s),a["default"].controller("productStoreController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(19),i(12),i(20);var r=i(2),s=i(3),c=["$scope","$rootScope","paymentPlatformListModel","trialGoodModel","getGoodsModel","$state","$modal","getColNumService","goodsInfoService","voucherModel"],l=function(e,t,i,n,o,a,c,l,u,d){t.setTitle("购买VIP"),t.switchSidebar(!1),e.servicerSetting=t.servicerSetting,e.servicerDetail=t.servicerDetail,e.getSiteGoods=function(){e.colNum=3,e.GOOD_TYPE_SITE=s.GOOD_TYPE_SITE,e.BILLING_TYPE_TIME=s.BILLING_TYPE_TIME,e.BILLING_TYPE_NUMBER=s.BILLING_TYPE_NUMBER,e.goodsData=[],e.getGoodsList()},e.purchaseInit=function(){e.getSiteGoods(),e.getvoucherList()},e.nodeSwitchType=function(e){switch(e){case 0:return"普通节点";case 1:return"普通节点，VIP节点";case 2:return"普通节点，VIP节点，超级VIP节点"}},e.getGoodsList=function(t,i){t=t||1,i=i||20,o.get({type:s.GOOD_TYPE_PACKAGE,price_type:s.PRICE_TYPE_CASH,page:t,page_size:i}).$promise.then(function(t){t.list&&t.list.length>0&&(t.list=t.list.sort(function(e,t){return e.price-t.price}),e.goodsData=u.reStructure(t,u.getGoodsTypes(t,e.goodsData)),e.colNum=l(e.goodsData.length))})},e.getvoucherList=function(){d.get().$promise.then(function(t){var i=[];e.voucherList=t,e.voucherList.list.forEach(function(e){0==e.use_time&&1e3*e.expire_time>(new Date).getTime()&&i.push(e)}),e.enableUseVoucher=i})},e.trialWebsite=function(t){c.open({templateUrl:(0,r.staticPath)("tpl/website/purchase/tryGood.html"),scope:e,controller:["$scope","$modalInstance",function(e,i){e.openTry=function(){n.post({websiteid:t},{siteid:t},function(){swal({title:"OK",text:"开启VIP试用成功！",type:"success",allowEscapeKey:!1,confirmButtonText:"返回网站概况"},function(){swal.close(),i.close(),a.go("website.detail",{websiteid:t},{reload:!0})})})},e.cancel=function(){i.close()}}],resolve:{}})},e.isTryGoodSite=function(){return e.websiteDetail&&0==e.websiteDetail.exinfo["try"]&&new Date(1e3*e.websiteDetail.site_time).getTime()+2592e6>(new Date).getTime()},e.toPayAction=function(t){var i=[],n={};n.sendData={siteid:e.websiteDetail.siteid,servicerid:e.servicerSetting.servicerid,goods_logo:t.logo,redirect_url:"",pay_platform:""},n.showData={payWay:"money",name:t.name,price:parseInt(t.price),number:1,priceUnit:"元",numberUnit:"个",totalPrice:t.price,infos:[{name:"网站名",value:e.websiteDetail.site_name},{name:"网站域名",value:e.websiteDetail.free_domainname+"."+e.websiteDetail.ext_domain}],desc:t.desc},n.callback={},i.push(n),a.go("website.ordering",{params:{action:"buyVip",goods:i}})}};c.push(l),a["default"].controller("purchaseController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","userService"],s=function(e,t){t.get().$promise.then(function(t){e.capacityUseful=parseInt(parseInt(t.current_capacity)/1048576)})};r.push(s),a["default"].controller("serviceSpaceController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5);n(r);i(21);var s=["$scope","$rootScope","websiteService","$stateParams","$state","getPagesLevelService","httpProcessing"],c=function(e,t,i,n,o,a,r){e.httpProcessing=r,e.$stateParams=n,e.urls=[],e.init=function(){t.setTitle("301设置|网站设置"),t.switchSidebar(!1),e.pages=[],e.getPagesInfo(),e.websiteDetailInit()},e.websiteDetailInit=function(){i.get().$promise.then(function(t){e.websiteDetail=t,e.siteDomain=e.servicerModules&&e.servicerModules.site_bind_domain.enable&&""!=e.websiteDetail.domain?e.websiteDetail.domain:e.websiteDetail.free_domainname+"."+e.websiteDetail.ext_domain})},e.getPagesInfo=function(){a(n.websiteid).then(function(t){e.pages=t,t.map(function(e){e.redirect instanceof Array||(e.redirect=[])})},function(){e.pages=[]})},e.isShowAllAction=function(t,i){jQuery(".redirect-content").outerHeight(55),e.pages.forEach(function(e,n){if(e.pageid==t)if(e.isShowAll)e.isShowAll=!1;else{e.isShowAll=!0;var o=jQuery(i.target).closest(".panel").find(".text-content").outerHeight()+30;jQuery(i.target).closest(".panel").find(".redirect-content").outerHeight(o)}else e.isShowAll=!1})}};s.push(c),a["default"].controller("301Controller",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r);i(21);var c=["$scope","websiteService","websitePublishModel","$stateParams","websiteRedirectUrlModel","$state","httpProcessing"],l=function(e,t,i,n,o,a,r){e.httpProcessing=r,e.$stateParams=n,e.editInit=function(){e.isInputError=!1,e.params={},e.websiteDetailInit(),n.websiteid&&n.pageid&&(e.pageName=n.pageName,c())},e.websiteDetailInit=function(){t.get().$promise.then(function(t){e.websiteDetail=t,e.siteDomain=e.servicerModules&&e.servicerModules.site_bind_domain.enable&&""!=e.websiteDetail.domain?e.websiteDetail.domain:e.websiteDetail.free_domainname+"."+e.websiteDetail.ext_domain})};var c=function(){o.query({websiteid:n.websiteid}).$promise.then(function(t){e.urls=t,l(t)})};e.redirectArr=[];var l=function(t){var i=!1;if(t.forEach(function(t,o){t.pageid==n.pageid&&(e.redirectArr.push(t),i=!0)}),!i){var o={pageid:parseInt(n.pageid),siteid:parseInt(n.websiteid),url:""};e.redirectArr.push(o)}};e.validUrl=function(t){e.isInputError=!1,angular.copy(t).forEach(function(t,i){if(t.url&&0==t.url.indexOf("http://")){var n=document.createElement("a");n.href=t.url,t.url=n.pathname.substr(1)+n.search,""==t.url&&(e.isInputError=!0)}})},e.addRedirectAction=function(){e.isInputError||e.redirectArr.push({pageid:parseInt(n.pageid),siteid:parseInt(n.websiteid),url:""})},e.deleteRedirectAction=function(t){swal({title:"提醒",text:"确定删除该条记录?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想"},function(){e.redirectArr.splice(t,1),e.validUrl(e.redirectArr),e.$apply()})},e.saveAction=function(t){e.urls=e.urls.filter(function(e){return e.pageid!=parseInt(n.pageid)}),e.urls=e.urls.concat(t),e.urls=e.urls.filter(function(e){if(e.url.indexOf("/")>-1){var t=e.url.split("");t.splice(0,1),e.url=t.join("")}return e.siteid==n.websiteid&&0!=e.pageid&&e.url.length>0}),o.update({websiteid:n.websiteid},e.urls,function(){i().post({websiteid:n.websiteid}).$promise.then(function(){s["default"].success("保存成功"),a.go("website.detail.setting.301")})})}};c.push(l),a["default"].controller("301EditController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=["$scope","$rootScope","websiteService","websiteChangeIcoModel","websitePublishModel","$stateParams"],l=function(e,t,i,n,o,a){e.websiteDetail={},e.init=function(){i.get().$promise.then(function(n){e.websiteDetail=n,t.setTitle("图标设置|网站设置"),t.switchSidebar(!1),i.get().$promise.then(function(){e.params={websiteIco:"noReturn"==n.browser_image?"":n.browser_image,shareImg:n.phone_image}})})},e.uploadIcoAction=function(t){e.params.websiteIco=t,n.update({websiteid:a.websiteid},{browser_image:t}).$promise.then(function(){i.set({browser_image:t}),o().post({websiteid:a.websiteid}).$promise.then(function(){s["default"].success("更新成功"),i.browser_image=e.params.websiteIco})})},e.uploadShareImgAction=function(t){e.params.shareImg=t,n.update({websiteid:a.websiteid},{phone_image:t}).$promise.then(function(){i.set({phone_image:t}),o().post({websiteid:a.websiteid}).$promise.then(function(){s["default"].success("更新成功"),i.phone_image=e.params.shareImg})})}};c.push(l),a["default"].controller("faviconController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=["$scope","$rootScope","websiteService","websiteModel","websitePublishModel","$stateParams","valueToObjService"],l=function(e,t,i,n,o,a,r){e.params=null,e.websiteDetail={},e.normalIit=function(){e.siteUseList=[{name:"个人用途",value:0},{name:"企业用途",value:1},{name:"工作室用途",value:2}],e.siteLanguageList=[{name:"中文(zh_CN)",value:"zh_CN"},{name:"英文(en_US)",value:"en_US"},{name:"日文(ja_JP)",value:"ja_JP"}],i.get().$promise.then(function(t){e.websiteDetail=t,e.params={siteName:t.site_name,recordNumber:t.record_number,siteTypeObj:r(e.siteUseList,t.site_type),langObj:r(e.siteLanguageList,t.lang),seoDesc:t.seo_desc}})},e.saveAction=function(t){e.websiteDetail.site_name=t.siteName,e.websiteDetail.record_number=t.recordNumber,e.websiteDetail.site_type=parseInt(t.siteTypeObj.value),e.websiteDetail.lang=t.langObj.value,e.websiteDetail.seo_desc=t.seoDesc,n.update({websiteid:a.websiteid},e.websiteDetail).$promise.then(function(){o().post({websiteid:a.websiteid}).$promise.then(function(){s["default"].success("保存成功")}),i.set(e.websiteDetail)})}};c.push(l),a["default"].controller("normalController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=n(r),c=i(4),l=["$scope","$rootScope","$state","$stateParams","websiteModuleModel","websiteModuleDeleteModel","kfModel","bindDomainModel","websitePublishModel","websiteService","$q","httpProcessing","$modal"],u=function(e,t,i,n,o,a,r,l,u,d,f,p,m){e.httpProcessing=p,e.kfData={open:!1,color:"",desc:"",email:"",message:"",qq:[],siteid:n.websiteid,telphone:[],weixin:"",address:""},e.init=function(){e.websiteDetail={},h().then(function(){t.setTitle("在线客服|网站设置"),t.switchSidebar(!1),e.isQQError=!1,e.serviceSettingColors=["do-bg-white","do-bg-black","do-bg-black1","do-bg-black2","do-bg-black3","do-bg-black4","do-bg-black5","do-bg-black6","do-bg-black7","do-bg-black8","do-bg-blue","do-bg-blue1","do-bg-blue2","do-bg-blue3","do-bg-blue4","do-bg-green","do-bg-green1","do-bg-green2","do-bg-green3","do-bg-green4","do-bg-red","do-bg-red1","do-bg-red2","do-bg-red3","do-bg-red4","do-bg-purple","do-bg-purple1","do-bg-purple2","do-bg-purple3","do-bg-purple4","do-bg-yellow","do-bg-yellow1","do-bg-yellow2","do-bg-yellow3","do-bg-yellow4"],o.query({websiteid:n.websiteid}).$promise.then(function(t){t.map(function(t){t.hasOwnProperty("logo")&&"marketing_kf"==t.logo&&(e.kfData.open=1==t.offset||!1,g())})})})};var g=function(){r({},(0,c.appendConfig)({get:{showErrorTip:!1}})).get({websiteid:n.websiteid,draft:1}).$promise.then(function(t){e.kfData.color=t.color,e.kfData.desc=t.desc,e.kfData.email=t.email,e.kfData.message=t.message,e.kfData.qq=t.qq.length>0?t.qq.split(","):[],e.kfData.siteid=t.siteid,e.kfData.telphone=t.telphone.length>0?t.telphone.split(","):[],e.kfData.weixin=t.weixin,e.kfData.address=t.address})},h=function(){var t=f.defer();return d.get().$promise.then(function(n){e.websiteDetail=n,"undefined"==typeof n.goods.kf||0==n.goods.kf?swal({title:"提醒",text:"当前版本不支持在线客服功能，如需使用请先升级！",type:"warning",showCancelButton:!0,confirmButtonText:"前往升级",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e?i.go("website.detail.purchase",{websiteid:n.siteid}):i.go("website.detail",{websiteid:n.siteid})}):t.resolve()},function(){t.reject(!1)}),t.promise};e.switchServiceAction=function(e){e?o.post({websiteid:n.websiteid},{module:"marketing_kf"}).$promise.then(function(){u().post({websiteid:n.websiteid}).$promise.then(function(){swal("success","在线客服功能开启成功","success")}),g()}):a(n.websiteid,{module:"marketing_kf"}).then(function(){u().post({websiteid:n.websiteid}).$promise.then(function(){swal("success","在线客服功能已成功关闭","success")})})},e.addQQAction=function(){e.isQQError||e.kfData.qq.push("")},e.removeQQAction=function(t){""!=e.kfData.qq[t]?swal({title:"提醒",text:"确定删除该条记录?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!0},function(i){i&&(e.kfData.qq=e.kfData.qq.filter(function(e,i){return i!=t}),e.isQQError=!1,e.$apply()),swal.close()}):(e.kfData.qq=e.kfData.qq.filter(function(e,i){return i!=t}),e.$apply())},e.addPhoneAction=function(){e.kfData.telphone.push("")},e.validQQ=function(t){e.isQQError=!(""!=t&&t.toString().length>=5&&t.toString().length<=12)},e.removePhoneAction=function(t){""!=e.kfData.telphone[t]?swal({title:"提醒",text:"确定删除该条记录?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!0},function(i){i&&(e.kfData.telphone=e.kfData.telphone.filter(function(e,i){return i!=t}),e.$apply()),swal.close()}):(e.kfData.telphone=e.kfData.telphone.filter(function(e,i){return i!=t}),e.$apply())},e.updateWeixinAction=function(t){e.kfData.weixin=t},e.removeWeixinAction=function(){swal({title:"提醒",text:"确定删除微信二维码?",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!0},function(t){t&&(e.kfData.weixin="",e.$apply()),swal.close()})},e.findQrcodeAction=function(){m.open({template:'\n                <div class="modal-header">\n                     <h4 class="modal-title">查找微信二维码</h4>\n                </div>\n                <div class="modal-body pos-rlt">\n                   <iframe src="http://yuntv.letv.com/bcloud.html?uu=xnxmbphzdt&vu=bd206986c4&auto_play=1&gpcflag=1&width=853&height=480" style="width:100%;height:480px;" id="editor_frame"></iframe>\n               </div>\n                 <div class="modal-footer">\n                     <div class="form-group text-right">\n                            <button class="btn btn-primary" type="button" ng-click="cancelAction()">关闭</button>\n                     </div>\n                 </div>',size:"lg",scope:e,controller:["$scope","$modalInstance",function(e,t){e.cancelAction=function(){t.close()}}]})},e.saveAction=function(e){if(e.qq=e.qq.filter(function(e){return""!=e&&e.toString().length>=5&&e.toString().length<=12}),e.telphone=e.telphone.filter(function(e){return""!=e}),0==e.qq.length&&0==e.telphone.length&&0==e.email.length)return void swal("温馨提示","QQ,Email,手机号至少填写一个,请完善信息","warning");var t={address:e.address,color:e.color,desc:e.desc,email:e.email,message:e.message,qq:e.qq.join(","),siteid:e.siteid,telphone:e.telphone.join(","),weixin:e.weixin};r({},(0,c.appendConfig)({post:{showErrorTip:!1}})).post({websiteid:n.websiteid},t).$promise.then(function(){u().post({websiteid:n.websiteid}).$promise.then(function(){s["default"].success("更新成功")})})}};l.push(u),a["default"].controller("onlineServiceController",l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","$rootScope","websiteService","websitePublishModel","$stateParams"],s=function(e,t,i,n,o){e.redirectInit=function(){t.setTitle("全站跳转|网站设置"),t.switchSidebar(!1),e.params={},i.get().$promise.then(function(t){e.websiteDetail=t,e.params={url:e.websiteDetail.redirect_url,type:e.websiteDetail.redirect_type,open:e.websiteDetail.redirect_open}})},e.saveAction=function(t){e.websiteDetail.redirect_url=t.url,e.websiteDetail.redirect_open=t.open,e.websiteDetail.redirect_type=parseInt(t.type),i.put(e.websiteDetail).$promise.then(function(){i.set(e.websiteDetail),n().post({websiteid:o.websiteid}).$promise.then(function(){swal("成功","全站跳转设置成功!","success")})})}};r.push(s),a["default"].controller("redirectController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(21);var r=["$scope","$rootScope","websitePublishModel","websitePageModel","$stateParams","websiteService","websitePagesModel","v2WebsitePagesModel","$state","getPagesLevelService","httpProcessing"],s=function(e,t,i,n,o,a,r,s,c,l,u){e.httpProcessing=u,e.seoInit=function(){e.pages=[],e.config={},t.setTitle("SEO设置|网站设置"),t.switchSidebar(!1),e.getPagesInfo()},e.getPagesInfo=function(){l(o.websiteid).then(function(t){e.pages=t})},e.seoEditInit=function(){o.websiteid&&o.pageid&&(""!=o.pageName?e.page={pageid:o.pageid,page_name:o.pageName,siteid:o.websiteid,seo_title:"",seo_desc:"",seo_keyword:"",page_enname:"",custom_file:""}:e.getPageInfo(parseInt(o.websiteid),parseInt(o.pageid)))},e.getPageInfo=function(t,i){n.get({websiteid:t,pageid:i}).$promise.then(function(t){e.page=t})},e.saveAction=function(e){n.update({pageid:e.pageid},{page_name:e.page_name,seo_title:e.seo_title,seo_desc:e.seo_desc,seo_keyword:e.seo_keyword,page_enname:e.page_enname,custom_file:e.custom_file}).$promise.then(function(){i().post({websiteid:o.websiteid}).$promise.then(function(){swal("成功",'"'+e.page_name+'"的SEO更新成功！',"success"),c.go("website.detail.setting.seo")})})}};r.push(s),a["default"].controller("seoController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2),s=i(3),c=["$scope","domainListModel","websiteService","querySubDomain","$cookies","bindDomainModel","$stateParams","addDnsModel","deleteDnsModel","$state","$modal","isSubDomain","$q","isValidDomain"],l=function(e,t,i,n,o,a,c,l,u,d,f,p,m,g){e.dnsNormal=0,e.IDENTIFY_ING=s.IDENTIFY_ING,e.IDENTIFY_SUCCESS=s.IDENTIFY_SUCCESS,e.IDENTIFY_FAIL=s.IDENTIFY_FAIL,e.bindDomainInit=function(){e.bindDomain={inputDomain:""},i.get().$promise.then(function(t){e.websiteDetail=t,t.goods.bind_domain&&(e.getDomainList(),e.getSiteInfo().$promise.then(function(t){e.siteInfo=t}))})},e.getDomainList=function(){var i=arguments.length<=0||void 0===arguments[0]?1:arguments[0],o=arguments.length<=1||void 0===arguments[1]?20:arguments[1];e.domainList={list:[],total:0},t.get({page:i,page_size:o}).$promise.then(function(t){t.list&&t.total>0&&(t.list.forEach(function(t,i){t.register_time<t.expire_time&&t.dnspod_status==e.dnsNormal&&e.domainList.list.push(t)}),e.domainList.total=e.domainList.list.length,e.domainList.list.forEach(function(t,i){n.query({domainid:t.doaminid,sub_domain:"www"}).$promise.then(function(t){var n=!1;t&&t.length>0&&t.forEach(function(t){"CNAME"==t.record_type&&0==t.is_delete&&(n=!0,e.domainList.list[i].record=t,e.domainList.list[i].isAKeyBindSite=!1)}),n||(e.domainList.list[i].isAKeyBindSite=!0)})}))})},e.getSiteInfo=function(){return i.get()},e.domainType=function(e){switch(e){case 1:return"英文域名";case 2:return"中文域名";case 3:return"海外域名";default:return"未知类型"}};var h=function(t,i,n){e.getSiteInfo().$promise.then(function(a){var r={domainid:parseInt(t.doaminid),dnspod_domainid:t.dnspod_domainid,dnspod_recordid:"",memberid:parseInt(o.get(s.ZHUZI_MEMBERID)),servicerid:parseInt(e.servicerSetting.servicerid),sub_domain:i,record_type:"CNAME",record_line:"默认",record_line_id:"0",value:a.free_domainname+"."+a.ext_domain,mx:1,ttl:600,status:1,weight:1};l.post({domainid:parseInt(t.doaminid)},r).$promise.then(function(e){n&&b(i+"."+t.domain+"."+t.suffix,e,t.domain_type)})})},b=function(t,i,n){t.indexOf("www.")>-1&&t.indexOf("wwww.")==-1&&(t=t.replace("www.",""));var o="<p>域名绑定成功！您可通过"+t+"访问您的网站啦！</p>";n==s.DOMAIN_TYPE_CHINESE&&(o+='<p><span class="text-danger">根据相关法律法规,国内所有域名需通过实名认证后方可解析。</span></p>'),a.post({websiteid:c.websiteid,domain:t},function(){e.websiteDetail.domain=t,swal({title:"操作成功",text:""+o,type:"success",allowEscapeKey:!1,confirmButtonText:"关闭",html:!0}),d.go("website.detail",{websiteid:c.websiteid})},function(t){e.processing=!1,u["delete"]({domainid:i.domainid,recordid:i.recordid})})};e.aKeyBindDomainAction=function(e){h(e,"www",!0),h(e,"@",!1)},e.seniorBindDomainAction=function(t){f.open({templateUrl:(0,r.staticPath)("/tpl/website/bindDomain/seniorBindDomain.html"),scope:e,controller:["$scope","domain","$modalInstance",function(e,t,i){e.domain=t,e.inputDomainData={sub_domain:""},e.seniorBindError="",e.validDomain=function(e){return p(e)},e.filterBind=function(e){var i=m.defer();return p(e)?(n.query({domainid:t.doaminid,sub_domain:e}).$promise.then(function(e){e&&e.length>0?!function(){var t=0;e.forEach(function(e){"CNAME"==e.record_type&&0==e.is_delete&&t++}),t>0?i.reject():i.resolve()}():i.resolve()},function(){i.resolve()}),i.promise):i.reject()},e.seniorBindAction=function(n){return n.sub_domain?(e.seniorBindError="",h(t,n.sub_domain,!0),void i.close()):void(e.seniorBindError="请输入主机记录")},e.cancel=function(){i.close()}}],resolve:{domain:function(){return t}}})},e.bindAction=function(e){var t=e.inputDomain.replace("www.","");return""!=t&&g(t)?void d.go("website.detail.bindDomainOthers",{websiteid:c.websiteid,domain:t}):void swal("提示","请输入完整的域名，如:helloworld.com","warning")}};c.push(l),a["default"].controller("bindDomainController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2),s=["$scope","websiteService","isValidDomain","bindDomainModel","$stateParams","$state","siteNodeModel","$rootScope","$modal"],c=function(e,t,i,n,o,a,s,c,l){function u(t){t.indexOf("www.")>-1&&t.indexOf("wwww.")==-1&&(t=t.replace("www.","")),n.post({websiteid:parseInt(o.websiteid),domain:t},function(){e.websiteDetail.domain=t,swal({title:"操作成功",text:"<span>域名绑定成功！您可通过"+t+'访问您的网站啦！</span><br><span class="text-danger">根据相关法律法规，国内所有域名需通过实名认证后方可解析</span>。',type:"success",allowEscapeKey:!1,confirmButtonText:"关闭",html:!0}),a.go("website.detail",{websiteid:o.websiteid})})}e.servicerSetting=c.servicerSetting,e.bindOthersDomainInit=function(){e.operateInfo={selectdDomainOrigin:{},isDns:""},e.domainInputError="",e.bindDomain={inputDomain:o.domain||""},t.get().$promise.then(function(t){e.websiteDetail=t,t.goods.bind_domain&&e.getSiteInfo().$promise.then(function(t){e.siteInfo=t,e.getNodes()})})},e.getSiteInfo=function(){return t.get()},e.getNodes=function(){e.usefulNodes={list:[],total:0},e.saveNode={},s.query().$promise.then(function(t){t.forEach(function(t){t.suffix==e.websiteDetail.ext_domain&&(e.nodeInfo=t)})})},e.validDomain=function(e){return i(e)},e.num={wanwang:0,xinwang:1,xibushuma:2,reg:3,others:4},e.domainOriginArr=[{name:"万网",value:e.num.wanwang,hasTutorial:!0},{name:"新网",value:e.num.xinwang,hasTutorial:!0},{name:"西部数码",value:e.num.xibushuma,hasTutorial:!0},{name:"REG域名注册网",value:e.num.reg,hasTutorial:!0},{name:"其他",value:e.num.others,hasTutorial:!1}],e.selectDomainOriginAction=function(t){e.operateInfo.selectdDomainOrigin=t},e.viewTutorialAction=function(t){l.open({scope:e,backdrop:"static",templateUrl:(0,r.staticPath)("/tpl/website/bindDomain/tutorial.html"),controller:["$scope","$modalInstance",function(e,i){e.selectdDomainOrigin=t,e.cancelAction=function(){i.close()}}],size:"lg"})},e.bindAction=function(e){e.inputDomain=e.inputDomain.replace("www.",""),u(e.inputDomain)}};s.push(c),a["default"].controller("bindOthersDomainController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=i(2),c=["$scope","getFreeNodeModel","websiteModel","$rootScope","$state","websiteService","$q","templateCategoryModel","$timeout","$cookies"],l=function(e,t,i,n,o,a,c,l,u,d){var f=/^[\u4e00-\u9fa5a-zA-Z0-9]+$/;e.copysiteInit=function(){p().then(function(){m()})};var p=function(){var t=c.defer();return a.get().$promise.then(function(i){e.websiteDetail=i,(e.websiteDetail.goods.expire<=0||"try"==e.websiteDetail.goods.vip)&&(swal({title:"提醒",text:"当前版本不支持复制站点功能，如需使用请先升级！",type:"warning",showCancelButton:!0,confirmButtonText:"前往升级",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e?o.go("website.detail.purchase",{websiteid:i.siteid}):o.go("website.detail",{websiteid:i.siteid})}),t.reject()),t.resolve()},function(){t.reject()}),t.promise},m=function(){e.tplCategories=[],e.maxKeyWordLength=200,e.CONUTRY_LIST=r.CONUTRY_LIST,e.tplTypes=[{id:1,name:"个人",value:"personSite"},{id:2,name:"企业",value:"companySite"},{id:3,name:"机构",value:"organizeSite"},{id:0,name:"其他",value:"otherSite"}],t().then(function(t){e.domainSuffixList=t.data,e.copyData={domain:"",domainSuffix:g(e.domainSuffixList),websiteid:e.websiteDetail.siteid,typeId:e.websiteDetail.site_type,typeName:h(e.websiteDetail.site_type),categoryIdArr:[],categoryNameArr:[],siteName:"",title:e.websiteDetail.seo_name,keyWords:v(e.websiteDetail.seo_keyword,e.maxKeyWordLength),desc:e.websiteDetail.seo_desc,personSite:{extend:{usage:"",name:"",country:e.CONUTRY_LIST[0],province:"",city:""}},companySite:{extend:{company_name:"",logo_name:"",industry:"",country:e.CONUTRY_LIST[0],province:"",city:"",tel:"",address:"",desc:""}},organizeSite:{extend:{organization_name:"",organization_type:"",country:e.CONUTRY_LIST[0],province:"",city:"",tel:"",address:"",desc:""}},otherSite:{extend:{usage:""}}}})},g=function(e){var t=Math.floor(Math.random()*e.length);return e[t]};e.checkInputDomain=function(e){return/^[a-zA-Z0-9\-\_]{4,16}$/i.test(e)};var h=function(e){switch(e){case 0:return"otherSite";case 1:return"personSite";case 2:return"companySite";case 3:return"organizeSite";default:return""}},b=function(e,t){var i="",n=0;for(var o in e){var a=i+e[o]+",";if(a.length-1>t){n=o;break}i+=e[o]}return n>0&&(e=e.slice(0,n)),e},v=function(e,t){var i=[];if("string"==typeof e&&e.indexOf(",")>-1)i=e.split(",");else{if(!(e instanceof Array))return[];i=e}return b(i,t)};e.testValue="",e.addKeyWordAction=function(t){var i=c.defer();return f.test(t)?(e.copyData.keyWords.join(",")+t).length>e.maxKeyWordLength?(swal("警告","关键字字数已达上限！请减少输入的字数","warning"),i.promise):(i.resolve(!0),e.copyData.isChangeKeyWords=!0,e.copyData.keyWords.push(t),i.promise):(swal("错误","关键字不能包含下划线#@;或空格等特殊字符","error"),i.promise)},e.deleteKeyWordAction=function(t){e.copyData.isChangeKeyWords=!0,e.copyData.keyWords.splice(t,1)},e.changeKeyWordAction=function(t,i){var n=c.defer();return f.test(t)?e.copyData.keyWords.join(",").length-e.copyData.keyWords[i].length+t.length>e.maxKeyWordLength?(swal("警告","关键字字数已达上限！请减少输入的字数","warning"),n.promise):(n.resolve(!0),e.copyData.isChangeKeyWords=!0,e.copyData.keyWords[i]=t,n.promise):(swal("错误","关键字不能包含下划线#@;或空格等特殊字符","error"),n.promise)};var w=function(){e.copyData[e.copyData.typeName].extend.province?P(e.copyData[e.copyData.typeName].extend):y()},y=function(){jQuery(function(){jQuery(".province-city").citySelect({url:(0,s.staticPath)("js/city/city.min.js"),nodata:"none",required:!1}),A()})},P=function(e){jQuery(function(){jQuery(".province-city").citySelect({url:(0,s.staticPath)("js/city/city.min.js"),prov:e.province,city:e.city}),A()})},A=function(){$(".province-city .prov").change(function(){x(e.copyData.typeName),u(function(){S(e.copyData.typeName)},500)}),$(".province-city .city").change(function(){S(e.copyData.typeName)})},x=function(t){e.copyData[t].extend.province=$(".province-city .prov option:selected").val()},S=function(t){e.copyData[t].extend.city=$(".province-city .city option:selected").val()};e.moreSettingAction=function(){w(),e.getCategoriesList(e.copyData.typeId)},e.getCategoriesList=function(t){l.query({type:t}).$promise.then(function(t){e.tplCategories=t})},e.selectSiteTypeAction=function(t){t.id!=e.copyData.typeId&&(e.copyData.categoryIdArr=[],e.copyData.categoryNameArr=[]),e.copyData.typeId=t.id,e.copyData.typeName=t.value,e.getCategoriesList(t.id),w()},e.getCategoryTitle=function(){if(e.copyData)switch(e.copyData.typeName){case"personSite":case"otherSite":return"您的网站具有哪些特色？";case"companySite":case"organizeSite":return"您的网站属于哪些行业？"}},e.isChecked=function(t){return e.copyData.categoryIdArr.indexOf(t)>=0},e.updateSelection=function(t){if(e.copyData.categoryIdArr.indexOf(t.id)==-1)e.copyData.categoryIdArr.push(t.id),e.copyData.categoryNameArr.push(t.name);else{var i=e.copyData.categoryIdArr.indexOf(t.id);e.copyData.categoryIdArr.splice(i,1),e.copyData.categoryNameArr.splice(i,1)}},e.checkPhoneNumber=function(t,i){e.isTelError=!1,""!=i&&(e.copyData[t].extend.tel=i.replace(/\D+/g,""),/^\d{7,11}$/.test(e.copyData[t].extend.tel)||(e.isTelError=!0))};var T=function(t,i){var n={type:parseInt(i.typeId),memberid:parseInt(d.get(r.ZHUZI_MEMBERID)),servicerid:parseInt(e.servicerSetting.servicerid),tplid:0,copy_siteid:t.siteid,lang:t.lang,name:i.siteName,domain_prefix:i.domain.trim(),nodeid:parseInt(i.domainSuffix.nodeid),seo:{keyword:i.keyWords.join(","),desc:i.desc,title:i.title},extend:angular.copy(i[i.typeName].extend)};return n.extend.hasOwnProperty("country")&&(n.extend.country=n.extend.country.value),"companySite"==i.typeName&&(n.extend.industry=i.categoryNameArr.join(",")),["personSite","otherSite"].indexOf(i.typeName)>-1&&(n.extend.usage=i.categoryNameArr.join(",")),"organizeSite"==i.typeName&&(n.extend.organization_type=i.categoryNameArr.join(",")),n},D=function(e,t){i.post(T(e,t),function(e){swal({title:"OK",text:"站点复制成功",type:"success",allowEscapeKey:!1,confirmButtonText:"关闭"},function(){o.go("website.detail",{websiteid:e.siteid},{reload:!0})})})};e.copyAction=function(t){t.domainSuffix.need_beian?swal({title:"温馨提醒",text:'\n<ul class="wrapper b-a b-2x b-dashed text-left">\n<li>1. 此"<span class="text-primary text-bold"">'+t.domainSuffix.name+'</span>"为需备案节点，若绑定顶级域名则需备案！复制站点成功后该节点可切换为其他节点。</li>\n</ul>',type:"warning",confirmButtonText:"确定",cancelButtonText:"我再想想",showCancelButton:!0,html:!0},function(){D(e.websiteDetail,t)}):D(e.websiteDetail,t)}};c.push(l),a["default"].controller("copySiteController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","$state","$stateParams","websiteService"],s=function(e,t,i,n){e.websiteid=i.websiteid,e.init=function(){e.websiteid=i.websiteid,o()};var o=function(){n.get().$promise.then(function(i){"undefined"!=typeof i.goods.bind_domain&&0!=i.goods.bind_domain||swal({title:"提醒",text:"当前版本不支持在绑定顶级域名功能，如需使用请先升级！",type:"warning",showCancelButton:!0,confirmButtonText:"前往升级",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(n){swal.close(),n?t.go("website.detail.purchase",{websiteid:e.websiteid}):t.go("website.detail",{websiteid:i.siteid})})})}};r.push(s),a["default"].controller("domainOriginController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2),s=i(5),c=n(s),l=i(3),u=i(4),d=["$scope","$rootScope","getFreeNodeModel","$stateParams","$state","$modal","md5","deleteWebsiteModel","$cookies","nodeSwitchModel","siteNodeModel","getDomainService","getDomainDetailModel","websiteModel","isMobile","delBindDomainModel","websiteService","httpProcessing","querySubDomain","updateDnsModel","getGoodsModel","$q"],f=function(e,t,i,n,o,a,s,d,f,p,m,g,h,b,v,w,y,P,A,x,S,T){e.servicerSetting=t.servicerSetting,e.servicerDetail=t.servicerDetail,e.PRICE_TYPE_CASH=l.PRICE_TYPE_CASH,e.websiteDetail=null,e.httpProcessing=P,e.nowTime=(new Date).getTime(),e.OFFICIAL_SERVICER_ID=l.OFFICIAL_SERVICER_ID,e.validMobile=function(e){return v(e)},e.spAction=function(){1==e.servicerSetting.servicerid&&(location.href="http://www.zhuzi.me/jiameng")};var D=function(e){var t={days:0,years:0},i=864e5,n=Math.ceil(e/i),o=Math.floor(n/365);return o>0&&(t.years=o,n=Math.floor(n%365)),t.days=n,t},I=function(t){("try"==e.websiteDetail.goods.vip&&e.websiteDetail.goods.leftVIPDay.days<=7||"try"!=e.websiteDetail.goods.vip&&0==e.websiteDetail.goods.leftVIPDay.years&&(e.websiteDetail.goods.leftVIPDay.days>=0&&e.websiteDetail.goods.leftVIPDay.days<=30||e.websiteDetail.goods.leftVIPDay.days<0&&e.websiteDetail.goods.vip.indexOf("integral")==-1))&&a.open({scope:e,templateUrl:(0,r.staticPath)("/tpl/website/detail/siteExpire.html"),controller:["$scope","$modalInstance",function(e,i){e.selectedGood=t,e.vipIsExpire=function(t){return e.$parent.vipIsExpire(t)},e.closeAction=function(){i.close()},e.renewVipAction=function(t,i){e.closeAction(),e.$parent.renewVipAction(t,i)}}],resolve:{}})},C=function(){e.siteDomain=e.servicerModules&&e.servicerModules.site_bind_domain.enable&&""!=e.websiteDetail.domain?e.websiteDetail.domain:e.websiteDetail.free_domainname+"."+e.websiteDetail.ext_domain};e.getGoodsList=function(t,i){var n=T.defer();return t=t||1,i=i||20,S.get({type:l.GOOD_TYPE_PACKAGE,price_type:l.PRICE_TYPE_CASH,page:t,page_size:i}).$promise.then(function(t){
t.list.forEach(function(t){t.logo==e.websiteDetail.goods.vip&&(e.selectedGood=t)}),n.resolve(e.selectedGood)},function(){n.reject()}),n.promise},e.siteDetailInit=function(){t.switchSidebar(!1),e.siteDomain="",e.selectedGood={},y.get().$promise.then(function(i){e.websiteDetail=i,t.setTitle("网站详情("+i.site_name+")"),e.websiteDetail.websiteType="免费",i.goods.expire>0&&("try"==i.goods.vip?e.websiteDetail.websiteType="试用":1e3*i.goods.expire>=e.nowTime?e.websiteDetail.websiteType="VIP":e.websiteDetail.websiteType="VIP已过期",e.websiteDetail.goods.leftVIPDay=D(1e3*i.goods.expire-e.nowTime),e.getGoodsList().then(function(e){I(e)})),C(),i.is_block&&swal("警告","尊敬的用户您好,后台检测到您的站点存在违规内容.为维护互联网纯洁和安全的环境,您的站点被封禁.如果您有任何疑问,请联系管理员!","error")})},e.vipIsExpire=function(t){return 1e3*t<e.nowTime},e.deleteInputDomain=function(){e.bindDomain.inputDomain="",e.domainInputError=""},e.transferWebsiteAction=function(t){return"undefined"==typeof e.websiteDetail.goods.push_site||0==e.websiteDetail.goods.push_site?void swal({title:"提醒",text:"该功能需要VIP会员,是否升级成VIP用户?",type:"warning",showCancelButton:!0,confirmButtonText:"前往购买",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e&&o.go("website.detail.purchase",{websiteid:t})}):void a.open({scope:e,backdrop:"static",templateUrl:(0,r.staticPath)("/tpl/website/detail/moveConfirm.html"),controller:["$scope","transferSiteModel","isMobile","$modalInstance",function(e,i,n,a){e.processing=!1,e.error="",e.moveAction=function(n){e.processing=!0,e.error="",i.update({websiteid:t},{mobile:n.mobile.toString(),password:s.createHash(n.password)},function(){e.processing=!1,e.error="",a.close(),e.removeLatestEditSiteId(t),swal({title:"OK",text:"转移站点成功！站点已成功转移到手机号"+n.mobile,type:"success",allowEscapeKey:!1,confirmButtonText:"返回网站列表"},function(){o.go("website",{},{reload:!0})})},function(t){e.processing=!1,e.error=t.data.errmsg})},e.cancelAction=function(){a.close()}}]})};var M=/^[a-zA-Z0-9\-\_]{4,16}$/i;e.copyWebsiteAction=function(n){return e.websiteDetail.goods.expire<=0||"try"==e.websiteDetail.goods.vip?void swal({title:"提醒",text:"该功能需要VIP会员,是否升级成VIP用户?",type:"warning",showCancelButton:!0,confirmButtonText:"前往购买",cancelButtonText:"我再想想",closeOnConfirm:!1,closeOnCancel:!1},function(e){swal.close(),e&&o.go("website.detail.purchase",{websiteid:n})}):void i().then(function(i){a.open({backdrop:"static",templateUrl:(0,r.staticPath)("tpl/website/detail/copyConfirm.html"),controller:["$scope","$modalInstance",function(e,a){e.copyData={siteName:"",domain:"",domainSuffix:i.data[0]},e.domainSuffixList=i.data,e.domainSuffixList.forEach(function(e,t,i){i[t].name=e.suffix+"（"+e.name+"）"});var r=function(e,i){b.post({websiteid:e,is_copy:1},{site_name:i.siteName,site_type:1,free_domainname:i.domain.trim(),ext_domain:i.domainSuffix.suffix,servicerid:t.servicerSetting.servicerid},function(e){a.close(),swal({title:"OK",text:"站点复制成功",type:"success",allowEscapeKey:!1,confirmButtonText:"关闭"},function(){o.go("website.detail",{websiteid:e.siteid},{reload:!0})})})};e.checkInputDomain=function(e){return M.test(e)},e.copyAction=function(e){e.domainSuffix.need_beian?swal({title:"温馨提醒",text:'\n<ul class="wrapper b-a b-2x b-dashed text-left">\n<li>1. 此"<span class="text-primary text-bold"">'+e.domainSuffix.name+'</span>"为需备案节点，若绑定顶级域名则需备案！复制站点成功后该节点可切换为其他节点。</li>\n</ul>',type:"warning",confirmButtonText:"确定",cancelButtonText:"我再想想",showCancelButton:!0,html:!0},function(){r(n,e)}):r(n,e)},e.cancelAction=function(){a.close()}}],scope:e})},function(e){swal("错误",""+e.data.errmsg,"error")})},e.deleteWebsiteAction=function(){var t=n.websiteid;a.open({scope:e,backdrop:"static",templateUrl:(0,r.staticPath)("tpl/website/detail/deleteConfirm.html"),controller:["$scope","$modalInstance","siteid",function(e,t,i){e.password="",e.siteName="",e.domain="",e.processing=!1,e.checkSiteName=function(t){return t==e.$parent.websiteDetail.site_name},e.checkSiteDomain=function(t){return t==e.$parent.websiteDetail.domain||t==e.$parent.websiteDetail.free_domainname+"."+e.$parent.websiteDetail.ext_domain},e.deleteAction=function(){"VIP"==e.websiteDetail.websiteType?swal({title:"警告",text:"该站点为VIP站点，是否确定删除？",type:"warning",showCancelButton:!0,confirmButtonText:"确定删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(){n()}):n()};var n=function(){e.processing=!0,d({websiteid:i,password:s.createHash(e.password)}).then(function(){e.processing=!1,t.close(),e.removeLatestEditSiteId(i),swal({title:"OK",text:"站点删除成功",type:"success",allowEscapeKey:!1,confirmButtonText:"关闭"},function(){o.go("website")})})};e.cancelAction=function(){t.close()}}],size:"",resolve:{siteid:function(){return t}}})},e.removeLatestEditSiteId=function(e){var t=f.get(l.ZHUZI_MEMBERID);t&&(localStorage.removeItem("latestEdit-"+t),localStorage.removeItem("editTime-"+e))};var _=function(){if(""!=e.websiteDetail.domain){e.isBuyFromOurDomain=!1,e.domainInfo=null,e.domainObj=g(e.websiteDetail.domain.split("."));var t=g(e.websiteDetail.domain.split("."),"getAllPrefix"),i=t.domain.split(".");i.pop(),e.sub_domain=0==i.length?"www":i.join("."),h({},(0,u.appendConfig)({get:{showErrorTip:!1}})).get({domain:e.domainObj.domain,suffix:e.domainObj.suffix}).$promise.then(function(t){e.domainInfo=t,t.dns1==l.DEFAULT_DNS1&&t.dns2==l.DEFAULT_DNS2&&(e.isBuyFromOurDomain=!0)},function(){e.isBuyFromOurDomain=!1})}};e.nodeSwitchAction=function(){return e.websiteDetail.is_block?void swal("警告","当前站点已被封禁，无法切换节点！","warning"):void a.open({templateUrl:(0,r.staticPath)("/tpl/website/detail/nodeSwitch.html"),scope:e,size:"lg",backdrop:"static",controller:["$scope","$modalInstance",function(e,t){e.nodeSwitchInit=function(){e.getNodes(),_()},e.getNodes=function(){e.usefulNodes={list:[],total:0},e.saveNode={},m.query().$promise.then(function(t){t=t.sort(function(e,t){return e.nodeid-t.nodeid}),t.forEach(function(t){t.enable&&(e.usefulNodes.list.push(t),t.suffix==e.websiteDetail.ext_domain&&(e.saveNode=t))}),e.usefulNodes.total=e.usefulNodes.list.length})},e.nodeSwitchAction=function(n){if(n.suffix!=e.websiteDetail.ext_domain){if(e.websiteDetail.goods.node_switch==l.NODE_STATUS_NORMAL&&n.type!=l.NODE_STATUS_NORMAL)return void swal({title:"提醒",text:"该节点为VIP节点,请先升级到VIP",type:"warning",showCancelButton:!0,confirmButtonText:"前往购买",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&(t.close(),o.go("website.detail.purchase",{websiteid:e.websiteDetail.siteid}))});if(e.websiteDetail.goods.node_switch==l.NODE_STATUS_VIP&&n.type!=l.NODE_STATUS_NORMAL&&n.type!=l.NODE_STATUS_VIP)return void swal("温馨提醒","此节点为超级VIP节点,您当前VIP版本不支持！","warning");var a="";e.saveNode.suffix&&(a='由\'<span class="text-primary text-bold">'+e.websiteDetail.free_domainname+"."+e.saveNode.suffix+"</span>'"),n.need_beian?swal({title:"温馨提醒",text:'\n<ul class="list-group b-a b-2x b-dashed text-left">\n<li class="list-group-item no-border">1. 此"<span class="text-primary text-bold"">'+n.name+'</span>"为需备案节点，切换节点后绑定的顶级域名需到<a href="https://beian.gein.cn/account/login.htm" target="_blank" class="text-primary text-u-l">阿里云</a>备案！</li>\n<li class="list-group-item no-border">2. 切换节点后网站访问地址将'+a+'换为\'<span class="text-primary text-bold">'+e.websiteDetail.free_domainname+"."+n.suffix+"</span>！</li>\n</ul>",type:"warning",confirmButtonText:"确定切换",cancelButtonText:"我再想想",closeOnConfirm:!1,showCancelButton:!0,html:!0},function(){i(n)}):swal({title:"温馨提醒",text:'切换到"'+n.name+'"节点后,网站访问地址将'+a+'换为\'<span class="text-primary text-bold">'+e.websiteDetail.free_domainname+"."+n.suffix+"</span>'！",type:"warning",confirmButtonText:"确定切换",cancelButtonText:"我再想想",closeOnConfirm:!1,showCancelButton:!0,html:!0},function(){i(n)})}};var i=function(i){p.put({siteid:parseInt(n.websiteid),suffix:i.suffix}).$promise.then(function(){return""==e.websiteDetail.domain?(swal("success","节点切换成功","success"),t.close(),e.websiteDetail.ext_domain=i.suffix,void C()):e.isBuyFromOurDomain?(A.query({domainid:e.domainInfo.doaminid,sub_domain:e.sub_domain}).$promise.then(function(t){t&&t.length>0?t.forEach(function(t,n){"CNAME"==t.record_type?(t.value=e.websiteDetail.free_domainname+"."+i.suffix,x.put({domainid:parseInt(t.domainid),recordid:parseInt(t.recordid)},t).$promise.then(function(){swal("success","节点切换成功","success"),e.websiteDetail.ext_domain=i.suffix,C()},function(){E(e.saveNode)})):E(e.saveNode)}):E(e.saveNode)}),t.close(),e.websiteDetail.ext_domain=i.suffix,void C()):(swal({title:"节点切换成功！",text:'\n<section class="text-left" style="padding: 0 1rem;">\n<p style="margin-bottom: 1rem">站点的访问地址已变更为 "<span class="text-primary text-bold">'+e.websiteDetail.free_domainname+"."+i.suffix+'</span>"。</p>\n<div class="wrapper-sm  b-a b-2x b-dashed text-left">\n<p>请到您的域名注册商处进行如下操作：</p>\n<ul class="list-group">\n<li class="list-group-item no-border">1. 进入"'+e.domainObj.domain+"."+e.domainObj.suffix+'"域名解析;</li>\n<li class="list-group-item no-border">2. 找到主机记录值为"'+e.sub_domain+'"的CNAME记录；</li>\n<li class="list-group-item no-border">3. 将记录中的CNAME值改为"'+e.websiteDetail.free_domainname+"."+i.suffix+'"。</li>\n</ul>\n<p>具体请参考：<a href="http://bbs.zhuzi.me/thread-7-1-1.html" target="_balnk" class="text-primary">点我查看域名绑定教程</a></p>\n</div>\n</section>',type:"success",showConfirmButton:!0,confirmButtonText:"确定",closeOnConfirm:!1,html:!0}),t.close(),e.websiteDetail.ext_domain=i.suffix,void C())},function(e){swal("error","节点切换失败！"+e.data.errmsg,"error")})};e.cancelAction=function(){t.close()}}],resolve:{}})},e.NODE_STATUS_NORMAL=l.NODE_STATUS_NORMAL,e.NODE_STATUS_VIP=l.NODE_STATUS_VIP,e.NODE_STATUS_SUPER_VIP=l.NODE_STATUS_SUPER_VIP,e.nodeType=function(e){switch(e){case 0:return"免费";case 1:return"VIP";case 2:return"超级VIP"}};var E=function(t){p.put({siteid:parseInt(n.websiteid),suffix:t.suffix}).$promise.then(function(){e.websiteDetail.ext_domain=t.suffix,C(),swal("error","节点切换失败！请稍后重试","error")})};e.unbindDomainAction=function(t){swal({title:"警告",text:"确认取消绑定顶级域名?",type:"info",confirmButtonText:"确定解绑",cancelButtonText:"我再想想",showCancelButton:!0,closeOnConfirm:!0,closeOnCancel:!0,showLoaderOnConfirm:!0},function(i){i&&w({siteid:t}).then(function(){c["default"].success("解绑顶级域名成功"),e.websiteDetail.domain="",C()})})},e.renewVipAction=function(t,i){var a=[],r={};r.sendData={siteid:parseInt(n.websiteid),servicerid:e.servicerSetting.servicerid,goods_logo:t.goods.vip,redirect_url:"",pay_platform:"","extends":{is_renew:!0}},r.showData={payWay:"money",name:t.goods.goods_name,price:parseInt(i.price),number:1,priceUnit:"元",numberUnit:"个",totalPrice:i.price,infos:[{name:"网站名",value:t.site_name},{name:"网站域名",value:t.free_domainname+"."+t.ext_domain}],desc:i.desc},r.callback={},a.push(r),o.go("website.ordering",{params:{action:"renewVip",goods:a}})}};d.push(f),a["default"].controller("siteDetailController",d)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","statisticVisitModel","userService","$stateParams","formSettingListModel"],s=function(e,t,i,n,o){var a=5;e.siteStaticInit=function(){e.num=5,e.visitInfo={today:{uv:0,pv:0,ip:0}},e.formData={list:[],total:0},e.initWebsiteStatistic(),e.websiteFormListInit()},e.initWebsiteStatistic=function(){t.get({websiteid:n.websiteid},function(t){e.visitInfo.today=t.toJSON()})},e.websiteFormListInit=function(){o.get({siteid:n.websiteid,page:1,page_size:200}).$promise.then(function(t){t.hasOwnProperty("list")&&(e.formData.list=t.list,e.formData.total=t.total)})},e.showMoreFormDataAction=function(){e.num+=a}};r.push(s),a["default"].controller("siteStaticController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(e,t){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(1),r=n(a);i(143);var s=["$scope","$rootScope","$stateParams","statisticVisitModel","statisticSourceModel","statisticProvinceModel","statisticBrowserModel","statisticDeviceModel","statisticMaxPushNumModel","websiteService"],c=function(e,t,i,n,a,r,s,c,l,u){var d=null,f=[],p={},m=function(t){f=[{data:e.uvList,label:"访客量(UV)",color:"#27c24c",points:{symbol:"circle",show:!0},lines:{show:!0}},{data:e.pvList,label:"浏览量(PV)",color:"#23b7e5",points:{symbol:"circle",show:!0},lines:{show:!0}},{data:e.ipList,label:"IP数",color:"#f05050",points:{symbol:"circle",show:!0},lines:{how:!0}}],p={series:{shadowSize:2,points:{show:!0,radius:2},lines:{show:!0,lineWidth:1,fill:!0,fillColor:{colors:[{opacity:.1},{opacity:.1}]}}},xaxis:{mode:"time",timeformat:"%m-%d",tickSize:[5,"day"],axisLabel:"Date",font:{color:"#58666e",size:14},position:"bottom",axisLabelUseCanvas:!0},yaxis:{font:{color:"#58666e"},axisLabel:"Gold Price  in USD/oz",tickDecimals:0,ticks:5,min:0},legend:{backgroundOpacity:.5,position:"nw"},crosshair:{mode:"x"},grid:{show:!0,hoverable:!0,clickable:!0,borderWidth:1,borderColor:"#cfd1d2",color:"#58666e"},tooltip:!1},d=$("#choices"),$.each(f,function(e,t){d.append('<div class="col-sm-12 col-md-4 col-lg-4"><label class="checkbox i-checks" for=\'id'+e+"'>\n            <input type=\"checkbox\" name='"+e+"' id='id"+e+"' checked='checked'><i></i> "+t.label.replace(/=.*/,"")+"\n        </label></div>")}),d.find("input").click(h),h()},g=null,h=function(){var e=[];d.find("input:checked").each(function(){var t=$(this).attr("name");t&&f[t]&&e.push(f[t])}),e.length>0&&(g=$.plot("#viewStatic",e,p),$("#viewStatic").bindEvent())};$.fn.bindEvent=function(){var e=null,t=null;$(this).bind("plothover",function(n,o,a){if(a){if(t!=a.series.label||e!=a.dataIndex){e=a.dataIndex,t=a.series.label,$("#tooltip").remove();var r=a.datapoint[0],s=new Date(r);i(a,s,o)}}else $("#tooltip").remove(),e=null});var i=function(e,t,i){var o=i,a=g.getAxes();if(!(e.datapoint[0]<a.xaxis.min||e.datapoint[0]>a.xaxis.max||o.y<a.yaxis.min||o.y>a.yaxis.max)){var r=[],s=void 0,c=void 0,l=g.getData(),u="";for(s=0;s<l.length;++s){var d=l[s];for(c=0;c<d.data.length&&!(d.data[c][0]>e.datapoint[0]);++c);var f=void 0,p=d.data[c-1],m=d.data[c];f=null==p?m[1]:null==m?p[1]:p[1]+(m[1]-p[1])*(e.datapoint[0]-p[0])/(m[0]-p[0]),r.push({title:""+d.label,value:f.toFixed(0)})}u="<span>"+t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日:</span><br>",r.forEach(function(e){u+="<span><b>"+e.title+":</b>&nbsp;"+e.value+"</span><br>"}),n(e.pageX,e.pageY,u)}},n=function(e,t,i){$('<div id="tooltip" style="z-index: 1001">'+i+"</div>").css({position:"absolute",display:"none",top:t-90,left:e-120,border:"1px solid #cfd1d2",padding:"5px","font-size":"9px","border-radius":"5px","background-color":"#fff","font-family":"Verdana, Arial, Helvetica, Tahoma, sans-serif",opacity:.9}).appendTo("body").fadeIn(200)}};var b=function(e){return new Date(e.substring(0,4),parseInt(e.substring(4,6))-1,e.substring(6,8)).getTime()};e.visitInfo={today:{uv:0,pv:0,ip:0},yesterday:{uv:0,pv:0,ip:0},week:{uv:0,pv:0,ip:0},month:{uv:0,pv:0,ip:0}},e.sourceMap={other:"其它/未知",google:"Google",bing:"Bing",baidu:"百度",sogau:"搜狗",360:"360",wechat:"微信",website:"外部网站",same_website:"站内跳转"},e.sourceInfo={data:null,empty:!1},e.provinceMap={overseas:"海外&&未知",hebei:"河北",shanxi:"山西",liaoning:"辽宁",jilin:"吉林",heilongjiang:"黑龙江",jiangsu:"江苏",zhejiang:"浙江",anhui:"安徽",fujian:"福建",jiangxi:"江西",shandong:"山东",henan:"河南",hubei:"湖北",guangdong:"广东",hunan:"湖南",hainan:"海南",sichuan:"四川",guizhou:"贵州",yunan:"云南",shanxi2:"陕西",gansu:"甘肃",qinghai:"青海",taiwan:"台湾",beijing:"北京",tianjin:"天津",shanghai:"上海",chongqing:"重庆",guangxi:"广西",neimenggu:"内蒙古",xizang:"西藏",ningxia:"宁夏",xinjiang:"新疆"},e.provinceInfo={data:null,empty:!1},e.browserMap={other:"其它/未知浏览器",ie6:"IE6浏览器",ie7:"IE7浏览器",ie8:"IE8浏览器",ie9:"IE9浏览器",ie10:"IE10浏览器",ie11:"IE11浏览器",ieedge:"IE Edge浏览器",chrome:"Chrome浏览器",qihu:"360浏览器",sogou:"搜狗浏览器",opera:"Opera浏览器",qq:"QQ浏览器",maxthon:"Maxthon浏览器",safari:"safari"},e.browserInfo={data:null,empty:!1},e.deviceMap={other:"其它/未知设备",pc:"PC浏览器",ios:"IOS设备",android:"安卓设备",wp:"Windows Phone设备"},e.deviceInfo={data:null,empty:!1},e.initStatisticPage=function(){t.setTitle("站点统计");var i=1,l=2,d=3,f=4,p=5;e.dateList=[],e.uvList=[],e.pvList=[],e.ipList=[];var g=function(t,i){var n=!1,o={},a=0,r=0;for(var s in t){if(0!=t[s].uv||0!=t[s].pv||0!=t[s].ip)switch(i){case"source":o[e.sourceMap[s]]=t[s];break;case"province":o[e.provinceMap[s]]=t[s];break;case"browser":o[e.browserMap[s]]=t[s];break;case"device":o[e.deviceMap[s]]=t[s]}else a++;r++}return a==r&&(n=!0),[o,n]};u.get().$promise.then(function(u){t.setTitle("网站统计("+u.site_name+")");var h=u.siteid;n.get({websiteid:h,type:i},function(t){e.visitInfo.today=t.toJSON()}),n.get({websiteid:h,type:f},function(t){e.visitInfo.yesterday=t.toJSON()}),n.get({websiteid:h,type:l},function(t){e.visitInfo.week=t.toJSON()}),n.get({websiteid:h,type:d},function(t){e.visitInfo.month=t.toJSON()}),n.get({websiteid:h,type:p,start_time:parseInt(((new Date).getTime()-2591999e3)/1e3),end_time:parseInt((new Date).getTime()/1e3)}).$promise.then(function(t){null!=t.detail&&0!=t.detail.length&&(t.detail.sort(function(e,t){return e.date-t.date}),t.detail.map(function(t,i){var n=b(t.date.toString());e.uvList[i]=[n,t.uv],e.pvList[i]=[n,t.pv],e.ipList[i]=[n,t.ip]}),m())}),e.resourceProcessing=!0;a.get({websiteid:h},function(t){var i=g(t.toJSON(),"source"),n=o(i,2),a=n[0],r=n[1];e.resourceProcessing=!1,e.sourceInfo.data=a,e.sourceInfo.empty=r},function(){e.resourceProcessing=!1});e.provinceProcessing=!0,r.get({websiteid:h},function(t){var i=g(t.toJSON(),"province"),n=o(i,2),a=n[0],r=n[1];e.provinceProcessing=!1,e.provinceInfo.data=a,e.provinceInfo.empty=r},function(){e.provinceProcessing=!1}),e.browserProcessing=!0,s.get({websiteid:h},function(t){var i=g(t.toJSON(),"browser"),n=o(i,2),a=n[0],r=n[1];e.browserProcessing=!1,e.browserInfo.data=a,e.browserInfo.empty=r},function(){e.browserProcessing=!1}),e.deviceProcessing=!0,c.get({websiteid:h},function(t){var i=g(t.toJSON(),"device"),n=o(i,2),a=n[0],r=n[1];e.deviceProcessing=!1,e.deviceInfo.data=a,e.deviceInfo.empty=r},function(){e.deviceProcessing=!1})})}};s.push(c),r["default"].controller("statisticController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=["$scope","$stateParams","statisticPushEmailListModel","statisticDeletePushEmailModel","statisticAddUserEmailModel","statisticMaxPushNumModel","websiteService"],s=function(e,t,i,n,o,a,r){var s=function(){a.get({websiteid:t.websiteid}).$promise.then(function(t){e.maxPushNum=t.max})},c=function(){e.processing=!0,i.get({websiteid:t.websiteid}).$promise.then(function(t){e.processing=!1,e.userEmails=t},function(){e.processing=!1})},l="",u=function(){r.get().$promise.then(function(t){e.websiteDetail=t,l=e.servicerModules&&e.servicerModules.site_bind_domain.enable&&""!=e.websiteDetail.domain?e.websiteDetail.domain:e.websiteDetail.free_domainname+"."+e.websiteDetail.ext_domain})};e.init=function(){e.websiteDetail={},e.userEmails={list:[],total:0},s(),c(),u()},e.addUserEmailAction=function(){i.get({websiteid:t.websiteid}).$promise.then(function(i){return i.total>=e.maxPushNum?void swal("添加失败","站点'"+e.websiteDetail.site_name+"'("+l+")最多只允许"+e.maxPushNum+"个推送(含微信/SMS/邮箱)！已达上限","error"):void o.post({websiteid:t.websiteid,type:"email",contact:e.emailInput}).$promise.then(function(){swal("邮箱添加成功！","站点'"+e.websiteDetail.site_name+"'("+l+")每日的访问统计将发送到该邮箱","success"),c()})})},e.deleteEmailAction=function(i,o){swal({title:"警告",text:"一旦删除,该站点统计信息将不会每日推送到该邮箱!",type:"warning",showCancelButton:!0,confirmButtonText:"确认删除",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(a){a&&n["delete"]({websiteid:t.websiteid,pushid:i}).$promise.then(function(){e.userEmails.list.splice(o,1),e.userEmails.total--})})},e.checkType=function(e){var t="";switch(e){case 1:t="微信";break;case 2:t="邮件";break;case 3:t="短信"}return t}};r.push(s),a["default"].controller("statisticEmailController",r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(25),i(6);var r=i(3),s=i(2),c=["$scope","$rootScope","$q","$timeout","$window","$modal","validDomain","templateModel","websiteByTplIDModel","templateCategoryModel","websiteModel","isPhone","isPad","$state","$stateParams","websiteListModel","httpProcessing","clearCreateSiteSessionStorage"],l=function(e,t,i,n,o,a,c,l,u,d,f,p,m,g,h,b,v,w){function y(e){var t=e.find(".do-gallery-thumb").height(),i=e.find(".tpl-img").height(),n=i-t;n>0&&e.find(".tpl-img").css({transform:"translateY(-"+n+"px)","-webkit-transition":"all 5.5s linear",transition:"all 5.5s linear","-moz-transition":"all 5.5s linear","-o-transition":"all 5.5s linear"})}function P(e){e.find(".tpl-img").css("transform","translateY(0px)")}function A(){jQuery(function(){if(p()){var e=$(".do-gallery-item"),t=!!e.length&&e;t&&(e.waypoint(function(e){"down"===e&&y($(this.element))},{offset:"50%"}),e.waypoint(function(e){"down"===e&&P($(this.element))},{offset:"-40%"}),e.waypoint(function(e){"up"===e&&y($(this.element))},{offset:"5%"}),e.waypoint(function(e){"up"===e&&P($(this.element))},{offset:"100%"}))}})}e.servicerSetting=t.servicerSetting,e.servicerDetail=t.servicerDetail,e.servicerModules=t.servicerModules,e.httpProcessing=v,e.SHOW_LOGOMETHOD_SERVICER=r.SHOW_LOGOMETHOD_SERVICER,e.SHOW_LOGOMETHOD_UNITE=r.SHOW_LOGOMETHOD_UNITE,e.SHOW_LOGOMETHOD_ZHUZI=r.SHOW_LOGOMETHOD_ZHUZI,t.htmlClass="",e.templateList={list:[],total:0},e.templateCategories=null,e.currentCategoryid=0,e.tmpSelectData={},e.previewStatus=!1,e.previewData={},e.previewUrl="",e.isPreviewTpl=!0,e.previewDevice="pc",e.WebsiteList={},e.currentTypeid=-1,e.currentCategoryid=0,e.tplTypes=[{id:-1,name:"全部"},{id:1,name:"个人"},{id:2,name:"企业"},{id:3,name:"机构"},{id:0,name:"其他"}],e.initTemplatePage=function(){t.setTitle("模板列表"),e.currentPage=1,e.pageSize=24,e.getCategoriesList(e.currentTypeid),e.templateListAction(e.currentPage);var i=(0,s.getQuery)();if(null!=i&&"undefined"!=typeof i.action)switch(i.action){case"create":e.tmpSelectData=i,S().$promise.then(function(t){t&&(e.WebsiteList=t,e.createAction(i.tplid))});break;case"previewUrl":e.previewUrl=o.decodeURIComponent(i.previewUrl),e.isPreviewTpl=!1,e.previewTimer=null,e.tryPreview=function(){e.previewTimer=n(function(){n.cancel(e.previewTimer),null!=document.getElementById("preview-iframe")?e.previewAction({}):e.tryPreview()},10)},e.tryPreview();break;case"previewTpl":var a={tplid:i.previewTplid,siteid:i.previewSiteid};e.isPreviewTpl=!0,e.previewAction(a)}else(0,s.isLogin)()&&S().$promise.then(function(t){t&&(e.WebsiteList=t)})},e.tplBoxMoveUpEvent=function(e){var t=$(e.target).closest(".do-gallery-thumb").height(),i=$(e.target).height(),n=i-t;n>0&&$(e.target).css({transform:"translateY(-"+n+"px)"})},e.tplBoxMoveDownEvent=function(e){$(e.target).css("transform","translateY(0px)")},e.getCategoriesList=function(t){d.query({type:t}).$promise.then(function(t){e.templateCategories=t})},e.templateListAction=function(t){x({page:t||1,pageSize:e.pageSize||24,type:e.currentTypeid,categoryid:e.currentCategoryid,servicerid:e.servicerDetail.servicerid}).then(function(t){e.templateList=t,e.templateList.list=t.list.filter(function(t){return e.servicerDetail.servicerid==t.servicerid?t:t.is_share}),A()})};var x=function(e){var t={page:e.page,page_size:e.pageSize,type:e.type,categoryid:e.categoryid,servicerid:e.servicerid};return t.categoryid<1&&delete t.categoryid,l.get(t).$promise};e.previewAction=function(t){e.previewDevice="pc";var i=document.getElementById("preview-iframe");if(i.src="",e.previewStatus=!0,e.isPreviewTpl)e.previewData=t,u.get({tplid:t.tplid},function(e){var t="http://"+e.free_domainname+"."+e.ext_domain;return p()||m()?void(location.href=t):(i.src=t,void jQuery("html").addClass("oHidden"))});else{if(p()||m())return void(location.href=e.previewUrl);i.src=e.previewUrl}},e.previewDeviceAction=function(t){e.previewDevice=t},e.closePreviewAction=function(){e.previewStatus=!1,e.previewData={},e.isPreviewTpl||(e.previewUrl="",o.location.search=""),jQuery("html").removeClass("oHidden")};var S=function(){return b.get({page:1,page_size:200})},T=function(){return!(!e.servicerModules||!e.servicerModules.site_create.enable)&&(!((0,s.isLogin)()&&e.WebsiteList.total>=parseInt(e.servicerModules.site_create.value))||(swal("警告","您最多可创建"+e.servicerModules.site_create.value+"个站点，现已达上限！","warning"),!1))};e.createAction=function(e){T()&&(w(),sessionStorage.setItem("createSite-tplid",e),o.location.search.length>0&&(o.location.search=""),g.go("createSite",{params:h.params}))}};c.push(l),a["default"].controller("templateController",c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(10),i(6);var r=i(3),s=(i(2),["$scope","$rootScope","websiteListModel","domainModel","$state","$stateParams","userService","userModel","$cookies","logoutModel","clearLoginCookie","baiduShareService","websiteService"]),c=function(e,t,i,n,o,a,s,c,l,u,d,f,p){e.$stateParams=a,t.htmlClass="oHidden",e.servicerSetting=t.servicerSetting,e.servicerDetail=t.servicerDetail,e.servicerModules=t.servicerModules,e.websiteDetail=null,e.BLOG_PAGE=r.BLOG_PAGE,e.homeInit=function(){s.get().$promise.then(function(n){n.is_block==r.FORBIDDEN_MEMBER?swal({title:"错误",text:"尊敬的用户您好！由于系统检测到您发布大量违规站点，账号已被封禁！如有任何疑问请联系官方客服！",type:"error",confirmButtonText:"确定",showCancelButton:!1,closeOnConfirm:!1},function(){e.logoutAction()}):(f.getShareDom(e.servicerSetting,n),i.get({page:1,page_size:1}).$promise.then(function(i){i.list.length&&(e.servicerModules&&e.servicerModules.notification.enable&&t.$emit("fetchFeatureEvent"),o.go("website.list"))}))})},e.shareAction=function(e){f.simulateShareClick(e)},e.websiteDetailInit=function(){p.get().$promise.then(function(t){e.websiteDetail=t})},e.logoutAction=function(){u(),d(),sessionStorage.clear(),location.href="/",t.$broadcast("updateDaovoice")}};s.push(c),a["default"].controller("websiteController",s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3),s=["$scope","$rootScope","websiteListModel","$cookies"],c=function(e,t,i,n){e.nowTime=(new Date).getTime(),e.vipIsExpire=function(t){return 1e3*t<e.nowTime},e.websiteListInit=function(){e.hasTimeNum=0,e.processing=!0,i.get({page:1,page_size:200}).$promise.then(function(t){e.websites=t,e.processing=!1;for(var i in e.websites.list){var n=localStorage.getItem("editTime-"+e.websites.list[i].siteid);n?(e.hasTimeNum++,e.websites.list[i].editTime=n):e.websites.list[i].editTime=0}return e.websites.list.sort(function(e,t){return t.editTime-e.editTime}),e.curentWebsiteArr=[],e.ohtersWebsiteList=[],0==e.hasTimeNum?void(e.ohtersWebsiteList=e.websites.list):void e.websites.list.forEach(function(t,i){e.hasTimeNum>3?i<3?e.curentWebsiteArr.push(t):e.ohtersWebsiteList.push(t):e.hasTimeNum>0&&e.hasTimeNum<=3&&(i<=e.hasTimeNum-1?e.curentWebsiteArr.push(t):e.ohtersWebsiteList.push(t))})},function(){e.processing=!1})},e.addRecord=function(e){localStorage.setItem("editTime-"+e.siteid,(new Date).getTime());var t=n.get(r.ZHUZI_MEMBERID);t&&localStorage.setItem("latestEdit-"+t,e.siteid)}};s.push(c),a["default"].controller("websiteListController",s)},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=i(8),r=n(a);i(144);var s=i(5),c=n(s),l=r["default"].module("captcha",["zhuziModels"]);l.directive("zzCaptcha",["geeTestSurviveModel","smsModel","$timeout",function(e,t,n){return{restrict:"AE",template:i(158),scope:{mobile:"=",extendValue:"=",logo:"@"},link:function(i,a,r,s){var l=function(){e.post({},{rand:Math.round(100*Math.random())}).$promise.then(function(e){initGeetest({gt:e.gt,challenge:e.challenge,product:"popup",offline:!1},function(t){i.captchaObj=t,i.captchaObj.server_status=e.server_status,i.captchaObj.appendTo(document.getElementsByTagName("body")[0])})})},u=function(){return function(e){return/^1[3|4|5|7|8]\d{9}$/i.test(e)}};i.captchaObj={},i.smsBtnText="发送验证码",i.sendProcessing=!1,i.sendCodeAction=function(){if(!i.sendProcessing){if("undefined"==typeof i.mobile)return void c["default"].warning("请输入正确的手机号");if(0==i.mobile.length)return void c["default"].warning("请输入手机号");if(!u(i.mobile))return void c["default"].warning("请输入合法的手机号");if("undefined"==typeof i.captchaObj)return void c["default"].warning("验证码服务出错,请稍后再试");i.captchaObj.show(),i.captchaObj.onSuccess(function(){var e=i.captchaObj.getValidate();i.smsBtnText="发送中",i.sendProcessing=!0,"object"==("undefined"==typeof e?"undefined":o(e))&&t.post({data:i.extendValue,mobile:i.mobile,logo:i.logo,geetest_challenge:e.geetest_challenge,geetest_validate:e.geetest_validate,geetest_seccode:e.geetest_seccode,geetest_server_status:i.captchaObj.server_status}).$promise.then(function(){c["default"].success("短信发送成功");var e=60,t=function o(){i.smsTimer=n(function(){e-=1,0==e?(i.sendProcessing=!1,i.smsBtnText="发送验证码",n.cancel(i.smsTimer),i.smsTimer=null):(i.smsBtnText=e+"秒后可重发",o())},1e3)};t()},function(e){i.sendProcessing=!1,c["default"].error(e.data.errmsg),i.smsBtnText="发送验证码"})})}},a.on("$destroy",function(){null!=i.smsTimer&&n.cancel(i.smsTimer);var e=document.getElementsByClassName("gt_input");e[0].parentNode.removeChild(e[0]),i.captchaObj.dom.parentNode.removeChild(i.captchaObj.dom)}),l()}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=["","do-bg-white","do-bg-black","do-bg-black1","do-bg-black2","do-bg-black3","do-bg-black4","do-bg-black5","do-bg-black6","do-bg-black7","do-bg-black8","do-bg-blue","do-bg-blue1","do-bg-blue2","do-bg-blue3","do-bg-blue4","do-bg-green","do-bg-green1","do-bg-green2","do-bg-green3","do-bg-green4","do-bg-red","do-bg-red1","do-bg-red2","do-bg-red3","do-bg-red4","do-bg-purple","do-bg-purple1","do-bg-purple2","do-bg-purple3","do-bg-purple4","do-bg-yellow","do-bg-yellow1","do-bg-yellow2","do-bg-yellow3","do-bg-yellow4"];return{restrict:"A",require:"ngModel",template:'\n                 <div class="color-list bg-light pos-abt w-md wrapper-xs b-a visible-folded" ng-click="stopPropagation($event)" style="top: 32px;z-index: 9;">\n                            <ul class=\'list-group no-padder m-n scroll-x scroll-y\'>\n                                <li ng-repeat="color in colors" ng-click="selectColor(color)" class="list-group-item pull-left pos-rlt" style="padding:1px;width:14%">\n                                    <div ng-class="color" style="padding:50%;"></div>\n                                </li>\n                            </ul>\n                </div>',link:function(i,n,o,a){function r(){n.find(".color-list").hide(),e.off("click",r)}n=$(n),i.colors=o.colorScheme?o.colorScheme.split(","):t,i.stopPropagation=function(e){e.stopPropagation()},n.on("click",function(t){t.stopPropagation(),n.find(".color-list").show(),e.one("click",r)}),i.selectColor=function(e){a.$setViewValue(e),o.colorSelf?a.$setViewValue(e+"-"+o.colorSelf):a.$setViewValue(e),r()},i.$on("$destroy",function(){return e.off("click",r)})}}}var a=i(1),r=n(a);i(169),r["default"].directive("colorScheme",["$document",o])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("zzDatepicker",[function(){return{require:"ngModel",restrict:"A",scope:{zzDatepickerOpts:"="},link:function(e,t,i,n){if(n){var o={};"undefined"!=typeof e.zzDatepickerOpts&&(o=angular.copy(e.zzDatepickerOpts)),o.lang=o.lang||"ch",jQuery.datetimepicker.setLocale(o.lang);var a=o.onChangeDateTime||function(){};o.onChangeDateTime=function(e,t){n.$setViewValue(e),a(e,t)},jQuery(t).datetimepicker(o)}}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2),s=i(4),c=["$scope","$sce","FileUploader","$resource","$timeout","$http","$rootScope","$window","url","fileType","resizeUrl","isModelBind","callBack","ngModelAttr","isMultip","formDataDownloadModel","$modalInstance"];
c.push(function(e,t,i,n,o,a,c,l,u,d,f,p,m,g,h,b,v){e.key="",e.dTab="upload",e.defaultTab=null,e.defaultTagid=null,e.url=u,e.fileType=d,e.isMultip=h,e.multip=!!e.isMultip,e.images=u?[u]:[],e.imagesId=[],e.addTagPrompt=!1;var w=0;e.materials={},e.ratio=1.78,e.aspectRatioList=[{name:"16:9",value:"1.78"},{name:"4:3",value:"1.33"},{name:"1:1",value:"1.0"},{name:"5:4",value:"1.25"},{name:"3:2",value:"1.5"},{name:"2:3",value:"0.67"},{name:"自由裁切",value:"NaN"}],e.setTab=function(t){e.dTab=t},e.openMultipAction=function(){e.multip=!e.multip},e.addTags=function(t){if(w=0,e.imagesId.length>0&&t){e.addTagPrompt=!1,e.deleteImgPrompt=!1;for(var i in e.imagesId)e.apiSetMyImageTag(t,e.imagesId[i],e.imagesId);e.images=[],e.imagesId=[]}else e.addTagPrompt=!0,e.deleteImgPrompt=!1},e.cancelChoose=function(){e.multip=!1,e.images.splice(0,e.imagesId.length),e.imagesId.splice(0,e.imagesId.length)},e.deleteImgAlert=function(t,i,n){swal({title:t,text:i,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){t&&e.apiDeleteMyImage(n)})},e.uploadSweet=function(e,t,i,n){swal({title:e,text:t,type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonColor:"#DD6B55",confirmButtonText:"确认",closeOnConfirm:!0,closeOnCancel:!0},function(e){e?i.upload():(i.remove(),n.uploadAll())})},e.deleteImgPrompt=!1;var y="确定要删除文件吗？",P="您在编辑器中使用的该文件也将删除，且不可恢复！";e.deleteMyImg=function(t){!e.multip&&t?e.imagesId[0]?t==e.imagesId[0]?swal({title:y,text:P,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(i){i&&(e.apiDeleteMyImage(t),e.images=[],e.imagesId=[])}):t!=e.imagesId[0]&&e.deleteImgAlert(y,P,t):e.deleteImgAlert(y,P,t):e.multip&&!t&&e.imagesId[0]?swal({title:y,text:P,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0,closeOnCancel:!0},function(t){if(t){for(var i in e.imagesId)e.apiDeleteMyImage(e.imagesId[i]);e.images=[],e.imagesId=[]}}):!e.multip||t||e.imagesId[0]?swal("真遗憾！","删除无法正确执行","error"):(e.deleteImgPrompt=!0,e.addTagPrompt=!1)};var A={upload:"上传图片",myImage:"我的图片"};if(e.defaultTab)for(var x in A)if(e.defaultTab==A[x]){e.setTab(x),e.defaultTagid&&e.selectTag(e.defaultTagid);break}e.selectedTagid=0,e.mCategoryId=0,e.imageResizeUrl=u?u:null,e.toResizeImg=function(){e.imageResizeUrl&&e.resizeImage(e.imageResizeUrl)},e.crop=null,e.setSelectImage=function(t,i){i=parseInt(i),e.multip?(e.images.push(t),e.imagesId.push(i)):(e.images[0]=t,e.imagesId[0]=i)},e.delSelectImage=function(t){for(var i in e.images)e.images[i]==t&&(e.images.splice(i,1),e.imagesId.splice(i,1))},e.toggleSelectImage=function(t,i){e.inSelectImage(t)?e.delSelectImage(t):e.setSelectImage(t,i)},e.inSelectImage=function(t){for(var i in e.images)if(e.images[i]==t)return!0;return!1},e.isTab=function(t){return e.dTab==t},e.supportFileTypeList=null,a.get((0,r.apiPath)("filetypes/list"),{}).then(function(t){t&&(e.supportFileTypeList=t.data)});var S=0==location.protocol.indexOf("https")?"https://up.qbox.me":"http://upload.qiniu.com/",T=e.uploader=new i({url:S,formData:[{typedata:"file"},{zoo:"default"},{token:""},{file:""},{key:""}],alias:"file",autoUpload:!1,method:"POST",filters:[{name:"file",fn:function(e){if(e){var t=e.name.split(".");return T.formData[4].key=t.pop(),T.formData[3].file=t.join(),!0}return!1}}]});T.onAfterAddingFile=function(t){var i=t.file.size,n=t.file.name,o=t.file.type,s=10485760;if(i>=s)return swal("真遗憾！","文件 “"+n+"” 的大小超出限制!","error"),void T.removeFromQueue(t);var c=0;for(var l in e.supportFileTypeList)if(e.supportFileTypeList[l]==o){c++;break}return 1!=c?(swal("真遗憾！","暂不支持 “"+n+"” 文件类型的上传！","error"),void T.removeFromQueue(t)):(e.setTab("uploading"),void a.post((0,r.apiPath)("qiniu/key/upload"),{scope:"zhuzi"}).then(function(e){var i=new Date,n=i.getTime().toString(36);t.formData[4].key=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()+"/_"+n+"."+t.formData[4].key,t.formData[2].token=e.data.token,T.uploadItem(t)}))},T.onCompleteItem=function(t,i,n,o){if(200==n){var s={key:i.key,hash:i.hash,zoo:"default",file_size:t.file.size,file_type:t.file.type,file_name:t.formData[3].file};a.post((0,r.apiPath)("file"),s).then(function(i){i&&(t.fileItem=i.data,e.setSelectImage(i.data.url,i.data.imageid))})}else"undefined"!=typeof i.errmsg&&(t.message=i.errmsg)},T.onErrorItem=function(t,i,n,o){var a=t.file.name;switch(n){case 403:swal("真遗憾！","暂不支持 “"+a+"” 文件类型的上传！","error"),t.remove();break;case 599:e.uploadSweet("真遗憾！","服务端操作失败。是否重试？",t,T);break;case 614:swal("真遗憾！","文件 “"+a+"” 已存在，请勿重复上传！","error"),t.remove();break;default:e.uploadSweet("上传失败！",i.error+" ,是否重试？",t,T)}},T.onProgressItem=function(e,t){var i=e.file.size*t/100/1024,n=(new Date).getTime()/1e3-e.startTime,o=i/n;o>1024?e.speed=(o/1024).toFixed(2)+" Mb/s":e.speed=o.toFixed(2)+" Kb/s"},T.onBeforeUploadItem=function(e){e.startTime=(new Date).getTime()/1e3,e.speed="0 Kb/s"},e.imgSrc=function(e){if(e){var t=e.url.split(".").pop(),i="";return"jpg|jpe|png|jpeg|jpg|bmp|ico|tiff|tif".indexOf(t)>-1?e.url+"?imageView2/0/w/390":"svg|svgz|gif".indexOf(t)>-1?e.url:(i="mpeg|wav|3gp|mp4".indexOf(t)>-1?"video":"mpg|cd|mp3|wma".indexOf(t)>-1?"audio":"doc|docx|rtf".indexOf(t)>-1?"MicrosoftWord":"ppt|pptx".indexOf(t)>-1?"ppt":"excel|xlsx".indexOf(t)>-1?"excel":"pdf".indexOf(t)>-1?"pdf":"txt".indexOf(t)>-1?"text":"unKnown",STATICURL+"img/"+i+".svg")}},e.isImage=function(e){return/\.(jpg|jpe|png|jpeg|jpg|bmp|ico|tiff|tif)+$/i.test(e)},e.isAllImage=function(e){return/\.(jpg|jpe|png|jpeg|jpg|bmp|ico|tiff|tif|gif|svg)+$/i.test(e)},e.isNeedType=function(e,t){if(!e)return!1;var i=e.filetype.split("/")[0];return t==i},e.previewVideo=function(e){l.deleteDom=function(){jQuery(".sweet-alert,.sweet-overlay").remove()},swal({title:null,customClass:"blank-space",text:'<div class="icon-close" onclick="swal.close();deleteDom()"></div><iframe height=468 width=100% src="'+e+'" frameborder=0 allowfullscreen></iframe>',animation:"slide-from-top",html:!0,showConfirmButton:!1})},e.previewAudio=function(e,t){var i=$(t.target),n=i.closest(".block-img").find("audio").get(0);if(n.paused){var o=i.closest(".do-upload-list").find("audio");o.each(function(t){var i=jQuery(this);i.get(0).paused||(i.get(0).pause(),e[t].isPlay=!1)}),n.play()}else n.pause()},e.trustSelfUrl=function(e){return t.trustAsResourceUrl(e)},e.FileTipPrompt={placeholder:"文件名",btnText:"修改",modelBind:!1},e.changeFileName=function(e,t){if(e){var i={imageId:t.imageid,newFileName:e};a({method:"PUT",url:(0,r.apiPath)("file/changename"),data:i}).then(function(i){200==i.status&&(t.desc=e)})}},e.selectAspect=function(t){e.ratio=t},e.resizeImage=function(t){t&&(e.setTab("resizeImage"),e.imageResizeUrl=t,$(document).ready(function(){document.getElementsByClassName("tab-resize-img")[0].getElementsByTagName("a")[0].click()}),e.ratio=1.78)},e.selectTag=function(t){e.selectedTagid=t},e.isTag=function(t){return e.selectedTagid==t},e.apiGetMyAllTags=function(){n((0,r.apiPath)("mineimages/tags"),{},(0,s.appendConfig)({get:{showErrorTip:!1}})).get(function(t){e.myTags=t})},e.testValue="标签名",e.addTagTipPrompt={placeholder:"标签名",btnText:"添加",modelBind:!1},e.addMyTags=function(t){var i=n((0,r.apiPath)("mineimages/tags"));i.post({tagname:t},function(t){1==t.success&&e.apiGetMyAllTags()})},e.apiGetMaterialCategory=function(){n((0,r.apiPath)("materials/categorys")).get(function(t){if(e.materialCategory=t.list,"upload"==e.dTab&&e.defaultTab)for(var i in t.list)if(t.list[i].name==e.defaultTab){e.setTab(t.list[i].id),e.selectMCategory(t.list[i].id),e.defaultTagid&&e.selectTag(e.defaultTagid),e.apiGetMaterials(0);break}})},e.apiGetMaterialTags=function(){n((0,r.apiPath)("materials/tags")).get({page:1,rownumber:20},function(t){e.materialTags=t.list})},e.materialsCurrentPage=0,e.apiGetMaterials=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],i=arguments.length<=1||void 0===arguments[1]?6:arguments[1],o={page:t,rownumber:i,mcategoryid:e.mCategoryId};e.selectedTagid&&(o.tagid=e.selectedTagid),n((0,r.apiPath)("materials")).get(o,function(t){e.materials=t})},e.selectMCategory=function(t){e.mCategoryId=t,e.selectedTagid=0},e.isMCategory=function(t){return e.mCategoryId===t},e.isMaterial=function(){return e.mCategoryId>0},e.selectType=function(t){e.selectedFileType=t},e.isType=function(t){return e.selectedFileType==t},e.fileType||e.selectType(""),e.isShowMyCategory=function(t){return!e.fileType||t==e.fileType},e.pageSize=6,e.currentPage=0,e.apiGetMyFileList=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],i=arguments.length<=1||void 0===arguments[1]?6:arguments[1];n((0,r.apiPath)("file")).get({page:t,page_size:i,tagid:e.selectedTagid||0,filetype:e.selectedFileType||""},function(t){e.mineImages=t,0==e.mineImages.list.length?0==e.selectedTagid?(e.isShowNoFile=!0,e.isShowNoTag=!1):(e.isShowNoFile=!1,e.isShowNoTag=!0):(e.isShowNoFile=!1,e.isShowNoTag=!1)})},e.apiSetMyImageTag=function(e,t,i){n((0,r.apiPath)("mineimages/:imageid/tags/:tagid"),{imageid:"@imageid",tagid:"@tagid"}).post({tagid:e,imageid:t},function(e){w++,w==i.length&&swal("ok!","分类成功！","success")})},e.apiDeleteMyImage=function(t){n((0,r.apiPath)("mineimages/:imageid"),{imageid:"@imageid"})["delete"]({imageid:t},function(t){e.apiGetMyFileList()})},e.apiGetMaterialCategory(),e.apiGetMyAllTags(),e.apiGetMaterialTags(),e.completeAction=function(){var t="";return e.isMultip?t=e.images:e.images.length>0&&(t=e.images[0]),t?g&&g.$modelValue==t?void v.close():(p?g.$setViewValue(t):m(t),void v.close()):void swal("提示","请选择文件！","warning")},e.cancelAction=function(){v.close()}}),a["default"].factory("ImageUpload",["$modal",function(e){var t={};return t.openUploadDialog=function(t){var n=t.ngModelAttr,o=t.url,a=t.fileType,r=t.isMultip,s=t.resizeUrl,l=t.isModelBind,u=t.callBack;e.open({template:i(159),controller:c,controllerAs:"vm",backdrop:"static",size:"lg",resolve:{ngModelAttr:function(){return n},url:function(){return o},fileType:function(){return a},isMultip:function(){return r},resizeUrl:function(){return s},isModelBind:function(){return l},callBack:function(){return u}}})},t}]),a["default"].directive("openFileManage",["$parse","ImageUpload",function(e,t){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",fileType:"@fileType",fileData:"=fileData",callBack:"=?"},link:function(e,i,n,o){i.on("click",function(){var i={ngModelAttr:o,url:o.$modelValue,fileType:e.fileType,isMultip:e.fileData?e.fileData.isMultip:null,isModelBind:e.fileData?e.fileData.isModelBind:null,callBack:e.callBack};t.openUploadDialog(i)})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(23),i(145);var r=i(2);a["default"].directive("zzFormPush",["$modal","$interval",function(e,t){return{restrict:"AE",scope:{siteid:"@siteid",formid:"@formid"},link:function(i,n,o){n.on("click",function(){var n=null,o=null,a=e.open({size:"lg",templateUrl:(0,r.staticPath)("tpl/website/form/wechatPushConfirm.html"),controller:["$scope","$rootScope","$interval","wechatMpQrcodeModel","formPushListModel","formPushDeleteModel","$modalInstance",function(e,t,a,r,s,c,l){e.wechctQrcode="",e.wechatPushMaxNum=20,e.wechatPushList={list:[],total:0};var u=function(){r.post({},{data:"",is_api:!0,method:"POST",return_msg:!0,url:"forms/qrcode/"+i.siteid+"/"+i.formid}).$promise.then(function(t){e.wechatQrcode=t.qrcode_url})};u(),o=a(u,5e4);var d=function(){s.get({websiteid:i.siteid,formid:i.formid}).$promise.then(function(t){e.wechatPushList=t})};d(),n=a(d,1e4),e.deletePushUserAction=function(t,n){swal({title:"提醒",text:"确定取消该用户的推送提醒?取消后该用户将无法收到推送!",type:"warning",showCancelButton:!0,confirmButtonText:"确定取消",cancelButtonText:"我再想想",closeOnConfirm:!0,closeOnCancel:!0},function(o){o&&c["delete"]({websiteid:i.siteid,formid:i.formid,pushid:t.id}).$promise.then(function(){e.wechatPushList.list.splice(n,1),e.wechatPushList.total--})})},e.cancelAction=function(){l.close()}}]});a.result.then(function(){t.cancel(o),t.cancel(n)})})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(23),a["default"].directive("generalImgUpload",["formDwnloadModel",function(e){return{restrict:"E",template:'<div ng-show="!uploading">\n                <input class="input-upload" type="file" accept="{{fileType}}"></div>\n            <div ng-show="uploading"  style="width:120px;overflow: hidden">\n                <div class="preview">\n                    <img ng-src="{{imgSrc}}" alt="" height="100px;">\n                </div>                \n                 <progressbar class="progress-striped active progress-xs m-b-sm" max="100" value="progress" type="success"><i></i></progressbar><span ng-bind="speed"></span>\n            </div>',scope:{ngModel:"=",uploadSpace:"@"},link:function(t,i,n){t.uploading=!1,t.imgSrc=null,t.progress=0,t.speed="",t.fileType="","undefined"!=typeof n.accept&&""!=n.accept&&(t.fileType=n.accept);var o=new RegExp(t.fileType.replace("*",".*"),"i");i.on("change",function(e){var i=e.target.files,n=i.length;if(n>0)for(var a=0;a<n;a++){if(!o.test(i[a].type))return swal("上传失败","错误的文件类型！仅支持png、jpg、jpeg、bmp格式","error"),t.uploading=!1,void t.$apply();t.uploading=!0,t.$apply(),s(i[a])}});var a=n.max;a||(a=204800);var r=a/1024;r>1024?r=(r/1024).toFixed(2)+"MB":r+="KB";var s=function(i){if(i.size>a)return swal("上传失败","文件不能大于"+r+",请重新选择图片!","error"),t.uploading=!1,void t.$apply();var n=new XMLHttpRequest;n.open("post","//up.qbox.me/",!0);var o=void 0,s=void 0;t.getUploadToken(function(e){var t=new FormData;t.append("token",e.token),t.append("key","sp/"+(new Date).getTime()),t.append("file",i),s=(new Date).getTime(),n.send(t)},function(e){swal("错误","上传操作失败，请重试。","error")}),n.upload.addEventListener("progress",function(e){if(e.lengthComputable){var i=(new Date).getTime();o=i-s;var n=e.loaded/1024,a=o/1e3,r=n/a,c=void 0;c=r>1024?(r/1024).toFixed(2)+"Mb/s":r.toFixed(2)+"Kb/s";var l=Math.round(100*e.loaded/e.total);t.progress=l,t.speed=c,t.$apply()}},!1),n.onreadystatechange=function(i){if(4==n.readyState&&200==n.status&&""!=n.responseText){t.speed="上传完成！";var o=JSON.parse(n.responseText);"privateSpace"==t.uploadSpace?!function(){var i="http://domains-data.zhuzi.me/"+o.key;e.post({},{expire:600,url:i}).$promise.then(function(e){t.imgSrc=e.url,t.ngModel=i})}():(t.imgSrc=window.URL.createObjectURL(files[0]),t.ngModel="http://bk.image.styleweb.com.cn/"+o.key)}else 200!=n.status&&(413==n.status?swal("错误",uploadFileMaxTip,"error"):swal("错误",uploadErrMSG,"error"),t.uploading=!1);t.$apply()}}},controller:["$scope","qiniuUpload",function(e,t){var i="privateSpace"==e.uploadSpace?"zhuzi-domain":"zhuzi";e.getUploadToken=function(e,n){return t.post({},{scope:i},e,n)}}]}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=void 0,n=void 0,o=void 0,a=void 0,r=void 0,s=void 0;for(o=e.length,n=0,i="";n<o;){if(a=255&e.charCodeAt(n++),n==o){i+=t.charAt(a>>2),i+=t.charAt((3&a)<<4),i+="==";break}if(r=e.charCodeAt(n++),n==o){i+=t.charAt(a>>2),i+=t.charAt((3&a)<<4|(240&r)>>4),i+=t.charAt((15&r)<<2),i+="=";break}s=e.charCodeAt(n++),i+=t.charAt(a>>2),i+=t.charAt((3&a)<<4|(240&r)>>4),i+=t.charAt((15&r)<<2|(192&s)>>6),i+=t.charAt(63&s)}return i}var a=i(1),r=n(a),s=i(28),c=n(s),l=i(2);i(170),r["default"].directive("imageResize",["$http",function(e){return function(t,i,n,a){var r=void 0;setTimeout(function(){r=new c["default"](i.find("img")[0],{movable:!0,zoomable:!0,rotatable:!0,minContainerHeight:312,scalable:!0,checkImageOrigin:!0,aspectRatio:1.78})},500),t.setImgAspectRatio=function(e){r.setAspectRatio(e)},t.getCanvasData=function(i){var n=new Date,a=angular.element(i.target),s=r.getCroppedCanvas().toDataURL("image/png"),c=s.length;a.text("上传中...").attr("disabled","disabled"),s=s.split(",")[1],e.post((0,l.apiPath)("qiniu/key/upload"),{scope:"zhuzi"}).then(function(i){var r=i.data.token,u=(new Date).getTime().toString(36),d=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+"/_"+u+"_"+c+".png";e({method:"POST",url:0==location.protocol.indexOf("https")?"https://up.qbox.me":"http://upload.qiniu.com/putb64/-1/key/"+o(d),headers:{"Content-Type":"application/octet-stream",Authorization:"UpToken "+r,"X-Parse-Application-ID":null,"X-Parse-Application-AccessToken":null},data:s}).then(function(i){if(200==i.status){var n={hash:i.data.hash,key:i.data.key,zoo:"default",file_size:parseInt(i.data.key.split("_").pop()),file_type:"image/png",file_name:i.data.key};e({method:"POST",url:(0,l.apiPath)("file"),data:n}).then(function(e){200==e.status&&($(document).ready(function(){document.getElementsByClassName("tab-my-file")[0].getElementsByTagName("a")[0].click()}),t.setTab("myImage"),t.selectTag(0),t.selectType(""),t.apiGetMyFileList(0),t.selectMCategory(0),t.toggleSelectImage(e.data.url,e.data.imageid))},function(e){swal("真遗憾！","后台数据请求不成功！","error")})}},function(e){swal("真遗憾！","上传文件错误，请稍候再试！","error"),a.text("裁剪").removeAttr("disabled")})})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2),s=i(5),c=n(s),l=i(3);a["default"].directive("zzImgUpload","$modal",["$parse",function(e,t){var i=["image/jpeg","image/jpg","image/png","image/vnd.microsoft.icon","image/x-icon","image/ico","image/icon","text/ico","application/ico"],n='<div class="modal-header">\n            <div class="modal-title">图片上传</div>\n        </div>\n    <div class="modal-body">\n            <div class="content" >\n                <div ng-if="!isSelectFile" class="empty" style="background: none;" nv-file-drop uploader="uploader">\n                    <div class="empty-title">请选择要上传的图片</div>\n                    <div class="empty-meta">也可以将图片拖放到此处</div>\n                    <button class="btn btn-lg btn-primary empty-action" style="position:relative;"><i class="icon-attach_file"></i>&nbsp;选择文件<input type="file" nv-file-select  uploader="uploader" style="position:absolute; left:0;right:0; top:0;bottom:0;width:100%;height:100%;opacity:0; filter:alpha(opacity=0);"></button>\n                </div>\n                <div ng-if="isSelectFile">\n                    <div style="position:relative;">\n                        <img ng-src="{{selectFileContent}}" class="img-responsive rounded">\n                        <div style="position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.2);"><button class="btn btn-lg btn-primary empty-action clean-hover-opacity" style="opacity: 0.8;-webkit-transition: 1s ease;-moz-transition: 1s ease;-ms-transition: 1s ease;-o-transition: 1s ease;transition: 1s ease;position:absolute;top:50%;left:50%;-webkit-transform: translate(-50%,-50%);-moz-transform: translate(-50%,-50%);-ms-transform: translate(-50%,-50%);-o-transform: translate(-50%,-50%);transform: translate(-50%,-50%);"><i class="icon-attach_file"></i>&nbsp;重新选择<input type="file" nv-file-select  uploader="uploader" style="position:absolute; left:0;right:0; top:0;bottom:0;width:100%;height:100%;opacity:0; filter:alpha(opacity=0);"></button></div>\n                    </div>\n                    <blockquote>\n                        <p><b>文件名:</b>&nbsp;{{uploaderItem.file.name}}</p>\n                        <p><b>文件大小:</b>&nbsp;{{(uploaderItem.file.size/1000).toFixed(2)}}kb</p>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <div class="form-group text-right">\n                <button class="btn btn-primary" type="button" ng-disabled="!isSelectFile||httpProcessing.processing" ng-class="{loading:httpProcessing.processing}" ng-click="upload()"><i class="icon-cloud_upload"></i>&nbsp;上传</button>\n                <button class="btn btn-link" type="button" ng-click="cancel()">取消</button>\n            </div>\n        </div>';return{restrict:"AE",link:function(e,o,a){o.on("click",function(){t.open({templateUrl:n,plain:!0,controller:["$rootScope","$scope","FileUploader","$http","$element","userService",function(t,n,o,a,s,u){n.isSelectFile=!1,n.httpProcessing=t.httpProcessing,n.uploader=new o({autoUpload:!1,withCredentials:!1,url:0==location.protocol.indexOf("https")?l.QINIU_UPLOAD_HTTPSHOST:l.QINIU_UPLOAD_HOST,formData:[{zoo:"zhuzi"}],removeAfterUpload:!0,filters:[{name:"file",fn:function(e){return i.indexOf(e.type)!=-1}}]}),n.uploaderItem=null,n.uploader.onAfterAddingFile=function(e){a({url:(0,r.apiPath)("qiniu/key/upload"),method:"POST",data:{scope:"zhuzi"}}).then(function(t){u.get().$promise.then(function(i){var o=new FileReader;o.onload=function(){n.selectFileContent=this.result},o.readAsDataURL(e._file);var a=new Date;e.formData.push({token:t.data.token}),e.formData.push({key:a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+"/"+i.memberid+"_"+a.getTime().toString(36)+"."+e.file.name.split(".")[e.file.name.split(".").length-1]}),e.formData.push({file_size:e.file.size}),e.formData.push({file_type:e.file.type}),e.formData.push({file_name:e.file.name}),n.isSelectFile=!0,n.uploaderItem=e})})},n.uploader.onProgressItem=function(){n.loading=!0},n.uploader.onSuccessItem=function(t,i,o,s){a({url:(0,r.apiPath)("file"),method:"POST",data:{key:i.key,hash:i.hash,file_name:t.file.name.slice(0,t.file.name.lastIndexOf(".")),file_type:t.file.type,file_size:t.file.size}}).then(function(t){c["default"].success("上传成功"),n.closeThisDialog(),n.imgPath=t.data.url,e.callback({path:t.data.url})})},n.uploader.onErrorItem=function(e,t){n.loading=!1;var i="undefined"!=typeof t.error?t.error:"未知错误";c["default"].error("上传失败,"+i)},n.upload=function(){n.uploader.uploadItem(n.uploaderItem)},n.cancel=function(){n.closeThisDialog()}}],scope:e})})},scope:{imgPath:"=zzImgPath",callback:"=zzImgCallback"}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(181),a["default"].directive("zzQrcode",["$modal",function(e){return{restrict:"A",scope:{data:"=content",width:"=width"},link:function(t,n,o){n.on("click",function(){var e=t.data.url||t.data.text,i=t.width||"90";a(e,i)});var a=function(t,o){e.open({template:i(160),size:"sm",controller:[function(){$(n).ready(function(){r(t,o)})}]})},r=function(e,t){var i=$(".qrcode-content");i.html(""),new QRCode(i.get(0),{text:e,width:t,height:t,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("zzTip",["$timeout",function(e){var t='<div id="zz-directive-tip" class="do-tooltip"><div class="content"></div></div>';return{restrict:"AE",scope:!1,link:function(i,n,o){function a(e){var t=jQuery("#zz-directive-tip"),i=e[0].getBoundingClientRect(),n=$(e).outerHeight(),o=$(e).outerWidth(),a=0,r=0;switch(s.isHtml?t.find(".content").html(s.text):t.find(".content").text(s.text),s.direction){case"top":a=i.left+(o-t.outerWidth())/2,r=i.top-t.outerHeight()+s.offset;break;case"bottom":a=i.left+(o-t.outerWidth())/2,r=i.top+n+s.offset;break;case"left":a=i.left-t.outerWidth()+s.offset,r=i.top+(n-t.outerHeight())/2;break;case"right":a=i.left+o+s.offset,r=i.top+(n-t.outerHeight())/2}s.style.top=r+"px",s.style.left=a+"px",s.style.display="block",t.attr("class","do-tooltip "+s.direction).css(s.style),s.style.zIndex="11113"}function r(){jQuery("#zz-directive-tip").hide()}"undefined"==typeof jQuery("#zz-directive-tip")[0]&&jQuery("body").append(t);var s={text:o.tipData||"",direction:o.tipDirection||"top",isShow:o.tipShow||!1,offset:Number(o.tipOffset)||8,isHtml:window.Boolean(o.tipIsHtml)||!1,style:o.tipStyle||{}};s.isShow&&e(function(){a(n),e(function(){r()},4e3)},300),n.on("mouseenter",function(){a(n)}),n.on("mouseleave",function(){r()})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(8),s=n(r);a["default"].directive("zzTipInput",[function(){var e='<div id="zz-tip-input" class="w-full h-full input-group pos-fix" style="top:0;left:0;z-index:10000">\n        <div class="overlay w-full h-full input-group pos-abt" style="top:0;left:0;"></div>\n    <div class="content input-group pos-abt" style="left:0;top:2rem;width:20rem;background:#FFFFFF;">\n                <input type="text" class="form-control input-value" placeholder="请在此输入数据" autofocus>\n                <span class="input-group-btn">\n                  <button class="btn btn-primary save" type="button">保存</button>\n                </span>\n              </div>\n</div>';return{strict:"AEC",require:"ngModel",scope:{zzExtData:"@",zzCallback:"=?",ngModel:"=",zzConfig:"@"},link:function(t,i,n,o){t.zzCallback=t.zzCallback||null;var a=t.zzExtData;if("string"==typeof a)try{a=JSON.parse(a)}catch(r){a={}}else a={};var c=t.zzConfig;if("string"==typeof c)try{c=JSON.parse(c)}catch(r){c={}}else c={};c=s["default"].extend({placeholder:"请在此输入内容",btnText:"保存",modelBind:!0},t.zzConfig),i.on("click",function(){var n=i[0].getBoundingClientRect(),r=$(i).outerHeight(),s=null;$(document).find("#zz-tip-input").remove(),$("body").append(e),s=$("body").find("#zz-tip-input"),s.find(".input-value").val(o.$modelValue).attr("placeholder",c.placeholder),s.find(".save").text(c.btnText),s.find(".content").css({top:n.top+document.documentElement.scrollTop+r+"px",left:n.left+document.documentElement.scrollLeft+"px"}),s.find(".overlay").on("click",function(){s.off(),s.remove()}),s.find(".save").on("click",function(){s.off(),s.remove();var e=s.find(".input-value").val();t.zzCallback?e!=o&&t.zzCallback(e,a).then(function(t){0!=e.length&&c.modelBind&&t&&o.$setViewValue(e)}):0!=e.length&&c.modelBind&&o.$setViewValue(e)})})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("setNgAnimate",["$animate",function(e){return{link:function(t,i,n){t.$watch(function(){return t.$eval(n.setNgAnimate,t)},function(t,n){e.enabled(!!t,i)})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("uiFocus",function(e,t){return{link:function(i,n,o){var a=t(o.uiFocus);i.$watch(a,function(t){t===!0&&e(function(){n[0].focus()})}),n.bind("blur",function(){i.$apply(a.assign(i,!1))})}}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2);a["default"].directive("uiFullscreen",["uiLoad","$document","$window",function(e,t,i){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(i,n,o){n.addClass("hide"),e.load((0,r.staticPath)("js/utils/screenfull.min.js")).then(function(){screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&n.removeClass("hide"),n.on("click",function(){var e;o.target&&(e=$(o.target)[0]),screenfull.toggle(e)}),t.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?n.addClass("active"):n.removeClass("active")})})}}}])},function(e,t){"use strict";angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){return{restrict:"A",compile:function(i,n){if(!angular.isFunction(i[n.uiJq]))throw new Error('ui-jq: The "'+n.uiJq+'" function does not exist');var o=e&&e[n.uiJq];return function(e,i,n){function a(){t(function(){i[n.uiJq].apply(i,r)},0,!1)}var r=[];n.uiOptions?(r=e.$eval("["+n.uiOptions+"]"),angular.isObject(o)&&angular.isObject(r[0])&&(r[0]=angular.extend({},o,r[0]))):o&&(r=[o]),n.ngModel&&i.is("select,input,textarea")&&i.bind("change",function(){i.trigger("input")}),n.uiRefresh&&e.$watch(n.uiRefresh,function(){a()}),a()}}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("uiNav",["$timeout",function(e){return{restrict:"AC",link:function(e,t,i){var n,o=$(window),a=768,r=$(".app-aside"),s=".dropdown-backdrop";$(t).on("click","a",function(e){n&&n.trigger("mouseleave.nav");var t=$(this);t.parent().siblings(".active").toggleClass("active"),t.next().is("ul")&&t.parent().toggleClass("active")&&e.preventDefault(),t.next().is("ul")||o.width()<a&&$(".app-aside").removeClass("show off-screen")}),$(t).on("mouseenter","a",function(e){if(n&&n.trigger("mouseleave.nav"),$("> .nav",r).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||o.width()<a||$(".app-aside-dock").length)){var t,i=$(e.target),c=$(window).height(),l=50,u=150;!i.is("a")&&(i=i.closest("a")),i.next().is("ul")&&(n=i.next(),i.parent().addClass("active"),t=i.parent().position().top+l,n.css("top",t),t+n.height()>c&&n.css("bottom",0),t+u>c&&n.css("bottom",c-t-l).css("top","auto"),n.appendTo(r),n.on("mouseleave.nav",function(e){$(s).remove(),n.appendTo(i.parent()),n.off("mouseleave.nav").css("top","auto").css("bottom","auto"),i.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(e){e&&e.trigger("mouseleave.nav")}))}}),$(r).on("mouseleave",function(e){n&&n.trigger("mouseleave.nav"),$("> .nav",r).remove()})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("uiScroll",["$location","$anchorScroll",function(e,t){return{restrict:"AC",link:function(i,n,o){n.on("click",function(i){e.hash(o.uiScroll),t()})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("uiShift",["$timeout",function(e){return{restrict:"A",link:function(t,i,n){function o(){e(function(){var e=n.uiShift,t=n.target;s.hasClass("in")||s[e](t).addClass("in")})}function a(){r&&r.prepend(i),!r&&s.insertAfter(l),s.removeClass("in")}var r,s=$(i),c=$(window),l=s.prev(),u=c.width();!l.length&&(r=s.parent()),u<768&&o()||a(),c.resize(function(){u!==c.width()&&e(function(){c.width()<768&&o()||a(),u=c.width()})})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].directive("uiToggleClass",["$timeout","$document",function(e,t){return{restrict:"AC",link:function(e,t,i){t.on("click",function(e){function n(e,t){for(var i=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),n=" "+$(t)[0].className+" ";i.test(n);)n=n.replace(i," ");$(t)[0].className=$.trim(n)}e.preventDefault();var o=i.uiToggleClass.split(","),a=i.target&&i.target.split(",")||Array(t),r=0;angular.forEach(o,function(e){var t=a[a.length&&r];e.indexOf("*")!==-1&&n(e,t),$(t).toggleClass(e),r++}),$(t).toggleClass("active")})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(6),a["default"].filter("websiteFilter",function(){return function(e,t,i){var n=[],o=jQuery(".website-list .search-no-match"),a=jQuery(".website-list .curent-title"),r=jQuery(".website-list .others-title");if(o.css("display","none"),t){for(var s in e)(e[s].site_name.indexOf(t)>-1||(e[s].free_domainname+"."+e[s].ext_domain).indexOf(t)>-1)&&n.push(e[s]);return 0==n.length?("current"==i&&a.css("display","none"),"others"==i&&r.css("display","none")):("current"==i&&a.css("display","block"),"others"==i&&r.css("display","block")),n}return"current"==i&&a.css("display","block"),"others"==i&&r.css("display","block"),e}}),a["default"].filter("searchFilter",function(){return function(e,t,i){var n=[],o=jQuery(".filter-search .search-no-match"),a=jQuery(".filter-search .data-list");if(t){if("bindSiteFilter"==i)for(var r in e)(e[r].free_domainname.indexOf(t)>-1||e[r].ext_domain.indexOf(t)>-1||e[r].site_name.indexOf(t)>-1)&&n.push(e[r]);else if("bindDomainFilter"==i)for(var s in e)(e[s].domain+"."+e[s].suffix).indexOf(t)>-1&&n.push(e[s]);else"formListFilter"==i&&e.forEach(function(e,i){e.name.indexOf(t)>-1&&n.push(e)});return 0==n.length?(o.css("display","block"),a.css("display","none")):(o.css("display","none"),a.css("display","block")),
n}return o.css("display","none"),a.css("display","block"),e}}),a["default"].filter("tagSelectFilter",function(){return function(e,t){var i=[];if(angular.isArray(e)){var n=Object.keys(t);e.forEach(function(e){for(var o=!1,a=0;a<n.length;a++){var r=n[a],s=t[r].toLowerCase();if(e[r].toString().toLowerCase().indexOf(s)!==-1){o=!0;break}}o&&i.push(e)})}else i=e;return i}})},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("memberOrderListModel",["$resource",function(e){return e((0,o.apiPath)("payment/orders/members"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("pageProductListModel",["$resource",function(e){return e((0,o.apiPath)("products/sites/:websiteid/pages/:pageid"),{websiteid:"@websiteid",pageid:"@pageid"})}]),n.models.factory("siteProductListModel",["$resource",function(e){return e((0,o.apiPath)("products/sites/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("siteTagProductListModel",["$resource",function(e){return e((0,o.apiPath)("product/sites/:websiteid/tags/:tagid"),{websiteid:"@websiteid",tagid:"@tagid"})}]),n.models.factory("productInsertModel",["$resource",function(e){return e((0,o.apiPath)("products/sites/:websiteid/pages/:pageid/products"),{websiteid:"@websiteid",pageid:"@pageid"})}]),n.models.factory("productDetailModel",["$resource",function(e){return e((0,o.apiPath)("products/sites/:websiteid/products/:productid"),{websiteid:"@websiteid",productid:"@productid"})}]),n.models.factory("productOpModel",["$resource",function(e){return e((0,o.apiPath)("products/sites/:websiteid/pages/:pageid/products/:productid"),{websiteid:"@websiteid",pageid:"@pageid",productid:"@productid"})}]),n.models.factory("productSwitchPublishModel",["$resource",function(e){return e((0,o.apiPath)("products/publish/sites/:websiteid/pages/:pageid/products/:productid"),{websiteid:"@websiteid",pageid:"@pageid",productid:"@productid",is_publish:"@is_publish"})}]),n.models.factory("productCopyModel",["$resource",function(e){return e((0,o.apiPath)("products/copy/sites/:websiteid/pages/:pageid/products/:productid"),{websiteid:"@websiteid",pageid:"@pageid",productid:"@productid"})}]),n.models.factory("productTagModel",["$resource",function(e){return e((0,o.apiPath)("products/tags"))}])},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelItem=t.ModelItemTemplateUrl=void 0;var n=i(4),o=i(2);n.models.factory("siteMemberModel",["$resource",function(e){return e((0,o.apiPath)("sites/:websiteid/models/:modelid"),{websiteid:"@websiteid",modelid:"@modelid"})}]);t.ModelItemTemplateUrl=(0,o.staticPath)("tpl/website/member/model-items/"),t.ModelItem={text:{name:"文本框",icon:"icon-text"},select:{name:"下拉框",icon:"icon-select"},radio:{name:"单选框",icon:"icon-radio"},checkbox:{name:"复选框",icon:"icon-checkbox"},textarea:{name:"多行文本",iconv:"icon-textarea"},address:{name:"地址",iconv:"icon-address"}}},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("statisticVisitModel",["$resource",function(e){return e((0,o.apiPath)("statistic/visit/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticBrowserModel",["$resource",function(e){return e((0,o.apiPath)("statistic/browser/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticDeviceModel",["$resource",function(e){return e((0,o.apiPath)("statistic/device/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticKeywordModel",["$resource",function(e){return e((0,o.apiPath)("statistic/keyword/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticProvinceModel",["$resource",function(e){return e((0,o.apiPath)("statistic/province/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticSourceModel",["$resource",function(e){return e((0,o.apiPath)("statistic/source/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticMaxPushNumModel",["$resource",function(e){return e((0,o.apiPath)("statistic/maxpush/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticAddUserEmailModel",["$resource",function(e){return e((0,o.apiPath)("statistic/push/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticPushEmailListModel",["$resource",function(e){return e((0,o.apiPath)("statistic/list/:websiteid"),{websiteid:"@websiteid"})}]),n.models.factory("statisticDeletePushEmailModel",["$resource",function(e){return e((0,o.apiPath)("statistic/rm/:websiteid/:pushid"),{websiteid:"@websiteid",pushid:" @pushid"})}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("smsModel",["$resource",function(e){return e((0,o.apiPath)("sms"))}]),n.models.factory("geeTestSurviveModel",["$resource",function(e){return e((0,o.apiPath)("validate/serverSurvive"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("wechatMpQrcodeModel",["$resource",function(e){return e((0,o.apiPath)("wechat/mp/qrcode"))}])},function(e,t,i){"use strict";var n=i(4),o=i(2);n.models.factory("withdrawListModel",["$resource",function(e){return e((0,o.apiPath)("payment/members/withdraw/list"))}]),n.models.factory("widthdrawCreateModel",["$resource",function(e){return e((0,o.apiPath)("payment/members/withdraw"))}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(t.domainType==c.DOMAIN_TYPE_CHINESE)for(var i in e)e[i].disabled=e[i].type!=c.CONTACT_TPL_TYPE_CHINESE;return e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(1),s=n(r),c=i(3),l=i(2),u=i(4);s["default"].factory("domainPriceService",["domainPriceModel",function(e){return e.query()}]),s["default"].factory("contactPersonTplService",["contactPersonTplModel",function(e){return e.get({page:1,page_size:200})}]),s["default"].factory("getDomainService",function(){return function(e,t){var i=!1,n="",o="";return e.length>=3&&(o=e[e.length-2]+"."+e[e.length-1],c.SLD.indexOf(o)>-1&&(i=!0,n="getAllPrefix"==t?d(e,i):e[e.length-3])),i||(n="getAllPrefix"==t?d(e,i):e[e.length-2],o=e[e.length-1]),{domain:n,suffix:o}}});var d=function(e,t){var i="",n=0;n=t?e.length-2:e.length-1;for(var o=0;o<n;o++)i+=o==n-1?e[o]:e[o]+".";return i};s["default"].factory("getPaymentPlatformListService",function(){return function(e){var t=[],i={};return e.data&&e.data.length>0&&(t=e.data,i=1==t.length?{logo:t[0].logo}:{}),[t,i]}}),s["default"].factory("domainPayService",["$window","$cookies","$q","$modal","customerBuyDomainGenerateUrlModels","$state",function(e,t,i,n,o,r){return{getSendData:function(e,i){var n={memberid:parseInt(t.get(c.ZHUZI_MEMBERID)),domain:e.domain,domain_suffix:e.suffix,type:i,year:e.year.value,contact_tplid:e.contactTpl.id,pay_platform:"",redirect_url:"",remark:""};return i==c.TRANSFRR_BUY_TYPE&&(n.transfer_code=e.key),n},buyDomainGenerateUrl:function(t,s,d,f,p){if(void 0==t||""==t)return"object"==a(e.payDomainWindow)&&null!=e.payDomainWindow&&e.payDomainWindow.hasOwnProperty("close")&&e.payDomainWindow.close(),s.target[0].focus(),void swal("请选择支付方式",null,"warning");var m=document.location.protocol+"//"+document.location.host,g=f.payCallbackHash,h=e.encodeURIComponent(m+"/"+g),b=m+"/pay/result?callback="+h+"&pay_method="+t;d.pay_platform=t,d.redirect_url=b;var v=i.defer();return o({},(0,u.appendConfig)({post:{showErrorTip:!1}})).post({},d).$promise.then(function(t){if("undefined"!=typeof t.gotourl&&""!=t.gotourl){if(null==e.payDomainWindow)return void swal("您的浏览器禁止了弹出充值窗口，请允许我们网站弹出窗口。",null,"warning");e.payDomainWindow.location.href=t.gotourl,e.payDomainWindow.focus(),n.open({backdrop:"static",templateUrl:(0,l.staticPath)("tpl/domain/buy/buyResultSelect.html"),controller:["$scope","$state","$modalInstance",function(e,t,i){e.payFinishAction=function(){p==c.RENEW_BUY_TYPE?(i.close(),swal({title:"<h4>续费中，若5分钟后续费未成功，请联系管理员！</h4>",text:'<span class="fa fa-spinner"></span>',timer:5e3,showConfirmButton:!1,html:!0},function(){swal({title:"<h3>续费成功！</h3>",text:null,type:"success",showConfirmButton:!0,html:!0}),t.go(f.success)})):(t.go(f.success),i.close())},e.closeAction=function(){i.close()}}],resolve:{}})}},function(t){e.payDomainWindow.close(),swal({title:"error",text:"支付失败！"+t.data.errmsg,type:"error",allowEscapeKey:!1,confirmButtonText:"返回"},function(){r.go(f.error)})}),v.promise}}}]),s["default"].factory("selectContactTplService",["$modal","contactPersonTplModel",function(e,t){return{open:function(i,n,a,r,s){e.open({size:"lg",templateUrl:(0,l.staticPath)("/tpl/domain/contactTpl/selectTpl.html"),controller:["$scope","$modalInstance","$state",function(e,l,u){e.selectTplInit=function(){e.filter=a,e.DOMAIN_TYPE_CHINESE=c.DOMAIN_TYPE_CHINESE,e.currentPage=1,e.pageSize=9,e.contactTpl={list:[],total:0},e.getContactTplList(e.currentPage,e.pageSize),e.copyUserData=angular.copy(i),e.userData=i},e.getContactTplList=function(i,n){t.get({page:i,page_size:n||8}).$promise.then(function(t){t.list&&t.list.length>0&&(a&&a.isFilter&&(t.list=o(t.list,a)),t.list=t.list.sort(function(e,t){return t.id-e.id}),e.contactTpl=t)})},e.selectTplAction=function(t){return t.disabled?void swal("温馨提示",'国内域名不可选择类型为"国际域名"的模板，请选择类型为"国内域名"的模板！',"warning"):void(e.copyUserData.contactTpl=t)},e.tplType=function(e){switch(e){case 0:return"国际域名";case 1:return"国内域名";default:return"未知"}},e.TPL_STATUS_SUCCESS=2,e.tplState=function(e){switch(e){case 0:return"待审核";case 1:return"审核中";case 2:return"审核通过";case 3:return"审核失败";default:return"未知"}},e.addTplAction=function(){u.go("domainManage.contactTpl.tpl",r),l.close(),s instanceof Function&&s()},e.sure=function(){n(e.copyUserData.contactTpl),l.close()},e.cancel=function(){n(e.userData.contactTpl),l.close()}}]})}}}]),s["default"].factory("selectDomainService",["$modal","domainListModel",function(e,t){return{open:function(i,n){e.open({size:"lg",templateUrl:(0,l.staticPath)("/tpl/domain/list/selectDomain.html"),controller:["$scope","$modalInstance",function(e,o){e.selectDomainInit=function(){e.currentPage=1,e.pageSize=9,e.domains={list:[],total:0},e.getDomainList(e.currentPage,e.pageSize),e.copyUserData=angular.copy(i),e.userData=angular.copy(i)},e.getDomainList=function(i,n){t.get({page:i,page_size:n||8}).$promise.then(function(t){t.list&&t.list.length>0&&(t.list=t.list.sort(function(e,t){return t.doaminid-e.doaminid}),e.domains=t)})},e.selectDomainAction=function(t){e.copyUserData.domain=t},e.DOMAIN_REGISTER_ING=c.DOMAIN_REGISTER_ING,e.DOMAIN_REGISTER_FAIL=c.DOMAIN_REGISTER_FAIL,e.IDENTIFY_ING=c.IDENTIFY_ING,e.IDENTIFY_SUCCESS=c.IDENTIFY_SUCCESS,e.IDENTIFY_FAIL=c.IDENTIFY_FAIL,e.domainStatus=function(e){switch(e){case-1:return"域名注册失败";case 0:return"域名注册中";case 1:return"实名认证中";case 2:return"实名认证通过";case 3:return"实名认证失败";default:return"未知"}},e.sure=function(){n(e.copyUserData.domain),o.close()},e.cancel=function(){n(e.userData.domain),o.close()}}]})}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(3);a["default"].factory("integralBuyService",["$cookies","integralBuyGoodModel","$state",function(e,t,i){return function(n){var o={memberid:parseInt(e.get(r.ZHUZI_MEMBERID)),siteid:n.siteInfo.siteid,goods_logo:n.logo,remark:"","extends":{}};t.post({},o).$promise.then(function(){swal({title:'<span class="sweetalert-text">积分购买站点成功！</span>',text:null,type:"success",showConfirmButton:!0,confirmButtonText:"确定",html:!0}),i.go("integralShop.shop")},function(e){swal("错误","积分购买站点失败！"+e.data.errmsg,"error")})}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].factory("cashbackRules",["getCashbackRulesModel",function(e){return e.get()}]),a["default"].factory("getMemberBalanceService",["memberBalanceModel",function(e){t={};var t={get:function(t){return e.get({memberid:t})}};return t}]),a["default"].factory("baiduShareService",["$window","$rootScope",function(e,t){return t.isShare=!1,{getShareDom:function(i,n){t.isShare||(jQuery("body").append('<div class="bdsharebuttonbox tuiguang-true-btns pos-abt" style="opacity: 0;top:0" data-tag="share_1"><a class="bds_weixin" data-cmd="weixin"></a><a class="bds_sqq" data-cmd="sqq"></a><a class="popup_mail" data-cmd="mail"></a><a class="bds_qzone" data-cmd="qzone"></a><a class="bds_tsina" data-cmd="tsina"></a></div>'),e._bd_share_config={common:{bdText:i.info.logo_text,bdUrl:"http://"+i.info.uc_domain+"/m/"+n.memberid,bdPic:i.info.logo},share:[{bdSize:16}]},t.isShare=!0,jQuery.getScript("http://bdimg.share.baidu.com/static/api/js/share.js"))},simulateShareClick:function(e){switch(e){case"weixin":document.getElementsByClassName("bds_weixin")[0].click();break;case"qq":document.getElementsByClassName("bds_sqq")[0].click();break;case"mail":document.getElementsByClassName("popup_mail")[0].click();break;case"qzone":document.getElementsByClassName("bds_qzone")[0].click();break;case"tsina":document.getElementsByClassName("bds_tsina")[0].click()}}}}])},function(e,t){"use strict";angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout",function(e,t,i){var n=[],o=!1,a=t.defer();this.load=function(e){e=angular.isArray(e)?e:e.split(/\s+/);var t=this;return o||(o=a.promise),angular.forEach(e,function(e){o=o.then(function(){return e.indexOf(".css")>=0?t.loadCSS(e):t.loadScript(e)})}),a.resolve(),o},this.loadScript=function(o){if(n[o])return n[o].promise;var a=t.defer(),r=e[0].createElement("script");return r.src=o,r.onload=function(e){i(function(){a.resolve(e)})},r.onerror=function(e){i(function(){a.reject(e)})},e[0].body.appendChild(r),n[o]=a,a.promise},this.loadCSS=function(o){if(n[o])return n[o].promise;var a=t.defer(),r=e[0].createElement("link");return r.rel="stylesheet",r.type="text/css",r.href=o,r.onload=function(e){i(function(){a.resolve(e)})},r.onerror=function(e){i(function(){a.reject(e)})},e[0].head.appendChild(r),n[o]=a,a.promise}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(2);a["default"].factory("userService",["userModel",function(e){var t=e.get();return{get:function(){return t},set:function(e){t=e}}}]),a["default"].factory("thirdPartyBindService",["$window",function(e){return{bindAction:function(t){switch(t){case"weixin":e.open("/weixin/login"+location.search,"weixinLogin","width=640,height=480,left=100,top=100,menubar=no");break;case"weibo":e.open("/weibo/login"+location.search,"weiboLogin","width=640,height=480,left=100,top=100,menubar=no");break;case"qq":e.open("/tencent/login"+location.search,"qqLogin","width=640,height=480,left=100,top=100,menubar=no")}}}}]),a["default"].factory("checkBindCallbackService",["$resource",function(e){return{calback:function(t,i,n){if("undefined"!=typeof t.data.type){var o="";switch(t.data.type){case"wechat":o=(0,r.apiPath)("wechat/user");break;case"qq":o=(0,r.apiPath)("tencent/user");break;case"weibo":o=(0,r.apiPath)("weibo/user")}e(o,{},{post:{method:"POST",headers:{"X-Parse-Application-AccessToken":i.access_token}}}).post({},{openid:t.data.openid},function(){swal({title:"OK",text:"绑定账号成功",type:"success",allowEscapeKey:!1,confirmButtonText:"/"==n?"进入用户中心":"返回"},function(){location.href=n})},function(e){swal({title:"ERROR",text:"绑定失败!"+e.data.errmsg,type:"error",allowEscapeKey:!1,confirmButtonText:"返回"},function(){location.href=n})})}else location.href=n}}}])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);i(6),a["default"].factory("websiteService",["websiteModel",function(e){var t=null,i={fetch:function(i){return t=e.get({websiteid:i})},get:function(){return t},put:function(t){return e.update({websiteid:t.siteid},t)},set:function(e){for(var i in e)t[i]=e[i]}};return i}]),a["default"].factory("clearCreateSiteSessionStorage",function(){return function(){sessionStorage.removeItem("createSite-stepIndex"),sessionStorage.removeItem("createSite-siteInfo"),sessionStorage.removeItem("createSite-tplid")}}),a["default"].factory("vodIframeService",function(){return function(e){e="<zhuzi>"+e+"</zhuzi>";var t=$(e).html(),i=$(e).find("zvod");return i.length>0&&i.each(function(e){for(var i=this.outerHTML,n=i;i.indexOf("zvod")>0;)i=i.replace("zvod","iframe");t=t.replace(n,i)}),t}}),a["default"].factory("vodChangeService",function(){return function(e){e="<zhuzi>"+e+"</zhuzi>";var t=$(e).html(),i=$(e).find("iframe");return i.length>0&&i.each(function(e){var i=this.outerHTML,n=i;if(0==this.src.indexOf("http://player.youku.com")||0==this.src.indexOf("http://v.qq.com")||this.src.indexOf("http://www.tudou.com/")||0==this.src.indexOf("https://player.youku.com")||0==this.src.indexOf("https://v.qq.com/")||this.src.indexOf("https://www.tudou.com/"))for(;i.indexOf("iframe")>0;)i=i.replace("iframe","zvod");t=t.replace(n,i)}),t}}),a["default"].factory("qrCodeService",function(){return function(e,t,i){new QRCode(e.get(0),{text:t,width:i,height:i,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o);a["default"].factory("isEmail",function(){return function(e){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/i.test(e)}}),a["default"].factory("isMobile",function(){return function(e){return/^1[3|4|5|7|8]\d{9}$/i.test(e)}}),a["default"].factory("isPad",function(){return function(){return"ipad"==navigator.userAgent.toLowerCase().match(/ipad/i)}}),a["default"].factory("isPhone",function(){return function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}}),a["default"].factory("validDomain",function(){return function(e){return/^[a-z0-9_]{4,20}$/i.test(e)}}),a["default"].factory("isChinese",function(){return function(e){return!/[^\u4e00-\u9fa5]/.test(e)}}),a["default"].factory("isValidDomain",function(){return function(e){return/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/i.test(e)}}),a["default"].factory("isSubDomain",function(){return function(e){return/^[a-zA-Z0-9.*@\-]{1,100}$/i.test(e)}}),a["default"].factory("timestampToString",function(){return function(e){e=1e3*parseInt(e);var t=new Date(e),i=t.getFullYear()+"-";return i=i+(t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",i=i+(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=i+(t.getHours()<10?"0"+t.getHours():t.getHours())+":",i=i+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()}}),a["default"].factory("dateIntToString",function(){return function(e){return e.toString().replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")}}),a["default"].factory("isMobilBrowser",function(){return function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}})},function(e,t,i){t=e.exports=i(13)(),t.push([e.id,".do-color-group{border-radius:100%;height:22px;width:22px;border:1px solid #ccc;cursor:pointer}.do-color-list{display:none;position:absolute;top:32px;z-index:9;background-color:#f5f5f5;width:250px;padding:6px;border:1px solid #ccc}.do-color-list ul{overflow:hidden;padding:0;margin:0}.do-color-list li{float:left;width:12%;position:relative;padding:1px!important}.do-color-list li>div{padding-top:100%}",""])},function(e,t,i){t=e.exports=i(13)(),t.push([e.id,'/*!\n * Cropper v0.1.0\n * https://github.com/fengyuanchen/cropperjs\n *\n * Copyright (c) 2015 Fengyuan Chen\n * Released under the MIT license\n *\n * Date: 2015-09-25T09:19:58.017Z\n */.cropper-container{position:relative;overflow:hidden;font-size:0;line-height:0;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;direction:ltr!important;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.cropper-container img{display:block;width:100%;min-width:0!important;max-width:none!important;height:100%;min-height:0!important;max-height:none!important;image-orientation:0deg!important}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal{position:absolute;top:0;right:0;bottom:0;left:0}.cropper-drag-box{background-color:#fff;filter:alpha(opacity=0);opacity:0}.cropper-modal{background-color:#000;filter:alpha(opacity=50);opacity:.5}.cropper-view-box{display:block;width:100%;height:100%;overflow:hidden;outline:1px solid #39f;outline-color:rgba(51,153,255,.75)}.cropper-dashed{position:absolute;display:block;filter:alpha(opacity=50);border:0 dashed #eee;opacity:.5}.cropper-dashed.dashed-h{top:33.33333%;left:0;width:100%;height:33.33333%;border-top-width:1px;border-bottom-width:1px}.cropper-dashed.dashed-v{top:0;left:33.33333%;width:33.33333%;height:100%;border-right-width:1px;border-left-width:1px}.cropper-center{position:absolute;top:50%;left:50%;display:block;width:0;height:0;filter:alpha(opacity=75);opacity:.75}.cropper-center:after,.cropper-center:before{position:absolute;display:block;content:" ";background-color:#eee}.cropper-center:before{top:0;left:-3px;width:7px;height:1px}.cropper-center:after{top:-3px;left:0;width:1px;height:7px}.cropper-face,.cropper-line,.cropper-point{position:absolute;display:block;width:100%;height:100%;filter:alpha(opacity=10);opacity:.1}.cropper-face{top:0;left:0;background-color:#fff}.cropper-line{background-color:#39f}.cropper-line.line-e{top:0;right:-3px;width:5px;cursor:e-resize}.cropper-line.line-n{top:-3px;left:0;height:5px;cursor:n-resize}.cropper-line.line-w{top:0;left:-3px;width:5px;cursor:w-resize}.cropper-line.line-s{bottom:-3px;left:0;height:5px;cursor:s-resize}.cropper-point{width:5px;height:5px;background-color:#39f;filter:alpha(opacity=75);opacity:.75}.cropper-point.point-e{top:50%;right:-3px;margin-top:-3px;cursor:e-resize}.cropper-point.point-n{top:-3px;left:50%;margin-left:-3px;cursor:n-resize}.cropper-point.point-w{top:50%;left:-3px;margin-top:-3px;cursor:w-resize}.cropper-point.point-s{bottom:-3px;left:50%;margin-left:-3px;cursor:s-resize}.cropper-point.point-ne{top:-3px;right:-3px;cursor:ne-resize}.cropper-point.point-nw{top:-3px;left:-3px;cursor:nw-resize}.cropper-point.point-sw{bottom:-3px;left:-3px;cursor:sw-resize}.cropper-point.point-se{right:-3px;bottom:-3px;width:20px;height:20px;cursor:se-resize;filter:alpha(opacity=100);opacity:1}.cropper-point.point-se:before{position:absolute;right:-50%;bottom:-50%;display:block;width:200%;height:200%;content:" ";background-color:#39f;filter:alpha(opacity=0);opacity:0}@media (min-width:768px){.cropper-point.point-se{width:15px;height:15px}}@media (min-width:992px){.cropper-point.point-se{width:10px;height:10px}}@media (min-width:1200px){.cropper-point.point-se{width:5px;height:5px;filter:alpha(opacity=75);opacity:.75}}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-invisible{filter:alpha(opacity=0);opacity:0}.cropper-hide{position:absolute;display:block;width:0;height:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""])},function(e,t,i){t=e.exports=i(13)(),t.push([e.id,".biu-instance{top:0;left:0;right:0;position:fixed;background-color:#fff;padding:10px 0;border-bottom:1px solid #e2e2e2;z-index:1;animation-name:biu-down;animation-duration:.3s;font-size:1rem;transform:translateY(-100%);transition:transform .3s ease}.biu-instance.biu-pop{width:400px;max-width:80%;left:50%;right:none;transform:translateX(-50%) translateY(-110%);box-shadow:0 1px 2px rgba(0,0,0,.5);border-bottom:none;border-radius:0 0 2px 2px}.biu-main{padding:0 40px 0 20px;word-wrap:break-word}.biu-close{float:right;cursor:pointer;width:20px;margin-right:10px;border-radius:2px;text-align:center}.biu-shown{transform:translateY(0)}.biu-shown.biu-pop{transform:translateX(-50%) translateY(0)}.biu-info,.biu-success,biu-warning{color:#fff}.biu-default{color:#333;background-color:#fff;border-color:#e2e2e2}.biu-default .biu-close:hover{background-color:#e2e2e2}.biu-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.biu-success .biu-close:hover{background-color:#d6e9c6}.biu-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.biu-info .biu-close:hover{background-color:#bce8f1}.biu-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.biu-warning .biu-close:hover{background-color:#faebcc}.biu-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.biu-danger .biu-close:hover{background-color:#ebccd1}",""])},function(e,t,i){t=e.exports=i(13)(),t.push([e.id,'/*!\n * ui-select\n * http://github.com/angular-ui/ui-select\n * Version: 0.19.8 - 2017-04-18T05:43:43.881Z\n * License: MIT\n */.ui-select-highlight{font-weight:700}.ui-select-offscreen{clip:rect(0 0 0 0)!important;width:1px!important;height:1px!important;border:0!important;margin:0!important;padding:0!important;overflow:hidden!important;position:absolute!important;outline:0!important;left:0!important;top:0!important}.selectize-control.single>.selectize-input>input,.selectize-control>.selectize-dropdown{width:100%}.ui-select-choices-row:hover{background-color:#f5f5f5}.ng-dirty.ng-invalid>a.select2-choice{border-color:#d44950}.select2-result-single{padding-left:0}.select2-locked>.select2-search-choice-close,.select-locked>.ui-select-match-close{display:none}body>.select2-container.open{z-index:9999}.ui-select-container.select2.direction-up .ui-select-match,.ui-select-container[theme=select2].direction-up .ui-select-match{border-radius:0 0 4px 4px}.ui-select-container.select2.direction-up .ui-select-dropdown,.ui-select-container[theme=select2].direction-up .ui-select-dropdown{border-radius:4px 4px 0 0;border-top-width:1px;border-top-style:solid;box-shadow:0 -4px 8px rgba(0,0,0,.25);margin-top:-4px}.ui-select-container.select2.direction-up .ui-select-dropdown .select2-search,.ui-select-container[theme=select2].direction-up .ui-select-dropdown .select2-search{margin-top:4px}.ui-select-container.select2.direction-up.select2-dropdown-open .ui-select-match,.ui-select-container[theme=select2].direction-up.select2-dropdown-open .ui-select-match{border-bottom-color:#5897fb}.ui-select-container[theme=select2] .ui-select-dropdown .ui-select-search-hidden,.ui-select-container[theme=select2] .ui-select-dropdown .ui-select-search-hidden input{opacity:0;height:0;min-height:0;padding:0;margin:0;border:0}.selectize-input.selectize-focus{border-color:#007fbb!important}.selectize-control.multi>.selectize-input>input{margin:0!important}.ng-dirty.ng-invalid>div.selectize-input{border-color:#d44950}.ui-select-container[theme=selectize].direction-up .ui-select-dropdown{box-shadow:0 -4px 8px rgba(0,0,0,.25);margin-top:-2px}.ui-select-container[theme=selectize] input.ui-select-search-hidden{opacity:0;height:0;min-height:0;padding:0;margin:0;border:0;width:0}.btn-default-focus{color:#333;background-color:#ebebeb;border-color:#adadad;text-decoration:none;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ui-select-bootstrap .ui-select-toggle{position:relative}.ui-select-bootstrap .ui-select-toggle>.caret{position:absolute;height:10px;top:50%;right:10px;margin-top:-2px}.input-group>.ui-select-bootstrap.dropdown{position:static}.input-group>.ui-select-bootstrap>input.ui-select-search.form-control{border-radius:4px 0 0 4px}.input-group>.ui-select-bootstrap>input.ui-select-search.form-control.direction-up{border-radius:4px 0 0 4px!important}.ui-select-bootstrap .ui-select-search-hidden{opacity:0;height:0;min-height:0;padding:0;margin:0;border:0}.ui-select-bootstrap>.ui-select-match>.btn{text-align:left!important}.ui-select-bootstrap>.ui-select-match>.caret{position:absolute;top:45%;right:15px}.ui-select-bootstrap>.ui-select-choices,.ui-select-bootstrap>.ui-select-no-choice{width:100%;height:auto;max-height:200px;overflow-x:hidden;margin-top:-1px}body>.ui-select-bootstrap.open{z-index:1000}.ui-select-multiple.ui-select-bootstrap{height:auto;padding:3px 3px 0}.ui-select-multiple.ui-select-bootstrap input.ui-select-search{background-color:transparent!important;border:none;outline:0;height:1.666666em;margin-bottom:3px}.ui-select-multiple.ui-select-bootstrap .ui-select-match .close{font-size:1.6em;line-height:.75}.ui-select-multiple.ui-select-bootstrap .ui-select-match-item{outline:0;margin:0 3px 3px 0}.ui-select-multiple .ui-select-match-item{position:relative}.ui-select-multiple .ui-select-match-item.dropping .ui-select-match-close{pointer-events:none}.ui-select-multiple:hover .ui-select-match-item.dropping-before:before{content:"";position:absolute;top:0;right:100%;height:100%;margin-right:2px;border-left:1px solid #428bca}.ui-select-multiple:hover .ui-select-match-item.dropping-after:after{content:"";position:absolute;top:0;left:100%;height:100%;margin-left:2px;border-right:1px solid #428bca}.ui-select-bootstrap .ui-select-choices-row>span{cursor:pointer;display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.ui-select-bootstrap .ui-select-choices-row>span:focus,.ui-select-bootstrap .ui-select-choices-row>span:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.ui-select-bootstrap .ui-select-choices-row.active>span{color:#fff;text-decoration:none;outline:0;background-color:#428bca}.ui-select-bootstrap .ui-select-choices-row.active.disabled>span,.ui-select-bootstrap .ui-select-choices-row.disabled>span{color:#777;cursor:not-allowed;background-color:#fff}.ui-select-match.ng-hide-add,.ui-select-search.ng-hide-add{display:none!important}.ui-select-bootstrap.ng-dirty.ng-invalid>button.btn.ui-select-match{border-color:#d44950}.ui-select-container[theme=bootstrap].direction-up .ui-select-dropdown{box-shadow:0 -4px 8px rgba(0,0,0,.25)}.ui-select-bootstrap .ui-select-match-text{width:100%;padding-right:1em}.ui-select-bootstrap .ui-select-match-text span{display:inline-block;width:100%;overflow:hidden}.ui-select-bootstrap .ui-select-toggle>a.btn{position:absolute;height:10px;right:10px;margin-top:-2px}.ui-select-refreshing.glyphicon{position:absolute;right:0;padding:8px 27px}@-webkit-keyframes ui-select-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes ui-select-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.ui-select-spin{-webkit-animation:ui-select-spin 2s infinite linear;animation:ui-select-spin 2s infinite linear}.ui-select-refreshing.ng-animate{-webkit-animation:none 0s}',""]);
},function(e,t){e.exports='<button class="btn btn-primary" type=button ng-click=sendCodeAction() ng-disabled=sendProcessing>{{smsBtnText}}</button>'},function(e,t){e.exports='<div class="modal-header no-border file-manage"> <h3 class=modal-title>文件管理</h3> </div> <div class="modal-body no-border"> <tabset class=tab-container> <tab heading=上传文件 class=tab-upload-file ng-click="setTab(\'upload\')"> <div class="panel wrapper-lg text-center no-shadow" ng-show="isTab(\'upload\')" nv-file-drop uploader=uploader> <div class=panel-heading ng-show="images.length > 0 && isImage(images[0])"> <div class=inline style=max-width:200px;overflow:hidden> <img ng-if=isAllImage(images[0]) class=w-full ng-src="{{isImage(images[0]) ?images[0]+\'?imageView2/0/w/390\' :images[0]}}"> </div> </div> <div class=panel-body> <div class="row m-b"> <div class="btn btn-primary" ng-class="{\'btn-lg\':!imageResizeUrl}" style=position:relative><i class="fa fa-cloud-upload"></i>&nbsp; 上传文件 <input class=do-upload-input type=file name=file nv-file-select="" uploader=uploader multiple=multiple value="" style="position:absolute;right:0;top:0;width:95px;height:40px;font-size:30px;opacity:0;filter:alpha(opacity=0)"> </div> <div ng-if=isImage(imageResizeUrl) class="btn btn-primary do-resize-btn" style=position:relative;width:130px> <i class="fa fa-cut"></i>&nbsp; 裁剪 <input type=button ng-click=toResizeImg() style=position:absolute;right:0;top:0;font-size:30px;width:130px;opacity:0> </div> </div> <p>上传文件的格式要求： </p> <small class=block> jpg,png,gif,ico,svg；mp3,mp4,wma；text,doc,pdf,ppt,excel等 </small> <small class="block text-danger"> 注意：单个文件最大支持10M </small> </div> </div> <div class="panel no-shadow" ng-show="isTab(\'uploading\')"> <div class=panel-body> <div class=row> <div class="col-sm-4 col-md-3 col-lg-3"> <div class="panel m-b-none b-a b-2x b-dashed bg-white text-center" style=height:160px;overflow:hidden> <div class=do-middle> <div class=do-middle-center> <input type=file nv-file-select uploader=uploader multiple=multiple style="position:absolute;right:0;top:0;font-size:30px;width:100%;height:100%;opacity:0;cursor:pointer;filter:alpha(opacity=0)"><i class="fa fa-cloud-upload"></i>&nbsp;上传文件 </div> </div> </div> </div> <div class="col-sm-4 col-md-3 col-lg-3 m-b-sm" ng-repeat="uploadFile in uploader.queue track by $index"> <div class="panel b-a m-b-none" ng-class="{\'panel-primary\':inSelectImage(uploadFile.fileItem.url)}"> <div class="panel-heading no-border text-ellipsis"> <span ng-show=uploadFile.isUploaded ng-bind=uploadFile.fileItem.desc></span> <div id=progress_{{$index}} ng-show=uploadFile.isUploading> <progressbar animate=false value=uploadFile.progress type=success class=progress-sm><b>{{uploadFile.progress}}%</b></progressbar> <br/>{{uploadFile.speed}} </div> </div> <div class="panel-body wrapper-sm no-padder" ng-show=uploadFile.isUploaded style=height:120px;overflow:hidden ng-click=toggleSelectImage(uploadFile.fileItem.url)> <img ng-show=uploadFile.fileItem.url class=w-full ng-src={{imgSrc(uploadFile.fileItem)}} ng-class="{\'imgWidth\':!isAllImage(uploadFile.fileItem.url)}" data-num={{$index}} onload=\'document.getElementById("progress_"+this.getAttribute("data-num")).style.display="none"\' onerror=\'document.getElementById("progress_"+this.getAttribute("data-num")).style.display="none"\'> </div> <div class="panel-footer text-center wrapper-xs" ng-if="isAllImage(uploadFile.fileItem.url) && uploadFile.isUploaded && inSelectImage(uploadFile.fileItem.url)"> <button class="btn btn-sm btn-default"> <i class="fa fa-cut" ng-click=resizeImage(uploadFile.fileItem.url) title=裁剪></i> </button> </div> </div> </div> </div> </div> </div> </tab> <tab heading=裁剪 class=tab-resize-img ng-if="isTab(\'resizeImage\')"> <div class="panel no-shadow m-b-none"> <div class="panel-body w-full"> <div image-resize class=block> <img ng-src={{imageResizeUrl}} ng-if="imageResizeUrl.length > 0" class=w-full> </div> </div> <div class="panel-footer bg-white text-center no-border"> <ul class="nav nav-pills nav-xs inline"> <li ng-repeat="aspectRatio in aspectRatioList" class=bg-default ng-click=selectAspect(aspectRatio.value);setImgAspectRatio(aspectRatio.value); ng-class="{\'active\':ratio == aspectRatio.value}"> <a>{{aspectRatio.name}}</a> </li> </ul> <div class=text-center> <button type=button class="btn btn-primary" ng-click=getCanvasData($event)><i class="fa fa-cut"></i>&nbsp;确定裁剪 </button> </div> </div> </div> </tab> <tab heading=我的文件 class=tab-my-file ng-click="setTab(\'myImage\');selectTag(0);selectType(fileType);apiGetMyFileList(0);selectMCategory(0);"> <div class="hbox hbox-auto-xs"> <div class="col w b m-b"> <div class=list-group> <a ng-if="isShowMyCategory(\'\')" class="list-group-item hover-anchor" ng-class="{\'hover\':isType(\'\')}" ng-click="selectType(\'\');selectTag(0);apiGetMyFileList(0);selectMCategory(0);setTab(\'myImage\');"> <span class="block text-ellipsis">全部文件</span> </a> <div class=wrapper-sm><h5 class=font-bold>分类</h5></div> <a ng-if="isShowMyCategory(\'image\')" class="list-group-item hover-anchor" ng-class="{\'hover\':isType(\'image\')}" ng-click="selectType(\'image\');selectTag(0);apiGetMyFileList(0);selectMCategory(0);resizeImage(\'\');setTab(\'myImage\');"> <span class="block text-ellipsis">图片</span> </a> <a ng-if="isShowMyCategory(\'video\')" class="list-group-item hover-anchor" ng-class="{\'hover\':isType(\'video\')}" ng-click="selectType(\'video\');selectTag(0);apiGetMyFileList(0);selectMCategory(0);resizeImage(\'\');setTab(\'myImage\');"> <span class="block text-ellipsis">视频</span> </a> <a ng-if="isShowMyCategory(\'audio\')" class="list-group-item hover-anchor" ng-class="{\'hover\':isType(\'audio\')}" ng-click="selectType(\'audio\');selectTag(0);apiGetMyFileList(0);selectMCategory(0);resizeImage(\'\');setTab(\'myImage\');"> <span class="block text-ellipsis">音频</span> </a> <a ng-if="isShowMyCategory(\'other\')" class="list-group-item hover-anchor" ng-class="{\'hover\':isType(\'other\')}" ng-click="selectType(\'other\');selectTag(0);apiGetMyFileList(0);selectMCategory(0);resizeImage(\'\');setTab(\'myImage\');"> <span class="block text-ellipsis">其他</span> </a> </div> </div> <div class=col> <div class="panel no-shadow m-b-none"> <div class="row padder"> <div class="col-sm-12 col-md-12 col-lg-12"> <div ng-if=!multip> <button class="btn btn-sm btn-default" ng-click=openMultipAction() popover=使用批量管理，您可批量删除文件 popover-trigger=mouseenter popover-placement=right>批量管理 </button> </div> <div ng-if=multip> <button class="btn btn-sm btn-primary" ng-click=deleteMyImg()><i class="glyphicon glyphicon-trash"></i>&nbsp;批量删除 </button> <button class="btn btn-sm btn-default" ng-click=cancelChoose()>取消选择 </button> </div> </div> </div> <div class=panel-body> <div ng-if="mineImages.list.length>0"> <div class=row> <div class="col-sm-12 col-md-4 col-lg-4 m-b-sm" ng-repeat="image in mineImages.list"> <div class="panel b-a m-b-none panel-default" ng-class="{\'panel-primary\':inSelectImage(image.mineimag.url)}"> <div class="panel-heading no-border text-ellipsis"> <b class="label bg-primary pull-right" ng-if=image.isPlay>播放中</b> <span ng-bind=image.mineimag.desc></span> </div> <div class="panel-body no-padder" style=height:120px;overflow:hidden ng-click=toggleSelectImage(image.mineimag.url,image.mineimag.imageid)> <img class=w-full ng-show=image.mineimag.url ng-src={{imgSrc(image.mineimag)}}> </div> <div class="panel-footer text-center wrapper-xs"> <button class="btn btn-sm btn-default" ng-if="isNeedType(image.mineimag,\'video\')" ng-click=previewVideo(image.mineimag.url)> <i class=icon-play_arrow title=播放></i> </button> <button class="btn btn-sm btn-default" ng-if="isNeedType(image.mineimag,\'audio\')" ng-click="previewAudio(mineImages.list,$event);image.isPlay=!image.isPlay"> <i class="icon-play_arrow do-icon-switch" ng-class="[{\'icon-pause\':image.isPlay},{\'icon-play_arrow\':!image.isPlay}]" title=试听></i> </button> <button class="btn btn-sm btn-default" ng-if=isAllImage(image.mineimag.url) ng-click=resizeImage(image.mineimag.url)> <i class="fa fa-cut" title=裁剪></i> </button> <button class="btn btn-sm btn-default" ng-if=!multip zz-tip-input zz-ext-data={{image.mineimag}} ng-model=image.mineimag.desc zz-callback=changeFileName zz-config={{FileTipPrompt}}> <i class="glyphicon glyphicon-edit" title=修改文件名></i> </button> <button class="btn btn-sm btn-default" ng-if=!multip ng-click=deleteMyImg(image.mineimag.imageid)> <i class="glyphicon glyphicon-trash" title=删除></i> </button> <audio loop ng-if="isNeedType(image.mineimag,\'audio\')"> <source ng-src={{trustSelfUrl(image.mineimag.url)}} type=audio/ogg> 您的浏览器不支持 audio 与元素。 </audio> </div> </div> </div> </div> <div class=row> <div class="col-sm-12 col-md-12 col-lg-12 text-center"> <pagination boundary-links=true ng-change=apiGetMyFileList(currentPage,pageSize) total-items=mineImages.total items-per-page=pageSize ng-model=currentPage max-size=10 force-ellipses=true class="pagination-sm m-b-none" previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></pagination> </div> </div> </div> <div ng-if=isShowNoFile class=text-center> <span>还没有相关文件</span> <a class=text-primary ng-click="setTab(\'upload\')">点我添加</a> </div> </div> </div> </div> </div> </tab> </tabset> </div> <div class="modal-footer no-border"> <div class="row text-right"> <div class="col-sm-12 col-md-12 col-lg-12"> <button class="btn btn-default" ng-click=cancelAction()>取消</button> <button class="btn btn-primary" ng-click=completeAction()> <i class=""></i>&nbsp;完成 </button> </div> </div> </div>'},function(e,t){e.exports='<div class="modal-body text-center"> <div class="qrcode-content m-b-xs inline"></div> <p>扫描二维码，可立即查看网站手机效果</p> </div>'},function(e,t){e.exports='<div class="app-header navbar" style=z-index:3 ui-view=nav@entry></div> <div class="fade-in-right-big smooth" ui-view=content@entry></div>'},function(e,t){e.exports='<div class="login container w-xxl w-auto-xs m-t-xxl" ng-init=init();> <div class="m-b-lg m-t-lg"> <blockquote ng-show=error> <p class=text-danger>{{error}}。<a ui-sref=reset class="text-u-l text-danger" ng-if="loginFailedNum>=3">忘记密码？</a> </p> </blockquote> <div class="panel panel-default m-b-xxl"> <div class="panel-heading font-bold m-b-xs">登录</div> <div class=panel-body> <form name=loginForm class=form-validation novalidate ng-submit=loginAction(loginData)> <div class=form-group> <label>手机号/邮箱</label> <input type=text placeholder=请在此输入手机号/邮箱 class=form-control name=username ng-model=loginData.username ui-validate="{valid:\'isValidUsername($value)\'}" required> <span class="help-block m-b-none text-danger" ng-show="loginForm.username.$touched && loginForm.username.$error.valid"> <i class="fa fa-exclamation-circle fa-fw"></i>请输入正确的手机号/邮箱</span> </div> <div class="form-group m-b-md"> <label>输入密码</label> <input class=form-control type=password autocomplete=off name=password value="" ng-model=loginData.password ng-minlength=6 ng-maxlength=16 placeholder=输入密码 required> <span class="help-block m-b-none text-danger" ng-show="loginForm.password.$touched && loginForm.password.$invalid"> <i class="fa fa-exclamation-circle fa-fw"></i> 请输入正确的密码</span> </div> <button ng-if="bindInfo.choice !=\'login\'" type=submit class="btn btn-primary btn-group-justified m-b" ng-disabled=loginForm.$invalid>{{httpProcessing.processing?\'登录中\':\'安全登录\' }} </button> <button ng-if="bindInfo.choice ==\'login\'" type=submit class="btn btn-primary btn-group-justified m-b" ng-disabled=loginForm.$invalid>{{httpProcessing.processing?\'绑定中\':\'立即绑定\' }} </button> </form> </div> <div class="panel-footer no-border" ng-if="!isFromBind && servicerDetail.servicerid == 1"> <div class="text-center m-b"> <p>或使用第三方账号登录</p> </div> <div class="row m-b"> <div class="col-xs-4 text-center"> <a class="btn btn-rounded btn-lg btn-icon btn-default" href=javascript:; ng-click="bindAction(\'weixin\')"> <i class="icon icon-weixin"></i> </a> </div> <div class="col-xs-4 text-center"> <a class="btn btn-rounded btn-lg btn-icon btn-default" href=javascript:; ng-click="bindAction(\'qq\')"> <i class="icon icon-qq"></i> </a> </div> <div class="col-xs-4 text-center"> <a class="btn btn-rounded btn-lg btn-icon btn-default" href=javascript:; ng-click="bindAction(\'weibo\')"> <i class="icon icon-weibo"></i> </a> </div> </div> </div> </div> <div> <button class="btn btn-primary btn-block m-b-sm" ng-if=servicerModules.register.enable ui-sref=account.register>免费注册 </button> <button class="btn btn-default btn-block m-b" ui-sref=account.reset>忘记密码？重置</button> <a ng-if="servicerSetting.info.menu_decode.length>0" ng-href={{servicerSetting.info.menu_decode[0].url}}> <i class="fa fa-long-arrow-left fa-fw m-r-xs"></i> 返回到主站 </a> </div> </div> </div>'},function(e,t){e.exports='<div class="navbar-header app-aside-folded {{app.settings.navbarHeaderColor}}" ng-init="app.settings.asideFolded = true"> <button class="pull-right visible-xs dk" ui-toggle-class=show data-target=.navbar-collapse> <i class="glyphicon glyphicon-cog"></i> </button> <button class="pull-right visible-xs" ui-toggle-class=off-screen data-target=.app-aside ui-scroll=app> <i class="glyphicon glyphicon-align-justify hidden-xs"></i> </button> <a href=#/ class="navbar-brand text-lt block pull-left" style="display:block;padding:0 20px"> <span ng-if=app.settings.asideFolded class=hidden-xs ng-bind=getFirstText(servicerDetail.logo_text,1)></span> <span class="hidden-folded m-l-xs" ng-bind=getFirstText(servicerDetail.logo_text,7)></span> </a> </div> <div class="collapse pos-rlt navbar-collapse box-shadow {{app.settings.navbarCollapseColor}}"> <ul class="nav navbar-nav" ng-if="servicerModules.nav.enable && servicerSetting.info.menu_decode.length && servicerSetting.info.menu_decode.length"> <li ng-repeat="menuItem in servicerSetting.info.menu_decode track by $index"> <a ng-if="menuItem.name!=\'模板\' && !menuItem.disable" ng-href={{menuItem.url}} target="{{menuItem.new_window?\'__blank\':\'_self\'}}">{{menuItem.name}}</a> <a ng-if="menuItem.name==\'模板\' && !menuItem.disable && servicerModules.site_create.enable && servicerModules.site_create.value>0" ng-href={{menuItem.url}} target="{{menuItem.new_window?\'__blank\':\'_self\'}}">{{menuItem.name}}</a> </li> </ul> </div>'},function(e,t){e.exports='<div class="register container w-xxl w-auto-xs" ng-init=init();> <div class="m-b-lg m-t-xl"> <blockquote ng-show=error> <p>{{error}}</p> </blockquote> <div class="panel panel-default m-b-md"> <div class="panel-heading font-bold m-b-xs">注册</div> <div class=panel-body> <form name=registerForm class=form-validation novalidate ng-submit=registerAction(registerData)> <div class=form-group> <label>设置手机号</label> <input type=text class=form-control name=mobile value="" ng-model=registerData.mobile ng-model-options={debounce:500} ui-validate="{valid:\'validMobile($value)\'}" ui-validate-async="{exist:\'mobileRegistered($value)\'}" placeholder=设置手机号 required> <span class="help-block m-b-none text-danger" ng-show="registerForm.mobile.$touched && registerForm.mobile.$error.valid"> <i class="fa fa-exclamation-circle fa-fw"></i>请输入正确的手机号</span> <span class="help-block m-b-none text-danger" ng-show=registerForm.mobile.$error.exist><i class="fa fa-exclamation-circle fa-fw"></i>手机号已注册。 <a ui-sref=login({mobile:existedMobile}) class="text-danger text-u-l">点我登录</a></span> </div> <div class="form-group m-b-md"> <label>输入短信验证码</label> <div class=input-group> <input type=number class=form-control name=code value="" ng-model=registerData.code placeholder=输入短信验证码 required ng-minlength=4 ng-maxlength=4> <span class=input-group-btn> <zz-captcha logo=regcode extend-value={} mobile=registerData.mobile></zz-captcha> </span> </div> <span class="help-block m-b-none text-danger" ng-show="registerForm.code.$touched && registerForm.code.$error.required"> <i class="fa fa-exclamation-circle fa-fw"></i>短信验证码必填</span> <span class="help-block m-b-none text-danger" ng-show="registerForm.code.$touched && (registerForm.code.$error.minlength||registerForm.code.$error.maxlength)"> <i class="fa fa-exclamation-circle fa-fw"></i>请输入合法的验证码</span> </div> <div class=form-group> <label>设置邮箱</label> <input type=email class=form-control name=email ng-model=registerData.email ng-model-options={debounce:500} placeholder=设置邮箱 ui-validate-async="{exist:\'emailRegistered($value)\'}" required> <span class="help-block m-b-none text-danger" ng-show="registerForm.email.$touched && registerForm.email.$error.email"> <i class="fa fa-exclamation-circle fa-fw"></i>请输入正确的邮箱</span> <span class="help-block m-b-none text-danger" ng-show=registerForm.email.$error.exist>邮箱已注册</span> </div> <div class=form-group> <label>设置密码</label> <input type=password class=form-control name=password value="" ng-model=registerData.password placeholder=设置密码 required ng-minlength=6 ng-maxlength=16> <span class="help-block m-b-none text-danger" ng-show="registerForm.password.$touched && registerForm.password.$error.required"><i class="fa fa-exclamation-circle fa-fw"></i>密码不能为空</span> <span class="help-block m-b-none text-danger" ng-show="registerForm.password.$touched && (registerForm.password.$error.minlength||registerForm.password.$error.maxlength)"> <i class="fa fa-exclamation-circle fa-fw"></i>密码长度6-16位之间</span> </div> <div class=form-group> <label>确认密码</label> <input type=password class=form-control name=repassword value="" ng-model=registerData.repassword ui-validate=" \'$value==registerData.password\' " ui-validate-watch="\'registerData.password\'" placeholder=确认密码 required ng-minlength=6 ng-maxlength=16> <span class="help-block m-b-none text-danger" ng-show="registerForm.repassword.$touched && registerForm.repassword.$error.validator"> <i class="fa fa-exclamation-circle fa-fw"></i>两次输入的密码不一致</span> </div> <div class="form-group m-b-md"> <p class=text-xs>注册即代表同意 <a ui-sref=userAgreement target=_blank class=text-primary><b>{{servicerSetting.info.logo_text}}"服务条款"及"法律声明"</b></a> </p> </div> <button ng-if="bindInfo.choice !=\'register\'" type=submit class="btn btn-primary btn-group-justified m-b" ng-disabled=registerForm.$invalid>{{registerForm.$pending?\'注册中\':\'快速注册\' }} </button> <button ng-if="bindInfo.choice ==\'register\'" type=submit class="btn btn-primary btn-group-justified m-b" ng-disabled=registerForm.$invalid>{{registerForm.$pending?\'绑定中\':\'立即绑定\' }} </button> </form> <div class="panel-footer no-border" ng-if="!isFromBind && servicerDetail.servicerid == 1"> <div class="text-center m-b"> <p>第三方账号注册</p> </div> <div class="row m-b"> <div class=col-xs-4> <a class="btn btn-rounded btn-lg btn-icon btn-default" href=javascript:; ng-click=bindWechatAction()> <i class="icon icon-weixin"></i> </a> </div> <div class=col-xs-4> <a class="btn btn-rounded btn-lg btn-icon btn-default" href=javascript:; ng-click=bindWeiboAction()> <i class="icon icon-weibo"></i> </a> </div> <div class=col-xs-4> <a class="btn btn-rounded btn-lg btn-icon btn-default" href=javascript:; ng-click=bindQQAction()> <i class="icon icon-qq"></i> </a> </div> </div> </div> </div> </div> <div> <button ui-sref=account.login class="btn btn-default btn-block m-b">已有账号？登录</button> <a ng-if="servicerSetting.info.menu_decode.length>0" ng-href={{servicerSetting.info.menu_decode[0].url}}> <i class="fa fa-long-arrow-left fa-fw m-r-xs"></i> 返回到主站 </a> </div> </div> </div>'},function(e,t){e.exports='<div class="reset container w-xxl w-auto-xs m-t-xxl" ng-init=init()> <div class="m-b-lg m-t-xxl"> <blockquote ng-show=error> <p>{{error}}</p> </blockquote> <div class="panel panel-default"> <div class="panel-heading font-bold m-b-xs">重置密码</div> <div class=panel-body> <form name=resetForm class=form-validation novalidate ng-submit=resetAction(resetData)> <div class=form-group> <label>输入您的手机号</label> <input type=text name=mobile value="" placeholder=输入您的手机号 ng-model=resetData.mobile class=form-control ui-validate="{valid:\'validMobile($value)\'}" required> <span class="help-block m-b-none text-danger" ng-show="resetForm.mobile.$touched && resetForm.mobile.$error.valid"> <i class="fa fa-exclamation-circle fa-fw"></i>请输入正确的手机号</span> </div> <div class="form-group m-b-md"> <label>输入短信验证码</label> <div class=input-group> <input type=number class=form-control name=smscode value="" ng-model=resetData.smscode placeholder=输入短信验证码 required ng-minlength=4 ng-maxlength=4> <span class=input-group-btn> <zz-captcha logo=regcode extend-value={} mobile=resetData.mobile></zz-captcha> </span> </div> <span class="help-block m-b-none text-danger" ng-show="resetForm.smscode.$touched && resetForm.smscode.$error.required"> <i class="fa fa-exclamation-circle fa-fw"></i>短信验证码必填</span> <span class="help-block m-b-none text-danger" ng-show="resetForm.smscode.$touched && (resetForm.smscode.$error.minlength||resetForm.smscode.$error.maxlength)"><i class="fa fa-exclamation-circle fa-fw"></i>请输入合法的验证码</span> </div> <div class=form-group> <label>新密码</label> <input type=password class=form-control name=password value="" ng-model=resetData.password placeholder=输入新密码,长度6-16位之间 required ng-minlength=6 ng-maxlength=16> <span class="help-block m-b-none text-danger" ng-show="resetForm.password.$touched && resetForm.password.$error.required"><i class="fa fa-exclamation-circle fa-fw"></i>新密码不能为空</span> <span class="help-block m-b-none text-danger" ng-show="resetForm.password.$touched && (resetForm.password.$error.minlength||resetForm.password.$error.maxlength)"><i class="fa fa-exclamation-circle fa-fw"></i>新密码长度6-16位之间</span> </div> <div class="form-group m-b-md"> <label>确认新密码</label> <input type=password class=form-control name=repassword value="" ng-model=resetData.repassword ui-validate=" \'$value==resetData.password\' " ui-validate-watch="\'resetData.password\'" placeholder=确认新密码 required> <span class="help-block m-b-none text-danger" ng-show="resetForm.repassword.$touched && resetForm.repassword.$error.validator"> <i class="fa fa-exclamation-circle fa-fw"></i>两次输入的密码不一致</span> </div> <button type=submit ng-disabled=resetForm.$invalid class="btn btn-primary btn-group-justified m-b-xs" disabled=disabled>重置密码 </button> </form> </div> <div class="panel-footer m-l m-r m-b b box-shadow"> <small class=text-muted><i class="fa fa-exclamation-circle fa-fw"></i>&nbsp;温馨提醒：为保护您的账号安全，重置密码需要验证手机号和邮箱！给您带来的不便请谅解！ </small> </div> </div> <div> <button ui-sref=account.login class="btn btn-default btn-block m-b-sm">登录</button> <a ng-if="servicerSetting.info.menu_decode.length>0" ng-href={{servicerSetting.info.menu_decode[0].url}}> <i class="fa fa-long-arrow-left fa-fw m-r-xs"></i> 返回到主站 </a> </div> </div> </div>'},,,,function(e,t,i){var n=i(154);"string"==typeof n&&(n=[[e.id,n,""]]);i(14)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(155);"string"==typeof n&&(n=[[e.id,n,""]]);i(14)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(156);"string"==typeof n&&(n=[[e.id,n,""]]);i(14)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(157);"string"==typeof n&&(n=[[e.id,n,""]]);i(14)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(16),o=(i(15),i(11)),a=function(e,t,i){function a(e){p&&t.confirmButtonColor&&(f.style.backgroundColor=e)}var c,l,u,d=e||window.event,f=d.target||d.srcElement,p=f.className.indexOf("confirm")!==-1,m=f.className.indexOf("sweet-overlay")!==-1,g=o.hasClass(i,"visible"),h=t.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(p&&t.confirmButtonColor&&(c=t.confirmButtonColor,l=n.colorLuminance(c,-.04),u=n.colorLuminance(c,-.14)),d.type){case"mouseover":a(l);break;case"mouseout":a(c);break;case"mousedown":a(u);break;case"mouseup":a(l);break;case"focus":var b=i.querySelector("button.confirm"),v=i.querySelector("button.cancel");p?v.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=i===f,y=o.isDescendant(i,f);if(!w&&!y&&g&&!t.allowOutsideClick)break;p&&h&&g?r(i,t):h&&g||m?s(i,t):o.isDescendant(i,f)&&"BUTTON"===f.tagName&&sweetAlert.close()}},r=function(e,t){var i=!0;o.hasClass(e,"show-input")&&(i=e.querySelector("input").value,i||(i="")),t.doneFunction(i),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},s=function(e,t){var i=String(t.doneFunction).replace(/\s/g,""),n="function("===i.substring(0,9)&&")"!==i.substring(9,10);n&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};t["default"]={handleButton:a,handleConfirm:r,handleCancel:s},e.exports=t["default"]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(11),o=i(15),a=function(e,t,i){var a=e||window.event,r=a.keyCode||a.which,s=i.querySelector("button.confirm"),c=i.querySelector("button.cancel"),l=i.querySelectorAll("button[tabindex]");if([9,13,32,27].indexOf(r)!==-1){for(var u=a.target||a.srcElement,d=-1,f=0;f<l.length;f++)if(u===l[f]){d=f;break}9===r?(u=d===-1?s:d===l.length-1?l[0]:l[d+1],n.stopEventPropagation(a),u.focus(),t.confirmButtonColor&&o.setFocusStyle(u,t.confirmButtonColor)):13===r?("INPUT"===u.tagName&&(u=s,s.focus()),u=d===-1?s:void 0):27===r&&t.allowEscapeKey===!0?(u=c,n.fireClick(u,a)):u=void 0}};t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(16),o=i(15),a=i(11),r=["error","warning","info","success","input","prompt"],s=function(e){var t=o.getModal(),i=t.querySelector("h2"),s=t.querySelector("p"),c=t.querySelector("button.cancel"),l=t.querySelector("button.confirm");if(i.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),s.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(s),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");a.removeClass(t,u),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!n.isIE8()){var d=function(){for(var i=!1,n=0;n<r.length;n++)if(e.type===r[n]){i=!0;break}if(!i)return logStr("Unknown alert type: "+e.type),{v:!1};var s=["success","error","warning","info"],c=void 0;s.indexOf(e.type)!==-1&&(c=t.querySelector(".sa-icon.sa-"+e.type),a.show(c));var l=o.getInput();switch(e.type){case"success":a.addClass(c,"animate"),a.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(c,"animateErrorIcon"),a.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(c,"pulseWarning"),a.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":l.setAttribute("type",e.inputType),l.value=e.inputValue,l.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){l.focus(),l.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof d)return d.v}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+e.imageUrl+")",a.show(f);var p=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),h=g[0],b=g[1];h&&b?(p=h,m=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":a.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?l.style.display="inline-block":a.hide(l),e.cancelButtonText&&(c.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(l.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(l.style.backgroundColor=e.confirmButtonColor,l.style.borderLeftColor=e.confirmLoadingButtonColor,l.style.borderRightColor=e.confirmLoadingButtonColor,o.setFocusStyle(l,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var v=!!e.doneFunction;t.setAttribute("data-has-done-function",v),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};t["default"]=s,e.exports=t["default"]},function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a,r,s,c=i(11),l=i(16),u=i(15),d=i(173),f=i(174),p=n(f),m=i(29),g=n(m),h=i(176),b=n(h);t["default"]=r=s=function(){function e(e){var i=t;return void 0===i[e]?g["default"][e]:i[e]}var t=arguments[0];if(c.addClass(document.body,"stop-scrolling"),u.resetInput(),void 0===t)return l.logStr("SweetAlert expects at least 1 attribute!"),!1;var i=l.extend({},g["default"]);switch(typeof t){case"string":i.title=t,i.text=arguments[1]||"",i.type=arguments[2]||"";break;case"object":if(void 0===t.title)return l.logStr('Missing "title" argument!'),!1;i.title=t.title;for(var n in g["default"])i[n]=e(n);i.confirmButtonText=i.showCancelButton?"Confirm":g["default"].confirmButtonText,i.confirmButtonText=e("confirmButtonText"),i.doneFunction=arguments[1]||null;break;default:return l.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof t),!1}b["default"](i),u.fixVerticalPosition(),u.openModal(arguments[1]);for(var r=u.getModal(),f=r.querySelectorAll("button"),m=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],h=function(e){return d.handleButton(e,i,r)},v=0;v<f.length;v++)for(var w=0;w<m.length;w++){var y=m[w];f[v][y]=h}u.getOverlay().onclick=h,o=window.onkeydown;var P=function(e){return p["default"](e,i,r)};window.onkeydown=P,window.onfocus=function(){setTimeout(function(){void 0!==a&&(a.focus(),a=void 0)},0)},s.enableButtons()},r.setDefaults=s.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");l.extend(g["default"],e)},r.close=s.close=function(){var e=u.getModal();c.fadeOut(u.getOverlay(),5),c.fadeOut(e,5),c.removeClass(e,"showSweetAlert"),c.addClass(e,"hideSweetAlert"),c.removeClass(e,"visible");var t=e.querySelector(".sa-icon.sa-success");c.removeClass(t,"animate"),c.removeClass(t.querySelector(".sa-tip"),"animateSuccessTip"),c.removeClass(t.querySelector(".sa-long"),"animateSuccessLong");var i=e.querySelector(".sa-icon.sa-error");c.removeClass(i,"animateErrorIcon"),c.removeClass(i.querySelector(".sa-x-mark"),"animateXMark");var n=e.querySelector(".sa-icon.sa-warning");return c.removeClass(n,"pulseWarning"),c.removeClass(n.querySelector(".sa-body"),"pulseWarningIns"),c.removeClass(n.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){
var t=e.getAttribute("data-custom-class");c.removeClass(e,t)},300),c.removeClass(document.body,"stop-scrolling"),window.onkeydown=o,window.previousActiveElement&&window.previousActiveElement.focus(),a=void 0,clearTimeout(e.timeout),!0},r.showInputError=s.showInputError=function(e){var t=u.getModal(),i=t.querySelector(".sa-input-error");c.addClass(i,"show");var n=t.querySelector(".sa-error-container");c.addClass(n,"show"),n.querySelector("p").innerHTML=e,setTimeout(function(){r.enableButtons()},1),t.querySelector("input").focus()},r.resetInputError=s.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=u.getModal(),i=t.querySelector(".sa-input-error");c.removeClass(i,"show");var n=t.querySelector(".sa-error-container");c.removeClass(n,"show")},r.disableButtons=s.disableButtons=function(e){var t=u.getModal(),i=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");i.disabled=!0,n.disabled=!0},r.enableButtons=s.enableButtons=function(e){var t=u.getModal(),i=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");i.disabled=!1,n.disabled=!1},"undefined"!=typeof window?window.sweetAlert=window.swal=r:l.logStr("SweetAlert is a frontend module!"),e.exports=t["default"]},,,,function(e,t){var i;!function(){function e(e){this.mode=u.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,i=this.data.length;t<i;t++){var n=[],o=this.data.charCodeAt(t);o>65536?(n[0]=240|(1835008&o)>>>18,n[1]=128|(258048&o)>>>12,n[2]=128|(4032&o)>>>6,n[3]=128|63&o):o>2048?(n[0]=224|(61440&o)>>>12,n[1]=128|(4032&o)>>>6,n[2]=128|63&o):o>128?(n[0]=192|(1984&o)>>>6,n[1]=128|63&o):n[0]=o,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}function o(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=[],this.length=0}function r(){return"undefined"!=typeof CanvasRenderingContext2D}function s(){var e=!1,t=navigator.userAgent;return/android/i.test(t)&&(e=!0,aMat=t.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(e=parseFloat(aMat[1]))),e}function c(e,t){for(var i=1,n=l(e),o=0,a=h.length;o<=a;o++){var r=0;switch(t){case d.L:r=h[o][0];break;case d.M:r=h[o][1];break;case d.Q:r=h[o][2];break;case d.H:r=h[o][3]}if(n<=r)break;i++}if(i>h.length)throw new Error("Too long data");return i}function l(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,i=this.parsedData.length;t<i;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var i=new e(t);this.dataList.push(i),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,i),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4?this.modules[e+i][t+n]=!0:this.modules[e+i][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=p.getLostPoint(this);(0==i||e>n)&&(e=n,t=i)}return t},createMovieClip:function(e,t,i){var n=e.createEmptyMovieClip(t,i),o=1;this.make();for(var a=0;a<this.modules.length;a++)for(var r=a*o,s=0;s<this.modules[a].length;s++){var c=s*o,l=this.modules[a][s];l&&(n.beginFill(0,100),n.moveTo(c,r),n.lineTo(c+o,r),n.lineTo(c+o,r+o),n.lineTo(c,r+o),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=p.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var n=e[t],o=e[i];if(null==this.modules[n][o])for(var a=-2;a<=2;a++)for(var r=-2;r<=2;r++)a==-2||2==a||r==-2||2==r||0==a&&0==r?this.modules[n+a][o+r]=!0:this.modules[n+a][o+r]=!1}},setupTypeNumber:function(e){for(var t=p.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(var i=0;i<18;i++){var n=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,n=p.getBCHTypeInfo(i),o=0;o<15;o++){var a=!e&&1==(n>>o&1);o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(var o=0;o<15;o++){var a=!e&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,n=this.moduleCount-1,o=7,a=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var s=0;s<2;s++)if(null==this.modules[n][r-s]){var c=!1;a<e.length&&(c=1==(e[a]>>>o&1));var l=p.getMask(t,n,r-s);l&&(c=!c),this.modules[n][r-s]=c,o--,o==-1&&(a++,o=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,i,n){for(var r=o.getRSBlocks(e,i),s=new a,c=0;c<n.length;c++){var l=n[c];s.put(l.mode,4),s.put(l.getLength(),p.getLengthInBits(l.mode,e)),l.write(s)}for(var u=0,c=0;c<r.length;c++)u+=r[c].dataCount;if(s.getLengthInBits()>8*u)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*u)&&(s.put(t.PAD0,8),!(s.getLengthInBits()>=8*u));)s.put(t.PAD1,8);return t.createBytes(s,r)},t.createBytes=function(e,t){for(var i=0,o=0,a=0,r=new Array(t.length),s=new Array(t.length),c=0;c<t.length;c++){var l=t[c].dataCount,u=t[c].totalCount-l;o=Math.max(o,l),a=Math.max(a,u),r[c]=new Array(l);for(var d=0;d<r[c].length;d++)r[c][d]=255&e.buffer[d+i];i+=l;var f=p.getErrorCorrectPolynomial(u),m=new n(r[c],f.getLength()-1),g=m.mod(f);s[c]=new Array(f.getLength()-1);for(var d=0;d<s[c].length;d++){var h=d+g.getLength()-s[c].length;s[c][d]=h>=0?g.get(h):0}}for(var b=0,d=0;d<t.length;d++)b+=t[d].totalCount;for(var v=new Array(b),w=0,d=0;d<o;d++)for(var c=0;c<t.length;c++)d<r[c].length&&(v[w++]=r[c][d]);for(var d=0;d<a;d++)for(var c=0;c<t.length;c++)d<s[c].length&&(v[w++]=s[c][d]);return v};for(var u={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case f.PATTERN000:return(t+i)%2==0;case f.PATTERN001:return t%2==0;case f.PATTERN010:return i%3==0;case f.PATTERN011:return(t+i)%3==0;case f.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case f.PATTERN101:return t*i%2+t*i%3==0;case f.PATTERN110:return(t*i%2+t*i%3)%2==0;case f.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),i=0;i<e;i++)t=t.multiply(new n([1,m.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:return 8;case u.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,n=0;n<t;n++)for(var o=0;o<t;o++){for(var a=0,r=e.isDark(n,o),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var c=-1;c<=1;c++)o+c<0||t<=o+c||0==s&&0==c||r==e.isDark(n+s,o+c)&&a++;a>5&&(i+=3+a-5)}for(var n=0;n<t-1;n++)for(var o=0;o<t-1;o++){var l=0;e.isDark(n,o)&&l++,e.isDark(n+1,o)&&l++,e.isDark(n,o+1)&&l++,e.isDark(n+1,o+1)&&l++,0!=l&&4!=l||(i+=3)}for(var n=0;n<t;n++)for(var o=0;o<t-6;o++)e.isDark(n,o)&&!e.isDark(n,o+1)&&e.isDark(n,o+2)&&e.isDark(n,o+3)&&e.isDark(n,o+4)&&!e.isDark(n,o+5)&&e.isDark(n,o+6)&&(i+=40);for(var o=0;o<t;o++)for(var n=0;n<t-6;n++)e.isDark(n,o)&&!e.isDark(n+1,o)&&e.isDark(n+2,o)&&e.isDark(n+3,o)&&e.isDark(n+4,o)&&!e.isDark(n+5,o)&&e.isDark(n+6,o)&&(i+=40);for(var u=0,o=0;o<t;o++)for(var n=0;n<t;n++)e.isDark(n,o)&&u++;var d=Math.abs(100*u/t/t-50)/5;return i+=10*d}},m={glog:function(e){if(e<1)throw new Error("glog("+e+")");return m.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return m.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)m.EXP_TABLE[g]=1<<g;for(var g=8;g<256;g++)m.EXP_TABLE[g]=m.EXP_TABLE[g-4]^m.EXP_TABLE[g-5]^m.EXP_TABLE[g-6]^m.EXP_TABLE[g-8];for(var g=0;g<255;g++)m.LOG_TABLE[m.EXP_TABLE[g]]=g;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<e.getLength();o++)t[i+o]^=m.gexp(m.glog(this.get(i))+m.glog(e.get(o)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=m.glog(this.get(0))-m.glog(e.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(var o=0;o<e.getLength();o++)i[o]^=m.gexp(m.glog(e.get(o))+t);return new n(i,0).mod(e)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var i=o.getRsBlockTable(e,t);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=i.length/3,a=[],r=0;r<n;r++)for(var s=i[3*r+0],c=i[3*r+1],l=i[3*r+2],u=0;u<s;u++)a.push(new o(c,l));return a},o.getRsBlockTable=function(e,t){switch(t){case d.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case d.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case d.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case d.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},a.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var h=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],b=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n]);return i}var i=this._htOption,n=this._el,o=e.getModuleCount();Math.floor(i.width/o),Math.floor(i.height/o);this.clear();var a=t("svg",{viewBox:"0 0 "+String(o)+" "+String(o),width:"100%",height:"100%",fill:i.colorLight});a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(a),a.appendChild(t("rect",{fill:i.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<o;r++)for(var s=0;s<o;s++)if(e.isDark(r,s)){var c=t("use",{x:String(r),y:String(s)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),a.appendChild(c)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),v="svg"===document.documentElement.tagName.toLowerCase(),w=v?b:r()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function t(e,t){var i=this;if(i._fFail=t,i._fSuccess=e,null===i._bSupportDataURI){var n=document.createElement("img"),o=function(){i._bSupportDataURI=!1,i._fFail&&_fFail.call(i)},a=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)};return n.onabort=o,n.onerror=o,n.onload=a,void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}i._bSupportDataURI===!0&&i._fSuccess?i._fSuccess.call(i):i._bSupportDataURI===!1&&i._fFail&&i._fFail.call(i)}if(this._android&&this._android<=2.1){var i=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,t,o,a,r,s,c,l,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*i;else"undefined"==typeof l&&(arguments[1]*=i,arguments[2]*=i,arguments[3]*=i,arguments[4]*=i);n.apply(this,arguments)}}var o=function(e,t){this._bIsPainted=!1,this._android=s(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(e){var t=this._elImage,i=this._oContext,n=this._htOption,o=e.getModuleCount(),a=n.width/o,r=n.height/o,s=Math.round(a),c=Math.round(r);t.style.display="none",this.clear();for(var l=0;l<o;l++)for(var u=0;u<o;u++){var d=e.isDark(l,u),f=u*a,p=l*r;i.strokeStyle=d?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=d?n.colorDark:n.colorLight,i.fillRect(f,p,a,r),i.strokeRect(Math.floor(f)+.5,Math.floor(p)+.5,s,c),i.strokeRect(Math.ceil(f)-.5,Math.ceil(p)-.5,s,c)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&t.call(this,e)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},o}():function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,i=this._el,n=e.getModuleCount(),o=Math.floor(t.width/n),a=Math.floor(t.height/n),r=['<table style="border:0;border-collapse:collapse;">'],s=0;s<n;s++){r.push("<tr>");for(var c=0;c<n;c++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+a+"px;background-color:"+(e.isDark(s,c)?t.colorDark:t.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),i.innerHTML=r.join("");var l=i.childNodes[0],u=(t.width-l.offsetWidth)/2,d=(t.height-l.offsetHeight)/2;u>0&&d>0&&(l.style.margin=d+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}();i=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H},"string"==typeof t&&(t={text:t}),t)for(var i in t)this._htOption[i]=t[i];"string"==typeof e&&(e=document.getElementById(e)),this._android=s(),this._el=e,this._oQRCode=null,this._oDrawing=new w(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},i.prototype.makeCode=function(e){this._oQRCode=new t(c(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},i.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},i.prototype.clear=function(){this._oDrawing.clear()},i.CorrectLevel=d,window.QRCode=i}()}]);
//# sourceMappingURL=app.js.map